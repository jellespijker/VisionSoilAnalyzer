\hypertarget{class_vision_1_1_segment}{}\section{Vision\+:\+:Segment Class Reference}
\label{class_vision_1_1_segment}\index{Vision\+::\+Segment@{Vision\+::\+Segment}}


{\ttfamily \#include $<$Segment.\+h$>$}



Inheritance diagram for Vision\+:\+:Segment\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=550pt]{class_vision_1_1_segment__inherit__graph}
\end{center}
\end{figure}


Collaboration diagram for Vision\+:\+:Segment\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=550pt]{class_vision_1_1_segment__coll__graph}
\end{center}
\end{figure}
\subsection*{Classes}
\begin{DoxyCompactItemize}
\item 
struct \hyperlink{struct_vision_1_1_segment_1_1_blob}{Blob}
\item 
struct \hyperlink{struct_vision_1_1_segment_1_1_rect}{Rect}
\end{DoxyCompactItemize}
\subsection*{Public Types}
\begin{DoxyCompactItemize}
\item 
enum \hyperlink{class_vision_1_1_segment_ac3ddf2c72ee6333007510b680db1e7dd}{Type\+Of\+Objects} \{ \hyperlink{class_vision_1_1_segment_ac3ddf2c72ee6333007510b680db1e7ddad37a09a08a5a4fdf88cb15f21e5ff28b}{Bright}, 
\hyperlink{class_vision_1_1_segment_ac3ddf2c72ee6333007510b680db1e7dda962a0c0955809f63df036dbd41824c54}{Dark}
 \}
\item 
enum \hyperlink{class_vision_1_1_segment_a330240c08320e72270fac0aa83d5e27e}{Connected} \{ \hyperlink{class_vision_1_1_segment_a330240c08320e72270fac0aa83d5e27ea1fca5ab1c285c0edd2bdc3072cab0c01}{Four}, 
\hyperlink{class_vision_1_1_segment_a330240c08320e72270fac0aa83d5e27eae8e2b0fa6d15448f10cddc0390284a39}{Eight}
 \}
\item 
enum \hyperlink{class_vision_1_1_segment_af3a2b992526eac54bca53e34cf2db4da}{Segmentation\+Type} \{ \hyperlink{class_vision_1_1_segment_af3a2b992526eac54bca53e34cf2db4daae000cfc8d629752d6cdbba0d3d750184}{Normal}, 
\hyperlink{class_vision_1_1_segment_af3a2b992526eac54bca53e34cf2db4daa6ddef558061ee58899a362608a5b163b}{Lab\+Neural\+Net}, 
\hyperlink{class_vision_1_1_segment_af3a2b992526eac54bca53e34cf2db4daa0291c0ff93e52e8e78f86698b0288353}{Graph\+Min\+Cut}
 \}
\item 
typedef struct \hyperlink{struct_vision_1_1_segment_1_1_rect}{Vision\+::\+Segment\+::\+Rect} \hyperlink{class_vision_1_1_segment_af9428422a82edaab8a1e5ba59acc8c16}{Rect\+\_\+t}
\item 
typedef std\+::vector$<$ \hyperlink{class_vision_1_1_segment_af9428422a82edaab8a1e5ba59acc8c16}{Vision\+::\+Segment\+::\+Rect\+\_\+t} $>$ \hyperlink{class_vision_1_1_segment_aaaa7a3b37f6fa4402bc1309e9bf74bec}{Rect\+List\+\_\+t}
\item 
typedef struct \hyperlink{struct_vision_1_1_segment_1_1_blob}{Vision\+::\+Segment\+::\+Blob} \hyperlink{class_vision_1_1_segment_add6c81230e499b159218c5232e3b76ae}{Blob\+\_\+t}
\item 
typedef std\+::vector$<$ \hyperlink{class_vision_1_1_segment_add6c81230e499b159218c5232e3b76ae}{Blob\+\_\+t} $>$ \hyperlink{class_vision_1_1_segment_a60e08251e2ab94239e245044c31cde51}{Blob\+List\+\_\+t}
\end{DoxyCompactItemize}
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{class_vision_1_1_segment_adfe9fc7ffcc7269f961d4b1f6720d1e8}{Segment} ()
\begin{DoxyCompactList}\small\item\em Constructor of the Segmentation class. \end{DoxyCompactList}\item 
\hyperlink{class_vision_1_1_segment_ad3c4765e0e519f8d5fc7ac2e567608ee}{Segment} (const Mat \&src)
\begin{DoxyCompactList}\small\item\em Constructor of the Segmentation class. \end{DoxyCompactList}\item 
\hyperlink{class_vision_1_1_segment_a365b40b1f7886344c063c881c5cd27ca}{Segment} (const \hyperlink{class_vision_1_1_segment}{Segment} \&rhs)
\item 
\hyperlink{class_vision_1_1_segment_a76b45a453304f1f485e3bc2fcad58b59}{$\sim$\+Segment} ()
\begin{DoxyCompactList}\small\item\em De-\/constructor. \end{DoxyCompactList}\item 
\hyperlink{class_vision_1_1_segment}{Segment} \& \hyperlink{class_vision_1_1_segment_a1bfc12c503f6e07cca595ec884273e13}{operator=} (\hyperlink{class_vision_1_1_segment}{Segment} \&rhs)
\item 
void \hyperlink{class_vision_1_1_segment_a8b5edc7f5a69d961e47f61a2191b8745}{Load\+Original\+Img} (const Mat \&src)
\item 
void \hyperlink{class_vision_1_1_segment_a4272ceb22f9cb20c6f65d9536149d3c0}{Convert\+To\+B\+W} (\hyperlink{class_vision_1_1_segment_ac3ddf2c72ee6333007510b680db1e7dd}{Type\+Of\+Objects} Typeobjects)
\item 
void \hyperlink{class_vision_1_1_segment_a513af00e29683fa172ce1844ffd7f98f}{Convert\+To\+B\+W} (const Mat \&src, Mat \&dst, \hyperlink{class_vision_1_1_segment_ac3ddf2c72ee6333007510b680db1e7dd}{Type\+Of\+Objects} Typeobjects)
\item 
void \hyperlink{class_vision_1_1_segment_ad002015511d2d8a4d42106c14e163623}{Get\+Edges} (bool chain=false, \hyperlink{class_vision_1_1_segment_a330240c08320e72270fac0aa83d5e27e}{Connected} conn=\hyperlink{class_vision_1_1_segment_a330240c08320e72270fac0aa83d5e27eae8e2b0fa6d15448f10cddc0390284a39}{Eight})
\item 
void \hyperlink{class_vision_1_1_segment_a427f6a51ce04127927ae60d8b9ba8e12}{Get\+Edges} (const Mat \&src, Mat \&dst, bool chain=false, \hyperlink{class_vision_1_1_segment_a330240c08320e72270fac0aa83d5e27e}{Connected} conn=\hyperlink{class_vision_1_1_segment_a330240c08320e72270fac0aa83d5e27eae8e2b0fa6d15448f10cddc0390284a39}{Eight})
\item 
void \hyperlink{class_vision_1_1_segment_af4fe7471c44ded04653f8e3f74162c86}{Get\+Edges\+Eroding} (bool chain=false)
\item 
void \hyperlink{class_vision_1_1_segment_a6dba1b8506fe7e8054e99ea5330d4abc}{Get\+Blob\+List} (bool chain=false, \hyperlink{class_vision_1_1_segment_a330240c08320e72270fac0aa83d5e27e}{Connected} conn=\hyperlink{class_vision_1_1_segment_a330240c08320e72270fac0aa83d5e27eae8e2b0fa6d15448f10cddc0390284a39}{Eight})
\item 
void \hyperlink{class_vision_1_1_segment_a1d486dd3b67e1e1208c9ca04be8f6659}{Threshold} (\hyperlink{_soil_math_types_8h_a65f85814a8290f9797005d3b28e7e5fc}{uchar} t, \hyperlink{class_vision_1_1_segment_ac3ddf2c72ee6333007510b680db1e7dd}{Type\+Of\+Objects} Typeobjects)
\item 
void \hyperlink{class_vision_1_1_segment_ac10de08f4c3b0f8cb91f0469b6cf37c9}{Label\+Blobs} (bool chain=false, uint16\+\_\+t min\+Blob\+Area=25, \hyperlink{class_vision_1_1_segment_a330240c08320e72270fac0aa83d5e27e}{Connected} conn=\hyperlink{class_vision_1_1_segment_a330240c08320e72270fac0aa83d5e27eae8e2b0fa6d15448f10cddc0390284a39}{Eight})
\item 
void \hyperlink{class_vision_1_1_segment_a65a50340b5a1a0fb08a1b5749b7145b6}{Remove\+Border\+Blobs} (uint32\+\_\+t border=1, bool chain=false)
\item 
void \hyperlink{class_vision_1_1_segment_a9b1476507a27dbef21acca64efd217b8}{Fill\+Holes} (bool chain=false)
\end{DoxyCompactItemize}
\subsection*{Public Attributes}
\begin{DoxyCompactItemize}
\item 
\hyperlink{class_vision_1_1_segment_a60e08251e2ab94239e245044c31cde51}{Blob\+List\+\_\+t} \hyperlink{class_vision_1_1_segment_a74e0600a7dd49bd7110ee27bb4cd6e0e}{Blob\+List}
\item 
cv\+::\+Mat \hyperlink{class_vision_1_1_segment_a4daa143f6cd4a753d3bbe45c6a67d27f}{Labelled\+Img}
\item 
uint16\+\_\+t \hyperlink{class_vision_1_1_segment_a22d2a688de65f4d25b164f8b2a03f4a9}{Max\+Label} = 0
\item 
uint16\+\_\+t \hyperlink{class_vision_1_1_segment_a97077da3a144e800073bc06f5d4722d4}{no\+Of\+Filtered\+Blobs}
\item 
\hyperlink{_stats_8h_a5b876b087ada3df30b8dd6309fc25191}{uchar\+Stat\+\_\+t} \hyperlink{class_vision_1_1_segment_ab35cfe5504de7e5ea327991468e6cf3b}{Original\+Img\+Stats}
\item 
uint8\+\_\+t \hyperlink{class_vision_1_1_segment_a44f45a7d08ba6fed38e5c31bc9108291}{Threshold\+Level} = 0
\item 
float \hyperlink{class_vision_1_1_segment_a0d2c607a6064d8d8fea925fc7bfbbc53}{sigma} = 2
\item 
uint32\+\_\+t \hyperlink{class_vision_1_1_segment_a1338fc42ead26c6b1dd661f4281f5674}{threshold\+Offset} = 4
\end{DoxyCompactItemize}
\subsection*{Private Member Functions}
\begin{DoxyCompactItemize}
\item 
uint8\+\_\+t \hyperlink{class_vision_1_1_segment_a1b15d616db9cbdcd0b07bb267f60895b}{Get\+Threshold\+Level} (\hyperlink{class_vision_1_1_segment_ac3ddf2c72ee6333007510b680db1e7dd}{Type\+Of\+Objects} Type\+Object)
\item 
void \hyperlink{class_vision_1_1_segment_ae3349aa3725f883943fb316c0d52752d}{Set\+Border} (\hyperlink{_soil_math_types_8h_a65f85814a8290f9797005d3b28e7e5fc}{uchar} $\ast$P, \hyperlink{_soil_math_types_8h_a65f85814a8290f9797005d3b28e7e5fc}{uchar} set\+Value)
\item 
void \hyperlink{class_vision_1_1_segment_a62e29f1cc5db86f670c488966a06d644}{Flood\+Fill} (\hyperlink{_soil_math_types_8h_a65f85814a8290f9797005d3b28e7e5fc}{uchar} $\ast$O, \hyperlink{_soil_math_types_8h_a65f85814a8290f9797005d3b28e7e5fc}{uchar} $\ast$P, uint16\+\_\+t \hyperlink{_v_s_a___u_t_2_comparision_pictures_2_createtest_image_8m_a9336ebf25087d91c818ee6e9ec29f8c1}{x}, uint16\+\_\+t \hyperlink{_v_s_a___u_t_2_comparision_pictures_2_createtest_image_8m_a2fb1c5cf58867b5bbc9a1b145a86f3a0}{y}, \hyperlink{_soil_math_types_8h_a65f85814a8290f9797005d3b28e7e5fc}{uchar} fill\+Value, \hyperlink{_soil_math_types_8h_a65f85814a8290f9797005d3b28e7e5fc}{uchar} Old\+Value)
\item 
void \hyperlink{class_vision_1_1_segment_a3543a9696469dc07718c8227eaeaf9c0}{make\+Consecutive} (uint16\+\_\+t Last\+Label\+Used, uint16\+\_\+t $\ast$temp\+L\+U\+T, uint16\+\_\+t $\ast$L\+U\+T\+\_\+new\+Val)
\end{DoxyCompactItemize}
\subsection*{Additional Inherited Members}


\subsection{Detailed Description}


Definition at line 24 of file Segment.\+h.



\subsection{Member Typedef Documentation}
\hypertarget{class_vision_1_1_segment_add6c81230e499b159218c5232e3b76ae}{}\index{Vision\+::\+Segment@{Vision\+::\+Segment}!Blob\+\_\+t@{Blob\+\_\+t}}
\index{Blob\+\_\+t@{Blob\+\_\+t}!Vision\+::\+Segment@{Vision\+::\+Segment}}
\subsubsection[{Blob\+\_\+t}]{\setlength{\rightskip}{0pt plus 5cm}typedef struct {\bf Vision\+::\+Segment\+::\+Blob}  {\bf Vision\+::\+Segment\+::\+Blob\+\_\+t}}\label{class_vision_1_1_segment_add6c81230e499b159218c5232e3b76ae}
Individual blob \hypertarget{class_vision_1_1_segment_a60e08251e2ab94239e245044c31cde51}{}\index{Vision\+::\+Segment@{Vision\+::\+Segment}!Blob\+List\+\_\+t@{Blob\+List\+\_\+t}}
\index{Blob\+List\+\_\+t@{Blob\+List\+\_\+t}!Vision\+::\+Segment@{Vision\+::\+Segment}}
\subsubsection[{Blob\+List\+\_\+t}]{\setlength{\rightskip}{0pt plus 5cm}typedef std\+::vector$<${\bf Blob\+\_\+t}$>$ {\bf Vision\+::\+Segment\+::\+Blob\+List\+\_\+t}}\label{class_vision_1_1_segment_a60e08251e2ab94239e245044c31cde51}


Definition at line 49 of file Segment.\+h.

\hypertarget{class_vision_1_1_segment_af9428422a82edaab8a1e5ba59acc8c16}{}\index{Vision\+::\+Segment@{Vision\+::\+Segment}!Rect\+\_\+t@{Rect\+\_\+t}}
\index{Rect\+\_\+t@{Rect\+\_\+t}!Vision\+::\+Segment@{Vision\+::\+Segment}}
\subsubsection[{Rect\+\_\+t}]{\setlength{\rightskip}{0pt plus 5cm}typedef struct {\bf Vision\+::\+Segment\+::\+Rect}  {\bf Vision\+::\+Segment\+::\+Rect\+\_\+t}}\label{class_vision_1_1_segment_af9428422a82edaab8a1e5ba59acc8c16}
Coordinates for the region of interest \hypertarget{class_vision_1_1_segment_aaaa7a3b37f6fa4402bc1309e9bf74bec}{}\index{Vision\+::\+Segment@{Vision\+::\+Segment}!Rect\+List\+\_\+t@{Rect\+List\+\_\+t}}
\index{Rect\+List\+\_\+t@{Rect\+List\+\_\+t}!Vision\+::\+Segment@{Vision\+::\+Segment}}
\subsubsection[{Rect\+List\+\_\+t}]{\setlength{\rightskip}{0pt plus 5cm}typedef std\+::vector$<${\bf Vision\+::\+Segment\+::\+Rect\+\_\+t}$>$ {\bf Vision\+::\+Segment\+::\+Rect\+List\+\_\+t}}\label{class_vision_1_1_segment_aaaa7a3b37f6fa4402bc1309e9bf74bec}


Definition at line 36 of file Segment.\+h.



\subsection{Member Enumeration Documentation}
\hypertarget{class_vision_1_1_segment_a330240c08320e72270fac0aa83d5e27e}{}\index{Vision\+::\+Segment@{Vision\+::\+Segment}!Connected@{Connected}}
\index{Connected@{Connected}!Vision\+::\+Segment@{Vision\+::\+Segment}}
\subsubsection[{Connected}]{\setlength{\rightskip}{0pt plus 5cm}enum {\bf Vision\+::\+Segment\+::\+Connected}}\label{class_vision_1_1_segment_a330240c08320e72270fac0aa83d5e27e}
Enumerator to indicate how the pixel correlate between each other in a blob \begin{Desc}
\item[Enumerator]\par
\begin{description}
\index{Four@{Four}!Vision\+::\+Segment@{Vision\+::\+Segment}}\index{Vision\+::\+Segment@{Vision\+::\+Segment}!Four@{Four}}\item[{\em 
\hypertarget{class_vision_1_1_segment_a330240c08320e72270fac0aa83d5e27ea1fca5ab1c285c0edd2bdc3072cab0c01}{}Four\label{class_vision_1_1_segment_a330240c08320e72270fac0aa83d5e27ea1fca5ab1c285c0edd2bdc3072cab0c01}
}]Enum Four connected, relation between Center, North, East, South and West \index{Eight@{Eight}!Vision\+::\+Segment@{Vision\+::\+Segment}}\index{Vision\+::\+Segment@{Vision\+::\+Segment}!Eight@{Eight}}\item[{\em 
\hypertarget{class_vision_1_1_segment_a330240c08320e72270fac0aa83d5e27eae8e2b0fa6d15448f10cddc0390284a39}{}Eight\label{class_vision_1_1_segment_a330240c08320e72270fac0aa83d5e27eae8e2b0fa6d15448f10cddc0390284a39}
}]Enum Eight connected, relation between Center, North, North\+East, East, South\+East, South, South\+West, West and North\+West \end{description}
\end{Desc}


Definition at line 60 of file Segment.\+h.


\begin{DoxyCode}
60                  \{
61     \hyperlink{class_vision_1_1_segment_a330240c08320e72270fac0aa83d5e27ea1fca5ab1c285c0edd2bdc3072cab0c01}{Four}, 
63     \hyperlink{class_vision_1_1_segment_a330240c08320e72270fac0aa83d5e27eae8e2b0fa6d15448f10cddc0390284a39}{Eight} 
65   \};
\end{DoxyCode}
\hypertarget{class_vision_1_1_segment_af3a2b992526eac54bca53e34cf2db4da}{}\index{Vision\+::\+Segment@{Vision\+::\+Segment}!Segmentation\+Type@{Segmentation\+Type}}
\index{Segmentation\+Type@{Segmentation\+Type}!Vision\+::\+Segment@{Vision\+::\+Segment}}
\subsubsection[{Segmentation\+Type}]{\setlength{\rightskip}{0pt plus 5cm}enum {\bf Vision\+::\+Segment\+::\+Segmentation\+Type}}\label{class_vision_1_1_segment_af3a2b992526eac54bca53e34cf2db4da}
\begin{Desc}
\item[Enumerator]\par
\begin{description}
\index{Normal@{Normal}!Vision\+::\+Segment@{Vision\+::\+Segment}}\index{Vision\+::\+Segment@{Vision\+::\+Segment}!Normal@{Normal}}\item[{\em 
\hypertarget{class_vision_1_1_segment_af3a2b992526eac54bca53e34cf2db4daae000cfc8d629752d6cdbba0d3d750184}{}Normal\label{class_vision_1_1_segment_af3a2b992526eac54bca53e34cf2db4daae000cfc8d629752d6cdbba0d3d750184}
}]Segmentation looking at the intensity of an individual pixel \index{Lab\+Neural\+Net@{Lab\+Neural\+Net}!Vision\+::\+Segment@{Vision\+::\+Segment}}\index{Vision\+::\+Segment@{Vision\+::\+Segment}!Lab\+Neural\+Net@{Lab\+Neural\+Net}}\item[{\em 
\hypertarget{class_vision_1_1_segment_af3a2b992526eac54bca53e34cf2db4daa6ddef558061ee58899a362608a5b163b}{}Lab\+Neural\+Net\label{class_vision_1_1_segment_af3a2b992526eac54bca53e34cf2db4daa6ddef558061ee58899a362608a5b163b}
}]Segmentation looking at the chromatic a$\ast$ and b$\ast$ of the processed pixel and it\textquotesingle{}s surrounding pixels, feeding it in an Neural Net \index{Graph\+Min\+Cut@{Graph\+Min\+Cut}!Vision\+::\+Segment@{Vision\+::\+Segment}}\index{Vision\+::\+Segment@{Vision\+::\+Segment}!Graph\+Min\+Cut@{Graph\+Min\+Cut}}\item[{\em 
\hypertarget{class_vision_1_1_segment_af3a2b992526eac54bca53e34cf2db4daa0291c0ff93e52e8e78f86698b0288353}{}Graph\+Min\+Cut\label{class_vision_1_1_segment_af3a2b992526eac54bca53e34cf2db4daa0291c0ff93e52e8e78f86698b0288353}
}]Segmentation using a graph function and the minimum cut \end{description}
\end{Desc}


Definition at line 68 of file Segment.\+h.


\begin{DoxyCode}
68                         \{
69     \hyperlink{class_vision_1_1_segment_af3a2b992526eac54bca53e34cf2db4daae000cfc8d629752d6cdbba0d3d750184}{Normal}, 
70     \hyperlink{class_vision_1_1_segment_af3a2b992526eac54bca53e34cf2db4daa6ddef558061ee58899a362608a5b163b}{LabNeuralNet}, 
73     \hyperlink{class_vision_1_1_segment_af3a2b992526eac54bca53e34cf2db4daa0291c0ff93e52e8e78f86698b0288353}{GraphMinCut} 
74   \};
\end{DoxyCode}
\hypertarget{class_vision_1_1_segment_ac3ddf2c72ee6333007510b680db1e7dd}{}\index{Vision\+::\+Segment@{Vision\+::\+Segment}!Type\+Of\+Objects@{Type\+Of\+Objects}}
\index{Type\+Of\+Objects@{Type\+Of\+Objects}!Vision\+::\+Segment@{Vision\+::\+Segment}}
\subsubsection[{Type\+Of\+Objects}]{\setlength{\rightskip}{0pt plus 5cm}enum {\bf Vision\+::\+Segment\+::\+Type\+Of\+Objects}}\label{class_vision_1_1_segment_ac3ddf2c72ee6333007510b680db1e7dd}
Enumerator to indicate what kind of object to extract \begin{Desc}
\item[Enumerator]\par
\begin{description}
\index{Bright@{Bright}!Vision\+::\+Segment@{Vision\+::\+Segment}}\index{Vision\+::\+Segment@{Vision\+::\+Segment}!Bright@{Bright}}\item[{\em 
\hypertarget{class_vision_1_1_segment_ac3ddf2c72ee6333007510b680db1e7ddad37a09a08a5a4fdf88cb15f21e5ff28b}{}Bright\label{class_vision_1_1_segment_ac3ddf2c72ee6333007510b680db1e7ddad37a09a08a5a4fdf88cb15f21e5ff28b}
}]Enum value Bright object \index{Dark@{Dark}!Vision\+::\+Segment@{Vision\+::\+Segment}}\index{Vision\+::\+Segment@{Vision\+::\+Segment}!Dark@{Dark}}\item[{\em 
\hypertarget{class_vision_1_1_segment_ac3ddf2c72ee6333007510b680db1e7dda962a0c0955809f63df036dbd41824c54}{}Dark\label{class_vision_1_1_segment_ac3ddf2c72ee6333007510b680db1e7dda962a0c0955809f63df036dbd41824c54}
}]Enum value Dark object. \end{description}
\end{Desc}


Definition at line 53 of file Segment.\+h.


\begin{DoxyCode}
53                      \{
54     \hyperlink{class_vision_1_1_segment_ac3ddf2c72ee6333007510b680db1e7ddad37a09a08a5a4fdf88cb15f21e5ff28b}{Bright}, 
55     \hyperlink{class_vision_1_1_segment_ac3ddf2c72ee6333007510b680db1e7dda962a0c0955809f63df036dbd41824c54}{Dark}    
56   \};
\end{DoxyCode}


\subsection{Constructor \& Destructor Documentation}
\hypertarget{class_vision_1_1_segment_adfe9fc7ffcc7269f961d4b1f6720d1e8}{}\index{Vision\+::\+Segment@{Vision\+::\+Segment}!Segment@{Segment}}
\index{Segment@{Segment}!Vision\+::\+Segment@{Vision\+::\+Segment}}
\subsubsection[{Segment}]{\setlength{\rightskip}{0pt plus 5cm}Segment\+::\+Segment (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}\label{class_vision_1_1_segment_adfe9fc7ffcc7269f961d4b1f6720d1e8}


Constructor of the Segmentation class. 



Definition at line 17 of file Segment.\+cpp.


\begin{DoxyCode}
17 \{\}
\end{DoxyCode}
\hypertarget{class_vision_1_1_segment_ad3c4765e0e519f8d5fc7ac2e567608ee}{}\index{Vision\+::\+Segment@{Vision\+::\+Segment}!Segment@{Segment}}
\index{Segment@{Segment}!Vision\+::\+Segment@{Vision\+::\+Segment}}
\subsubsection[{Segment}]{\setlength{\rightskip}{0pt plus 5cm}Segment\+::\+Segment (
\begin{DoxyParamCaption}
\item[{const Mat \&}]{src}
\end{DoxyParamCaption}
)}\label{class_vision_1_1_segment_ad3c4765e0e519f8d5fc7ac2e567608ee}


Constructor of the Segmentation class. 



Definition at line 20 of file Segment.\+cpp.



References Labelled\+Img, Vision\+::\+Image\+Processing\+::\+Original\+Img, and Vision\+::\+Image\+Processing\+::\+Processed\+Img.


\begin{DoxyCode}
20                                \{
21   \hyperlink{class_vision_1_1_image_processing_a77c370dab270158a4e9c634e2d3f48e7}{OriginalImg} = src;
22   \hyperlink{class_vision_1_1_image_processing_aa7d65742882cd1b2a1e4e9cb68809211}{ProcessedImg}.create(\hyperlink{class_vision_1_1_image_processing_a77c370dab270158a4e9c634e2d3f48e7}{OriginalImg}.size(), CV\_8UC1);
23   \hyperlink{class_vision_1_1_segment_a4daa143f6cd4a753d3bbe45c6a67d27f}{LabelledImg}.create(\hyperlink{class_vision_1_1_image_processing_a77c370dab270158a4e9c634e2d3f48e7}{OriginalImg}.size(), CV\_16UC1);
24 \}
\end{DoxyCode}
\hypertarget{class_vision_1_1_segment_a365b40b1f7886344c063c881c5cd27ca}{}\index{Vision\+::\+Segment@{Vision\+::\+Segment}!Segment@{Segment}}
\index{Segment@{Segment}!Vision\+::\+Segment@{Vision\+::\+Segment}}
\subsubsection[{Segment}]{\setlength{\rightskip}{0pt plus 5cm}Segment\+::\+Segment (
\begin{DoxyParamCaption}
\item[{const {\bf Segment} \&}]{rhs}
\end{DoxyParamCaption}
)}\label{class_vision_1_1_segment_a365b40b1f7886344c063c881c5cd27ca}


Definition at line 26 of file Segment.\+cpp.



References Blob\+List, Labelled\+Img, Max\+Label, no\+Of\+Filtered\+Blobs, Vision\+::\+Image\+Processing\+::\+Original\+Img, Original\+Img\+Stats, Vision\+::\+Image\+Processing\+::\+Processed\+Img, Vision\+::\+Image\+Processing\+::\+Temp\+Img, and Threshold\+Level.


\begin{DoxyCode}
26                                    \{
27   this->\hyperlink{class_vision_1_1_segment_a74e0600a7dd49bd7110ee27bb4cd6e0e}{BlobList} = rhs.BlobList;
28   this->\hyperlink{class_vision_1_1_segment_a4daa143f6cd4a753d3bbe45c6a67d27f}{LabelledImg} = rhs.LabelledImg;
29   this->\hyperlink{class_vision_1_1_segment_a22d2a688de65f4d25b164f8b2a03f4a9}{MaxLabel} = rhs.MaxLabel;
30   this->\hyperlink{class_vision_1_1_segment_a97077da3a144e800073bc06f5d4722d4}{noOfFilteredBlobs} = rhs.noOfFilteredBlobs;
31   this->\hyperlink{class_vision_1_1_image_processing_a77c370dab270158a4e9c634e2d3f48e7}{OriginalImg} = rhs.OriginalImg;
32   this->\hyperlink{class_vision_1_1_segment_ab35cfe5504de7e5ea327991468e6cf3b}{OriginalImgStats} = rhs.OriginalImgStats;
33   this->\hyperlink{class_vision_1_1_image_processing_aa7d65742882cd1b2a1e4e9cb68809211}{ProcessedImg} = rhs.ProcessedImg;
34   this->\hyperlink{class_vision_1_1_image_processing_a5371ad8d6f7aac9d43ee5c902ade7435}{TempImg} = rhs.TempImg;
35   this->\hyperlink{class_vision_1_1_segment_a44f45a7d08ba6fed38e5c31bc9108291}{ThresholdLevel} = rhs.ThresholdLevel;
36 \}
\end{DoxyCode}
\hypertarget{class_vision_1_1_segment_a76b45a453304f1f485e3bc2fcad58b59}{}\index{Vision\+::\+Segment@{Vision\+::\+Segment}!````~Segment@{$\sim$\+Segment}}
\index{````~Segment@{$\sim$\+Segment}!Vision\+::\+Segment@{Vision\+::\+Segment}}
\subsubsection[{$\sim$\+Segment}]{\setlength{\rightskip}{0pt plus 5cm}Segment\+::$\sim$\+Segment (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}\label{class_vision_1_1_segment_a76b45a453304f1f485e3bc2fcad58b59}


De-\/constructor. 



Definition at line 39 of file Segment.\+cpp.


\begin{DoxyCode}
39 \{\}
\end{DoxyCode}


\subsection{Member Function Documentation}
\hypertarget{class_vision_1_1_segment_a4272ceb22f9cb20c6f65d9536149d3c0}{}\index{Vision\+::\+Segment@{Vision\+::\+Segment}!Convert\+To\+B\+W@{Convert\+To\+B\+W}}
\index{Convert\+To\+B\+W@{Convert\+To\+B\+W}!Vision\+::\+Segment@{Vision\+::\+Segment}}
\subsubsection[{Convert\+To\+B\+W}]{\setlength{\rightskip}{0pt plus 5cm}void Segment\+::\+Convert\+To\+B\+W (
\begin{DoxyParamCaption}
\item[{{\bf Type\+Of\+Objects}}]{Typeobjects}
\end{DoxyParamCaption}
)}\label{class_vision_1_1_segment_a4272ceb22f9cb20c6f65d9536149d3c0}
Convert a greyscale image to a B\+W using an automatic Threshold 
\begin{DoxyParams}{Parameters}
{\em Type\+Object} & is an enumerator indicating if the bright or the dark pixels are the object and should be set to one \\
\hline
\end{DoxyParams}


Definition at line 164 of file Segment.\+cpp.



References Get\+Threshold\+Level(), and Threshold().



Referenced by B\+O\+O\+S\+T\+\_\+\+A\+U\+T\+O\+\_\+\+T\+E\+S\+T\+\_\+\+C\+A\+S\+E(), B\+O\+O\+S\+T\+\_\+\+F\+I\+X\+T\+U\+R\+E\+\_\+\+T\+E\+S\+T\+\_\+\+C\+A\+S\+E(), Convert\+To\+B\+W(), Soil\+Analyzer\+::\+Sample\+::\+Prep\+Img(), and Soil\+Analyzer\+::\+Sample\+::\+Segment\+Particles().


\begin{DoxyCode}
164                                                    \{
165   \textcolor{comment}{// Determine the threshold}
166   \hyperlink{_soil_math_types_8h_a65f85814a8290f9797005d3b28e7e5fc}{uchar} T = \hyperlink{class_vision_1_1_segment_a1b15d616db9cbdcd0b07bb267f60895b}{GetThresholdLevel}(Typeobjects);
167 
168   \textcolor{comment}{// Threshold the picture}
169   \hyperlink{class_vision_1_1_segment_a1d486dd3b67e1e1208c9ca04be8f6659}{Threshold}(T, Typeobjects);
170 \}
\end{DoxyCode}


Here is the call graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{class_vision_1_1_segment_a4272ceb22f9cb20c6f65d9536149d3c0_cgraph}
\end{center}
\end{figure}




Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{class_vision_1_1_segment_a4272ceb22f9cb20c6f65d9536149d3c0_icgraph}
\end{center}
\end{figure}


\hypertarget{class_vision_1_1_segment_a513af00e29683fa172ce1844ffd7f98f}{}\index{Vision\+::\+Segment@{Vision\+::\+Segment}!Convert\+To\+B\+W@{Convert\+To\+B\+W}}
\index{Convert\+To\+B\+W@{Convert\+To\+B\+W}!Vision\+::\+Segment@{Vision\+::\+Segment}}
\subsubsection[{Convert\+To\+B\+W}]{\setlength{\rightskip}{0pt plus 5cm}void Segment\+::\+Convert\+To\+B\+W (
\begin{DoxyParamCaption}
\item[{const Mat \&}]{src, }
\item[{Mat \&}]{dst, }
\item[{{\bf Type\+Of\+Objects}}]{Typeobjects}
\end{DoxyParamCaption}
)}\label{class_vision_1_1_segment_a513af00e29683fa172ce1844ffd7f98f}
Convert a greyscale image to a B\+W using an automatic Threshold 
\begin{DoxyParams}{Parameters}
{\em src} & is the source image as a cv\+::\+Mat \\
\hline
{\em dst} & destination image as a cv\+::\+Mat \\
\hline
{\em Type\+Object} & is an enumerator indicating if the bright or the dark pixels are the object and should be set to one \\
\hline
\end{DoxyParams}


Definition at line 153 of file Segment.\+cpp.



References Convert\+To\+B\+W(), Labelled\+Img, Vision\+::\+Image\+Processing\+::\+Original\+Img, and Vision\+::\+Image\+Processing\+::\+Processed\+Img.


\begin{DoxyCode}
153                                                                              \{
154   \hyperlink{class_vision_1_1_image_processing_a77c370dab270158a4e9c634e2d3f48e7}{OriginalImg} = src;
155   \hyperlink{class_vision_1_1_image_processing_aa7d65742882cd1b2a1e4e9cb68809211}{ProcessedImg}.create(\hyperlink{class_vision_1_1_image_processing_a77c370dab270158a4e9c634e2d3f48e7}{OriginalImg}.size(), CV\_8UC1);
156   \hyperlink{class_vision_1_1_segment_a4daa143f6cd4a753d3bbe45c6a67d27f}{LabelledImg}.create(\hyperlink{class_vision_1_1_image_processing_a77c370dab270158a4e9c634e2d3f48e7}{OriginalImg}.size(), CV\_16UC1);
157   \hyperlink{class_vision_1_1_segment_a4272ceb22f9cb20c6f65d9536149d3c0}{ConvertToBW}(Typeobjects);
158   dst = \hyperlink{class_vision_1_1_image_processing_aa7d65742882cd1b2a1e4e9cb68809211}{ProcessedImg};
159 \}
\end{DoxyCode}


Here is the call graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{class_vision_1_1_segment_a513af00e29683fa172ce1844ffd7f98f_cgraph}
\end{center}
\end{figure}


\hypertarget{class_vision_1_1_segment_a9b1476507a27dbef21acca64efd217b8}{}\index{Vision\+::\+Segment@{Vision\+::\+Segment}!Fill\+Holes@{Fill\+Holes}}
\index{Fill\+Holes@{Fill\+Holes}!Vision\+::\+Segment@{Vision\+::\+Segment}}
\subsubsection[{Fill\+Holes}]{\setlength{\rightskip}{0pt plus 5cm}void Segment\+::\+Fill\+Holes (
\begin{DoxyParamCaption}
\item[{bool}]{chain = {\ttfamily false}}
\end{DoxyParamCaption}
)}\label{class_vision_1_1_segment_a9b1476507a27dbef21acca64efd217b8}


Definition at line 808 of file Segment.\+cpp.



References C\+H\+A\+I\+N\+\_\+\+P\+R\+O\+C\+E\+S\+S, E\+M\+P\+T\+Y\+\_\+\+C\+H\+E\+C\+K, i, Vision\+::\+Image\+Processing\+::\+Original\+Img, Vision\+::\+Image\+Processing\+::\+Processed\+Img, and Vision\+::\+Image\+Processing\+::\+Temp\+Img.



Referenced by B\+O\+O\+S\+T\+\_\+\+A\+U\+T\+O\+\_\+\+T\+E\+S\+T\+\_\+\+C\+A\+S\+E(), and Soil\+Analyzer\+::\+Sample\+::\+Prep\+Img().


\begin{DoxyCode}
808                                   \{
809   \textcolor{comment}{// Exception handling}
810   CV\_Assert(\hyperlink{class_vision_1_1_image_processing_a77c370dab270158a4e9c634e2d3f48e7}{OriginalImg}.depth() != \textcolor{keyword}{sizeof}(\hyperlink{_soil_math_types_8h_a65f85814a8290f9797005d3b28e7e5fc}{uchar}));
811   \hyperlink{_image_processing_8h_a27c4e53b88a0f9f2c097add555131056}{EMPTY\_CHECK}(\hyperlink{class_vision_1_1_image_processing_a77c370dab270158a4e9c634e2d3f48e7}{OriginalImg});
812 
813   \textcolor{comment}{// make Pointers}
814   \hyperlink{_soil_math_types_8h_a65f85814a8290f9797005d3b28e7e5fc}{uchar} *O;
815   \hyperlink{_image_processing_8h_a6e6f0183cb53c76ef458d4fd34e07bcd}{CHAIN\_PROCESS}(chain, O, \hyperlink{_soil_math_types_8h_a65f85814a8290f9797005d3b28e7e5fc}{uchar});
816   \textcolor{keywordflow}{if} (chain) \{
817     \hyperlink{class_vision_1_1_image_processing_aa7d65742882cd1b2a1e4e9cb68809211}{ProcessedImg} = \hyperlink{class_vision_1_1_image_processing_a5371ad8d6f7aac9d43ee5c902ade7435}{TempImg}.clone();
818   \} \textcolor{keywordflow}{else} \{
819     \hyperlink{class_vision_1_1_image_processing_aa7d65742882cd1b2a1e4e9cb68809211}{ProcessedImg} = \hyperlink{class_vision_1_1_image_processing_a77c370dab270158a4e9c634e2d3f48e7}{OriginalImg}.clone();
820   \}
821 
822   \hyperlink{_soil_math_types_8h_a65f85814a8290f9797005d3b28e7e5fc}{uchar} *P = \hyperlink{class_vision_1_1_image_processing_aa7d65742882cd1b2a1e4e9cb68809211}{ProcessedImg}.data;
823 
824   \textcolor{comment}{// Determine the starting point of the floodfill}
825   \textcolor{keywordtype}{int} itt = -1;
826   \textcolor{keywordflow}{while} (P[++itt] != 0)
827     ;
828   uint16\_t row = \textcolor{keyword}{static\_cast<}uint16\_t\textcolor{keyword}{>}(itt / \hyperlink{class_vision_1_1_image_processing_a77c370dab270158a4e9c634e2d3f48e7}{OriginalImg}.rows);
829   uint16\_t col = \textcolor{keyword}{static\_cast<}uint16\_t\textcolor{keyword}{>}(itt % \hyperlink{class_vision_1_1_image_processing_a77c370dab270158a4e9c634e2d3f48e7}{OriginalImg}.rows);
830 
831   \textcolor{comment}{// Fill the outside}
832   \textcolor{comment}{// FloodFill(O, P, row, col, 2, 0);}
833 
834   \textcolor{keywordflow}{try} \{
835     cv::floodFill(\hyperlink{class_vision_1_1_image_processing_aa7d65742882cd1b2a1e4e9cb68809211}{ProcessedImg}, cv::Point(col, row), cv::Scalar(2));
836   \} \textcolor{keywordflow}{catch} (cv::Exception &e) \{
837   \}
838 
839   \textcolor{comment}{// Set the unreached areas to 1 and the outside to 0;}
840   \hyperlink{_soil_math_types_8h_a65f85814a8290f9797005d3b28e7e5fc}{uchar} LUT\_newVal[3] = \{1, 1, 0\};
841   uint32\_t nData = \hyperlink{class_vision_1_1_image_processing_a77c370dab270158a4e9c634e2d3f48e7}{OriginalImg}.rows * \hyperlink{class_vision_1_1_image_processing_a77c370dab270158a4e9c634e2d3f48e7}{OriginalImg}.cols;
842   uint32\_t \hyperlink{_comparision_pictures_2_createtest_image_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} = 0;
843   \textcolor{keywordflow}{while} (i <= nData) \{
844     P[\hyperlink{_comparision_pictures_2_createtest_image_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}] = LUT\_newVal[P[\hyperlink{_comparision_pictures_2_createtest_image_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}]];
845     i++;
846   \}
847 \}
\end{DoxyCode}


Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{class_vision_1_1_segment_a9b1476507a27dbef21acca64efd217b8_icgraph}
\end{center}
\end{figure}


\hypertarget{class_vision_1_1_segment_a62e29f1cc5db86f670c488966a06d644}{}\index{Vision\+::\+Segment@{Vision\+::\+Segment}!Flood\+Fill@{Flood\+Fill}}
\index{Flood\+Fill@{Flood\+Fill}!Vision\+::\+Segment@{Vision\+::\+Segment}}
\subsubsection[{Flood\+Fill}]{\setlength{\rightskip}{0pt plus 5cm}void Segment\+::\+Flood\+Fill (
\begin{DoxyParamCaption}
\item[{{\bf uchar} $\ast$}]{O, }
\item[{{\bf uchar} $\ast$}]{P, }
\item[{uint16\+\_\+t}]{x, }
\item[{uint16\+\_\+t}]{y, }
\item[{{\bf uchar}}]{fill\+Value, }
\item[{{\bf uchar}}]{Old\+Value}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\label{class_vision_1_1_segment_a62e29f1cc5db86f670c488966a06d644}


Definition at line 849 of file Segment.\+cpp.



References Vision\+::\+Image\+Processing\+::\+Original\+Img.


\begin{DoxyCode}
850                                                          \{
851   \textcolor{keywordflow}{if} (row < 0 || row > \hyperlink{class_vision_1_1_image_processing_a77c370dab270158a4e9c634e2d3f48e7}{OriginalImg}.rows) \{
852     \textcolor{keywordflow}{return};
853   \}
854   \textcolor{keywordflow}{if} (col < 0 || col > \hyperlink{class_vision_1_1_image_processing_a77c370dab270158a4e9c634e2d3f48e7}{OriginalImg}.cols) \{
855     \textcolor{keywordflow}{return};
856   \}
857   \textcolor{keywordflow}{if} (P[col + row * \hyperlink{class_vision_1_1_image_processing_a77c370dab270158a4e9c634e2d3f48e7}{OriginalImg}.rows] == OldValue) \{
858     P[col + row * \hyperlink{class_vision_1_1_image_processing_a77c370dab270158a4e9c634e2d3f48e7}{OriginalImg}.rows] = fillValue;
859     \hyperlink{class_vision_1_1_segment_a62e29f1cc5db86f670c488966a06d644}{FloodFill}(O, P, row + 1, col, fillValue, OldValue);
860     \hyperlink{class_vision_1_1_segment_a62e29f1cc5db86f670c488966a06d644}{FloodFill}(O, P, row, col + 1, fillValue, OldValue);
861     \hyperlink{class_vision_1_1_segment_a62e29f1cc5db86f670c488966a06d644}{FloodFill}(O, P, row - 1, col, fillValue, OldValue);
862     \hyperlink{class_vision_1_1_segment_a62e29f1cc5db86f670c488966a06d644}{FloodFill}(O, P, row, col - 1, fillValue, OldValue);
863   \}
864 \}
\end{DoxyCode}
\hypertarget{class_vision_1_1_segment_a6dba1b8506fe7e8054e99ea5330d4abc}{}\index{Vision\+::\+Segment@{Vision\+::\+Segment}!Get\+Blob\+List@{Get\+Blob\+List}}
\index{Get\+Blob\+List@{Get\+Blob\+List}!Vision\+::\+Segment@{Vision\+::\+Segment}}
\subsubsection[{Get\+Blob\+List}]{\setlength{\rightskip}{0pt plus 5cm}void Segment\+::\+Get\+Blob\+List (
\begin{DoxyParamCaption}
\item[{bool}]{chain = {\ttfamily false}, }
\item[{{\bf Connected}}]{conn = {\ttfamily {\bf Eight}}}
\end{DoxyParamCaption}
)}\label{class_vision_1_1_segment_a6dba1b8506fe7e8054e99ea5330d4abc}
Create a Blob\+List subtracting each individual blob out of a Labelled image. If the labelled image is empty build a new one with a B\+W image. 
\begin{DoxyParams}{Parameters}
{\em conn} & set the pixel connection eight or four \\
\hline
{\em chain} & use the results from the previous operation default value = false; \\
\hline
\end{DoxyParams}


Definition at line 695 of file Segment.\+cpp.



References Soil\+Math\+::\+Stats$<$ T1, T2, T3 $>$\+::bins, Blob\+List, E\+M\+P\+T\+Y\+\_\+\+C\+H\+E\+C\+K, i, Label\+Blobs(), Labelled\+Img, Max\+Label, and Vision\+::\+Image\+Processing\+::\+Original\+Img.



Referenced by B\+O\+O\+S\+T\+\_\+\+A\+U\+T\+O\+\_\+\+T\+E\+S\+T\+\_\+\+C\+A\+S\+E(), B\+O\+O\+S\+T\+\_\+\+F\+I\+X\+T\+U\+R\+E\+\_\+\+T\+E\+S\+T\+\_\+\+C\+A\+S\+E(), and Soil\+Analyzer\+::\+Sample\+::\+Segment\+Particles().


\begin{DoxyCode}
695                                                     \{
696   \textcolor{comment}{// Exception handling}
697   CV\_Assert(\hyperlink{class_vision_1_1_image_processing_a77c370dab270158a4e9c634e2d3f48e7}{OriginalImg}.depth() != \textcolor{keyword}{sizeof}(\hyperlink{_soil_math_types_8h_a65f85814a8290f9797005d3b28e7e5fc}{uchar}));
698   \hyperlink{_image_processing_8h_a27c4e53b88a0f9f2c097add555131056}{EMPTY\_CHECK}(\hyperlink{class_vision_1_1_image_processing_a77c370dab270158a4e9c634e2d3f48e7}{OriginalImg});
699 
700   \textcolor{comment}{// If there isn't a labelledImg make one}
701   \textcolor{keywordflow}{if} (\hyperlink{class_vision_1_1_segment_a22d2a688de65f4d25b164f8b2a03f4a9}{MaxLabel} < 1) \{
702     \hyperlink{class_vision_1_1_segment_ac10de08f4c3b0f8cb91f0469b6cf37c9}{LabelBlobs}(chain, 5, conn);
703   \}
704 
705   \textcolor{comment}{// Make an empty BlobList}
706   uint32\_t nCols = \hyperlink{class_vision_1_1_image_processing_a77c370dab270158a4e9c634e2d3f48e7}{OriginalImg}.cols;
707   uint32\_t nRows = \hyperlink{class_vision_1_1_image_processing_a77c370dab270158a4e9c634e2d3f48e7}{OriginalImg}.rows;
708   uint32\_t nData = nCols * nRows;
709   \hyperlink{class_vision_1_1_segment_aaaa7a3b37f6fa4402bc1309e9bf74bec}{RectList\_t} rectList;
710 
711   \textcolor{comment}{// Calculate Stats the statistics}
712   \hyperlink{class_soil_math_1_1_stats}{uint16Stat\_t} LabelStats((uint16\_t *)\hyperlink{class_vision_1_1_segment_a4daa143f6cd4a753d3bbe45c6a67d27f}{LabelledImg}.data, 
      \hyperlink{class_vision_1_1_segment_a4daa143f6cd4a753d3bbe45c6a67d27f}{LabelledImg}.cols,
713                           \hyperlink{class_vision_1_1_segment_a4daa143f6cd4a753d3bbe45c6a67d27f}{LabelledImg}.rows, \hyperlink{class_vision_1_1_segment_a22d2a688de65f4d25b164f8b2a03f4a9}{MaxLabel} + 1, 0, 
      \hyperlink{class_vision_1_1_segment_a22d2a688de65f4d25b164f8b2a03f4a9}{MaxLabel});
714 
715   \hyperlink{class_vision_1_1_segment_a74e0600a7dd49bd7110ee27bb4cd6e0e}{BlobList}.reserve(\hyperlink{class_vision_1_1_segment_a22d2a688de65f4d25b164f8b2a03f4a9}{MaxLabel} + 1);
716   rectList.reserve(\hyperlink{class_vision_1_1_segment_a22d2a688de65f4d25b164f8b2a03f4a9}{MaxLabel} + 1);
717 
718   \hyperlink{class_vision_1_1_segment_a74e0600a7dd49bd7110ee27bb4cd6e0e}{BlobList}.push\_back(\hyperlink{class_vision_1_1_segment_add6c81230e499b159218c5232e3b76ae}{Blob\_t}(0, 0));
719   rectList.push\_back(\hyperlink{class_vision_1_1_segment_af9428422a82edaab8a1e5ba59acc8c16}{Rect\_t}(0, 0, 0, 0));
720 
721   \textcolor{keywordflow}{for} (uint32\_t \hyperlink{_comparision_pictures_2_createtest_image_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} = 1; \hyperlink{_comparision_pictures_2_createtest_image_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} <= \hyperlink{class_vision_1_1_segment_a22d2a688de65f4d25b164f8b2a03f4a9}{MaxLabel}; \hyperlink{_comparision_pictures_2_createtest_image_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}++) \{
722     \hyperlink{class_vision_1_1_segment_a74e0600a7dd49bd7110ee27bb4cd6e0e}{BlobList}.push\_back(\hyperlink{class_vision_1_1_segment_add6c81230e499b159218c5232e3b76ae}{Blob\_t}(\hyperlink{_comparision_pictures_2_createtest_image_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}, LabelStats.bins[\hyperlink{_comparision_pictures_2_createtest_image_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}]));
723     rectList.push\_back(\hyperlink{class_vision_1_1_segment_af9428422a82edaab8a1e5ba59acc8c16}{Rect\_t}(nCols, nRows, 0, 0));
724   \}
725 
726   \textcolor{comment}{// make Pointers}
727   uint16\_t *L = (uint16\_t *)\hyperlink{class_vision_1_1_segment_a4daa143f6cd4a753d3bbe45c6a67d27f}{LabelledImg}.data;
728 
729   uint32\_t currentX, currentY;
730   uint16\_t leftX, leftY, rightX, rightY;
731   \textcolor{comment}{// Loop through the labeled image and extract the Blobs}
732   for (uint32\_t \hyperlink{_comparision_pictures_2_createtest_image_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} = 0; \hyperlink{_comparision_pictures_2_createtest_image_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} < nData; \hyperlink{_comparision_pictures_2_createtest_image_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}++) \{
733     \textcolor{keywordflow}{if} (L[\hyperlink{_comparision_pictures_2_createtest_image_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}] != 0) \{
734       \textcolor{comment}{/* Determine the current x and y value of the current blob and}
735 \textcolor{comment}{      checks if it is min/max */}
736       currentX = \hyperlink{_comparision_pictures_2_createtest_image_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} / nCols;
737       currentY = \hyperlink{_comparision_pictures_2_createtest_image_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} % nCols;
738 
739       \textcolor{comment}{// Min value}
740       \textcolor{keywordflow}{if} (currentX < rectList[L[\hyperlink{_comparision_pictures_2_createtest_image_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}]].leftX) \{
741         rectList[L[\hyperlink{_comparision_pictures_2_createtest_image_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}]].leftX = currentX;
742       \}
743       \textcolor{keywordflow}{if} (currentY < rectList[L[\hyperlink{_comparision_pictures_2_createtest_image_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}]].leftY) \{
744         rectList[L[\hyperlink{_comparision_pictures_2_createtest_image_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}]].leftY = currentY;
745       \}
746 
747       \textcolor{comment}{// Max value}
748       \textcolor{keywordflow}{if} (currentX > rectList[L[\hyperlink{_comparision_pictures_2_createtest_image_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}]].rightX) \{
749         rectList[L[\hyperlink{_comparision_pictures_2_createtest_image_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}]].rightX = currentX;
750       \}
751       \textcolor{keywordflow}{if} (currentY > rectList[L[\hyperlink{_comparision_pictures_2_createtest_image_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}]].rightY) \{
752         rectList[L[\hyperlink{_comparision_pictures_2_createtest_image_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}]].rightY = currentY;
753       \}
754     \}
755   \}
756 
757   \textcolor{comment}{// Loop through the BlobList and finalize it}
758   uint8\_t *LUT\_filter = \textcolor{keyword}{new} uint8\_t[\hyperlink{class_vision_1_1_segment_a22d2a688de65f4d25b164f8b2a03f4a9}{MaxLabel} + 1]\{\};
759   \textcolor{keywordflow}{for} (uint32\_t \hyperlink{_comparision_pictures_2_createtest_image_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} = 1; \hyperlink{_comparision_pictures_2_createtest_image_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} <= \hyperlink{class_vision_1_1_segment_a22d2a688de65f4d25b164f8b2a03f4a9}{MaxLabel}; \hyperlink{_comparision_pictures_2_createtest_image_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}++) \{
760     LUT\_filter[\hyperlink{_comparision_pictures_2_createtest_image_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}] = 1;
761     \hyperlink{class_vision_1_1_segment_a74e0600a7dd49bd7110ee27bb4cd6e0e}{BlobList}[\hyperlink{_comparision_pictures_2_createtest_image_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}].ROI.y = rectList[\hyperlink{_comparision_pictures_2_createtest_image_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}].leftX;
762     \hyperlink{class_vision_1_1_segment_a74e0600a7dd49bd7110ee27bb4cd6e0e}{BlobList}[\hyperlink{_comparision_pictures_2_createtest_image_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}].ROI.x = rectList[\hyperlink{_comparision_pictures_2_createtest_image_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}].leftY;
763     \hyperlink{class_vision_1_1_segment_a74e0600a7dd49bd7110ee27bb4cd6e0e}{BlobList}[\hyperlink{_comparision_pictures_2_createtest_image_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}].ROI.height = rectList[\hyperlink{_comparision_pictures_2_createtest_image_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}].rightX - rectList[\hyperlink{_comparision_pictures_2_createtest_image_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}].leftX;
764     \hyperlink{class_vision_1_1_segment_a74e0600a7dd49bd7110ee27bb4cd6e0e}{BlobList}[\hyperlink{_comparision_pictures_2_createtest_image_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}].ROI.width = rectList[\hyperlink{_comparision_pictures_2_createtest_image_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}].rightY - rectList[\hyperlink{_comparision_pictures_2_createtest_image_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}].leftY;
765     \textcolor{keywordflow}{if} (\hyperlink{class_vision_1_1_segment_a74e0600a7dd49bd7110ee27bb4cd6e0e}{BlobList}[\hyperlink{_comparision_pictures_2_createtest_image_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}].ROI.height < 0) \{
766       \hyperlink{class_vision_1_1_segment_a74e0600a7dd49bd7110ee27bb4cd6e0e}{BlobList}[\hyperlink{_comparision_pictures_2_createtest_image_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}].ROI.height -= \hyperlink{class_vision_1_1_segment_a74e0600a7dd49bd7110ee27bb4cd6e0e}{BlobList}[\hyperlink{_comparision_pictures_2_createtest_image_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}].ROI.height;
767       \hyperlink{class_vision_1_1_segment_a74e0600a7dd49bd7110ee27bb4cd6e0e}{BlobList}[\hyperlink{_comparision_pictures_2_createtest_image_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}].ROI.y = rectList[\hyperlink{_comparision_pictures_2_createtest_image_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}].rightX;
768     \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (\hyperlink{class_vision_1_1_segment_a74e0600a7dd49bd7110ee27bb4cd6e0e}{BlobList}[\hyperlink{_comparision_pictures_2_createtest_image_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}].ROI.height == 0) \{
769       \hyperlink{class_vision_1_1_segment_a74e0600a7dd49bd7110ee27bb4cd6e0e}{BlobList}[\hyperlink{_comparision_pictures_2_createtest_image_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}].ROI.height++;
770     \}
771     \textcolor{keywordflow}{if} (\hyperlink{class_vision_1_1_segment_a74e0600a7dd49bd7110ee27bb4cd6e0e}{BlobList}[\hyperlink{_comparision_pictures_2_createtest_image_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}].ROI.width < 0) \{
772       \hyperlink{class_vision_1_1_segment_a74e0600a7dd49bd7110ee27bb4cd6e0e}{BlobList}[\hyperlink{_comparision_pictures_2_createtest_image_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}].ROI.width -= \hyperlink{class_vision_1_1_segment_a74e0600a7dd49bd7110ee27bb4cd6e0e}{BlobList}[\hyperlink{_comparision_pictures_2_createtest_image_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}].ROI.width;
773       \hyperlink{class_vision_1_1_segment_a74e0600a7dd49bd7110ee27bb4cd6e0e}{BlobList}[\hyperlink{_comparision_pictures_2_createtest_image_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}].ROI.x = rectList[\hyperlink{_comparision_pictures_2_createtest_image_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}].rightY;
774     \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (\hyperlink{class_vision_1_1_segment_a74e0600a7dd49bd7110ee27bb4cd6e0e}{BlobList}[\hyperlink{_comparision_pictures_2_createtest_image_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}].ROI.width == 0) \{
775       \hyperlink{class_vision_1_1_segment_a74e0600a7dd49bd7110ee27bb4cd6e0e}{BlobList}[\hyperlink{_comparision_pictures_2_createtest_image_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}].ROI.width++;
776     \}
777     \hyperlink{class_vision_1_1_segment_a74e0600a7dd49bd7110ee27bb4cd6e0e}{BlobList}[\hyperlink{_comparision_pictures_2_createtest_image_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}].Img = CopyMat<uint8\_t, uint16\_t>(
778         \hyperlink{class_vision_1_1_segment_a4daa143f6cd4a753d3bbe45c6a67d27f}{LabelledImg}(\hyperlink{class_vision_1_1_segment_a74e0600a7dd49bd7110ee27bb4cd6e0e}{BlobList}[\hyperlink{_comparision_pictures_2_createtest_image_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}].ROI).clone(), LUT\_filter, CV\_8UC1);
779     LUT\_filter[\hyperlink{_comparision_pictures_2_createtest_image_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}] = 0;
780   \}
781   \textcolor{keyword}{delete}[] LUT\_filter;
782 
783   \textcolor{comment}{// Remove background blob}
784   \hyperlink{class_vision_1_1_segment_a74e0600a7dd49bd7110ee27bb4cd6e0e}{BlobList}.erase(\hyperlink{class_vision_1_1_segment_a74e0600a7dd49bd7110ee27bb4cd6e0e}{BlobList}.begin());
785 \}
\end{DoxyCode}


Here is the call graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{class_vision_1_1_segment_a6dba1b8506fe7e8054e99ea5330d4abc_cgraph}
\end{center}
\end{figure}




Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{class_vision_1_1_segment_a6dba1b8506fe7e8054e99ea5330d4abc_icgraph}
\end{center}
\end{figure}


\hypertarget{class_vision_1_1_segment_ad002015511d2d8a4d42106c14e163623}{}\index{Vision\+::\+Segment@{Vision\+::\+Segment}!Get\+Edges@{Get\+Edges}}
\index{Get\+Edges@{Get\+Edges}!Vision\+::\+Segment@{Vision\+::\+Segment}}
\subsubsection[{Get\+Edges}]{\setlength{\rightskip}{0pt plus 5cm}void Segment\+::\+Get\+Edges (
\begin{DoxyParamCaption}
\item[{bool}]{chain = {\ttfamily false}, }
\item[{{\bf Connected}}]{conn = {\ttfamily {\bf Eight}}}
\end{DoxyParamCaption}
)}\label{class_vision_1_1_segment_ad002015511d2d8a4d42106c14e163623}
Create a B\+W image with only edges from a B\+W image 
\begin{DoxyParams}{Parameters}
{\em conn} & set the pixel connection eight or four \\
\hline
{\em chain} & use the results from the previous operation default value = false; \\
\hline
\end{DoxyParams}


Definition at line 562 of file Segment.\+cpp.



References C\+H\+A\+I\+N\+\_\+\+P\+R\+O\+C\+E\+S\+S, E\+M\+P\+T\+Y\+\_\+\+C\+H\+E\+C\+K, Four, i, Vision\+::\+Image\+Processing\+::\+Original\+Img, and Vision\+::\+Image\+Processing\+::\+Processed\+Img.



Referenced by Get\+Edges().


\begin{DoxyCode}
562                                                  \{
563   \textcolor{comment}{// Exception handling}
564   CV\_Assert(\hyperlink{class_vision_1_1_image_processing_a77c370dab270158a4e9c634e2d3f48e7}{OriginalImg}.depth() != \textcolor{keyword}{sizeof}(\hyperlink{_soil_math_types_8h_a65f85814a8290f9797005d3b28e7e5fc}{uchar}));
565   \hyperlink{_image_processing_8h_a27c4e53b88a0f9f2c097add555131056}{EMPTY\_CHECK}(\hyperlink{class_vision_1_1_image_processing_a77c370dab270158a4e9c634e2d3f48e7}{OriginalImg});
566 
567   \textcolor{comment}{// make Pointers}
568   \hyperlink{_soil_math_types_8h_a65f85814a8290f9797005d3b28e7e5fc}{uchar} *O;
569   \hyperlink{_image_processing_8h_a6e6f0183cb53c76ef458d4fd34e07bcd}{CHAIN\_PROCESS}(chain, O, \hyperlink{_soil_math_types_8h_a65f85814a8290f9797005d3b28e7e5fc}{uchar});
570   \hyperlink{_soil_math_types_8h_a65f85814a8290f9797005d3b28e7e5fc}{uchar} *P = \hyperlink{class_vision_1_1_image_processing_aa7d65742882cd1b2a1e4e9cb68809211}{ProcessedImg}.data;
571 
572   uint32\_t nCols = \hyperlink{class_vision_1_1_image_processing_a77c370dab270158a4e9c634e2d3f48e7}{OriginalImg}.cols;
573   uint32\_t nRows = \hyperlink{class_vision_1_1_image_processing_a77c370dab270158a4e9c634e2d3f48e7}{OriginalImg}.rows;
574   uint32\_t nData = nCols * nRows;
575   uint32\_t pEnd = nData + 1;
576   uint32\_t \hyperlink{_comparision_pictures_2_createtest_image_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} = 0;
577 
578   \textcolor{comment}{// Loop through the image and set each pixel which has a zero neighbor set it}
579   \textcolor{comment}{// to two.}
580   \textcolor{keywordflow}{if} (conn == \hyperlink{class_vision_1_1_segment_a330240c08320e72270fac0aa83d5e27ea1fca5ab1c285c0edd2bdc3072cab0c01}{Four}) \{
581     \textcolor{comment}{// Loop through the picture}
582     \textcolor{keywordflow}{while} (i < pEnd) \{
583       \textcolor{comment}{// If current value = zero processed value = zero}
584       \textcolor{keywordflow}{if} (O[i] == 0) \{
585         P[\hyperlink{_comparision_pictures_2_createtest_image_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}] = 0;
586       \}
587       \textcolor{comment}{// If current value = 1 check North West, South and East and act}
588       \textcolor{comment}{// accordingly}
589       \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (O[i] == 1) \{
590         \hyperlink{_soil_math_types_8h_a65f85814a8290f9797005d3b28e7e5fc}{uchar} *nPixels = \textcolor{keyword}{new} \hyperlink{_soil_math_types_8h_a65f85814a8290f9797005d3b28e7e5fc}{uchar}[4];
591         nPixels[0] = O[i - 1];
592         nPixels[1] = O[i - nCols];
593         nPixels[2] = O[i + 1];
594         nPixels[3] = O[i + nCols];
595 
596         \textcolor{comment}{// Sort the neighbors for easier checking}
597         SoilMath::Sort::QuickSort<uchar>(nPixels, 4);
598         \textcolor{keywordflow}{if} (nPixels[0] == 0) \{
599           P[\hyperlink{_comparision_pictures_2_createtest_image_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}] = 1;
600         \} \textcolor{keywordflow}{else} \{
601           P[\hyperlink{_comparision_pictures_2_createtest_image_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}] = 0;
602         \}
603       \} \textcolor{keywordflow}{else} \{
604         \textcolor{keywordflow}{throw} Exception::PixelValueOutOfBoundException();
605       \}
606       i++;
607     \}
608   \} \textcolor{keywordflow}{else} \{
609     \textcolor{comment}{// Loop through the picture}
610     \textcolor{keywordflow}{while} (i < pEnd) \{
611       \textcolor{comment}{// If current value = zero processed value = zero}
612       \textcolor{keywordflow}{if} (O[i] == 0) \{
613         P[\hyperlink{_comparision_pictures_2_createtest_image_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}] = 0;
614       \}
615       \textcolor{comment}{// If current value = 1 check North West, South and East and act}
616       \textcolor{comment}{// accordingly}
617       \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (O[i] == 1) \{
618         \hyperlink{_soil_math_types_8h_a65f85814a8290f9797005d3b28e7e5fc}{uchar} *nPixels = \textcolor{keyword}{new} \hyperlink{_soil_math_types_8h_a65f85814a8290f9797005d3b28e7e5fc}{uchar}[8];
619         nPixels[0] = O[i - 1];
620         nPixels[1] = O[i - nCols];
621         nPixels[2] = O[i - nCols - 1];
622         nPixels[3] = O[i - nCols + 1];
623         nPixels[4] = O[i + 1];
624         nPixels[5] = O[i + nCols + 1];
625         nPixels[6] = O[i + nCols];
626         nPixels[7] = O[i + nCols - 1];
627 
628         \textcolor{comment}{// Sort the neighbors for easier checking}
629         SoilMath::Sort::QuickSort<uchar>(nPixels, 8);
630 
631         \textcolor{keywordflow}{if} (nPixels[0] == 0) \{
632           P[\hyperlink{_comparision_pictures_2_createtest_image_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}] = 1;
633         \} \textcolor{keywordflow}{else} \{
634           P[\hyperlink{_comparision_pictures_2_createtest_image_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}] = 0;
635         \}
636       \} \textcolor{keywordflow}{else} \{
637         \textcolor{keywordflow}{throw} Exception::PixelValueOutOfBoundException();
638       \}
639       i++;
640     \}
641   \}
642 \}
\end{DoxyCode}


Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{class_vision_1_1_segment_ad002015511d2d8a4d42106c14e163623_icgraph}
\end{center}
\end{figure}


\hypertarget{class_vision_1_1_segment_a427f6a51ce04127927ae60d8b9ba8e12}{}\index{Vision\+::\+Segment@{Vision\+::\+Segment}!Get\+Edges@{Get\+Edges}}
\index{Get\+Edges@{Get\+Edges}!Vision\+::\+Segment@{Vision\+::\+Segment}}
\subsubsection[{Get\+Edges}]{\setlength{\rightskip}{0pt plus 5cm}void Segment\+::\+Get\+Edges (
\begin{DoxyParamCaption}
\item[{const Mat \&}]{src, }
\item[{Mat \&}]{dst, }
\item[{bool}]{chain = {\ttfamily false}, }
\item[{{\bf Connected}}]{conn = {\ttfamily {\bf Eight}}}
\end{DoxyParamCaption}
)}\label{class_vision_1_1_segment_a427f6a51ce04127927ae60d8b9ba8e12}
Create a B\+W image with only edges from a B\+W image 
\begin{DoxyParams}{Parameters}
{\em src} & source image as a const cv\+::\+Mat \\
\hline
{\em dst} & destination image as a cv\+::\+Mat \\
\hline
{\em conn} & set the pixel connection eight or four \\
\hline
{\em chain} & use the results from the previous operation default value = false; \\
\hline
\end{DoxyParams}


Definition at line 552 of file Segment.\+cpp.



References Get\+Edges(), Vision\+::\+Image\+Processing\+::\+Original\+Img, and Vision\+::\+Image\+Processing\+::\+Processed\+Img.


\begin{DoxyCode}
552                                                                            \{
553   \hyperlink{class_vision_1_1_image_processing_a77c370dab270158a4e9c634e2d3f48e7}{OriginalImg} = src;
554   \hyperlink{class_vision_1_1_segment_ad002015511d2d8a4d42106c14e163623}{GetEdges}(chain, conn);
555   dst = \hyperlink{class_vision_1_1_image_processing_aa7d65742882cd1b2a1e4e9cb68809211}{ProcessedImg};
556 \}
\end{DoxyCode}


Here is the call graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{class_vision_1_1_segment_a427f6a51ce04127927ae60d8b9ba8e12_cgraph}
\end{center}
\end{figure}


\hypertarget{class_vision_1_1_segment_af4fe7471c44ded04653f8e3f74162c86}{}\index{Vision\+::\+Segment@{Vision\+::\+Segment}!Get\+Edges\+Eroding@{Get\+Edges\+Eroding}}
\index{Get\+Edges\+Eroding@{Get\+Edges\+Eroding}!Vision\+::\+Segment@{Vision\+::\+Segment}}
\subsubsection[{Get\+Edges\+Eroding}]{\setlength{\rightskip}{0pt plus 5cm}void Segment\+::\+Get\+Edges\+Eroding (
\begin{DoxyParamCaption}
\item[{bool}]{chain = {\ttfamily false}}
\end{DoxyParamCaption}
)}\label{class_vision_1_1_segment_af4fe7471c44ded04653f8e3f74162c86}


Definition at line 644 of file Segment.\+cpp.



References C\+H\+A\+I\+N\+\_\+\+P\+R\+O\+C\+E\+S\+S, E\+M\+P\+T\+Y\+\_\+\+C\+H\+E\+C\+K, Vision\+::\+Morphological\+Filter\+::\+Erosion(), i, mask, Vision\+::\+Image\+Processing\+::\+Original\+Img, Vision\+::\+Image\+Processing\+::\+Processed\+Img, S\+H\+O\+W\+\_\+\+D\+E\+B\+U\+G\+\_\+\+I\+M\+G, and Vision\+::\+Image\+Processing\+::\+Temp\+Img.



Referenced by B\+O\+O\+S\+T\+\_\+\+A\+U\+T\+O\+\_\+\+T\+E\+S\+T\+\_\+\+C\+A\+S\+E(), Soil\+Analyzer\+::\+Sample\+::\+Prep\+Img(), and Soil\+Analyzer\+::\+Sample\+::\+Segment\+Particles().


\begin{DoxyCode}
644                                         \{
645   \textcolor{comment}{// Exception handling}
646   CV\_Assert(\hyperlink{class_vision_1_1_image_processing_a77c370dab270158a4e9c634e2d3f48e7}{OriginalImg}.depth() != \textcolor{keyword}{sizeof}(\hyperlink{_soil_math_types_8h_a65f85814a8290f9797005d3b28e7e5fc}{uchar}));
647   \hyperlink{_image_processing_8h_a27c4e53b88a0f9f2c097add555131056}{EMPTY\_CHECK}(\hyperlink{class_vision_1_1_image_processing_a77c370dab270158a4e9c634e2d3f48e7}{OriginalImg});
648 
649   \textcolor{comment}{// make Pointers}
650   \hyperlink{_soil_math_types_8h_a65f85814a8290f9797005d3b28e7e5fc}{uchar} *O;
651   \hyperlink{_image_processing_8h_a6e6f0183cb53c76ef458d4fd34e07bcd}{CHAIN\_PROCESS}(chain, O, \hyperlink{_soil_math_types_8h_a65f85814a8290f9797005d3b28e7e5fc}{uchar});
652   \hyperlink{_soil_math_types_8h_a65f85814a8290f9797005d3b28e7e5fc}{uchar} *P = \hyperlink{class_vision_1_1_image_processing_aa7d65742882cd1b2a1e4e9cb68809211}{ProcessedImg}.data;
653 
654   uint32\_t nCols = \hyperlink{class_vision_1_1_image_processing_a77c370dab270158a4e9c634e2d3f48e7}{OriginalImg}.cols;
655   uint32\_t nRows = \hyperlink{class_vision_1_1_image_processing_a77c370dab270158a4e9c634e2d3f48e7}{OriginalImg}.rows;
656   uint32\_t nData = nCols * nRows;
657 
658   \textcolor{comment}{// Setup the erosion}
659   MorphologicalFilter eroder;
660   \textcolor{keywordflow}{if} (chain) \{
661     eroder.OriginalImg = \hyperlink{class_vision_1_1_image_processing_a5371ad8d6f7aac9d43ee5c902ade7435}{TempImg};
662   \} \textcolor{keywordflow}{else} \{
663     eroder.OriginalImg = \hyperlink{class_vision_1_1_image_processing_a77c370dab270158a4e9c634e2d3f48e7}{OriginalImg};
664   \}
665   \textcolor{comment}{// Setup the processed image of the eroder}
666   eroder.ProcessedImg.create(\hyperlink{class_vision_1_1_image_processing_a77c370dab270158a4e9c634e2d3f48e7}{OriginalImg}.size(), CV\_8UC1);
667   eroder.ProcessedImg.setTo(0);
668   \textcolor{comment}{// Setup the mask}
669   Mat \hyperlink{_gen_blob_8m_a5d76cc2129e79ba1941d2cc2f53b9e8e}{mask}(3, 3, CV\_8UC1, 1);
670   \textcolor{comment}{// Erode the image}
671   eroder.Erosion(\hyperlink{_gen_blob_8m_a5d76cc2129e79ba1941d2cc2f53b9e8e}{mask}, \textcolor{keyword}{false});
672 
673   \textcolor{comment}{// Loop through the image and set the not eroded pixels to zero}
674   \textcolor{keywordflow}{for} (uint32\_t \hyperlink{_comparision_pictures_2_createtest_image_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} = 0; \hyperlink{_comparision_pictures_2_createtest_image_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} < nData; \hyperlink{_comparision_pictures_2_createtest_image_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}++) \{
675     \textcolor{keywordflow}{if} (O[\hyperlink{_comparision_pictures_2_createtest_image_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}] != eroder.ProcessedImg.data[\hyperlink{_comparision_pictures_2_createtest_image_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}]) \{
676       P[\hyperlink{_comparision_pictures_2_createtest_image_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}] = 1;
677     \} \textcolor{keywordflow}{else} \{
678       P[\hyperlink{_comparision_pictures_2_createtest_image_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}] = 0;
679     \}
680   \}
681 
682   \textcolor{comment}{// ProcessedImg = OriginalImg.clone() - eroder.ProcessedImg.clone();}
683 
684   \hyperlink{_vision_debug_8h_aae864fa4f990213a4184a209ff236202}{SHOW\_DEBUG\_IMG}(eroder.ProcessedImg, \hyperlink{_soil_math_types_8h_a65f85814a8290f9797005d3b28e7e5fc}{uchar}, 255, \textcolor{stringliteral}{"Eroded img Processed Image!"},
685                  \textcolor{keyword}{true});
686   \hyperlink{_vision_debug_8h_aae864fa4f990213a4184a209ff236202}{SHOW\_DEBUG\_IMG}(\hyperlink{class_vision_1_1_image_processing_aa7d65742882cd1b2a1e4e9cb68809211}{ProcessedImg}, \hyperlink{_soil_math_types_8h_a65f85814a8290f9797005d3b28e7e5fc}{uchar}, 255, \textcolor{stringliteral}{"GetEdgesEroding Processed Image!
      "},
687                  \textcolor{keyword}{true});
688 \}
\end{DoxyCode}


Here is the call graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{class_vision_1_1_segment_af4fe7471c44ded04653f8e3f74162c86_cgraph}
\end{center}
\end{figure}




Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{class_vision_1_1_segment_af4fe7471c44ded04653f8e3f74162c86_icgraph}
\end{center}
\end{figure}


\hypertarget{class_vision_1_1_segment_a1b15d616db9cbdcd0b07bb267f60895b}{}\index{Vision\+::\+Segment@{Vision\+::\+Segment}!Get\+Threshold\+Level@{Get\+Threshold\+Level}}
\index{Get\+Threshold\+Level@{Get\+Threshold\+Level}!Vision\+::\+Segment@{Vision\+::\+Segment}}
\subsubsection[{Get\+Threshold\+Level}]{\setlength{\rightskip}{0pt plus 5cm}uint8\+\_\+t Segment\+::\+Get\+Threshold\+Level (
\begin{DoxyParamCaption}
\item[{{\bf Type\+Of\+Objects}}]{Type\+Object}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\label{class_vision_1_1_segment_a1b15d616db9cbdcd0b07bb267f60895b}
Determine the threshold level by iteration, between two distribution, presumably back-\/ and foreground. It works towards the average of the two averages and finally sets the threshold with two time the standard deviation from the mean of the set object 
\begin{DoxyParams}{Parameters}
{\em Type\+Object} & is an enumerator indicating if the bright or the dark pixels are the object and should be set to one \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
The threshold level as an uint8\+\_\+t 
\end{DoxyReturn}


Definition at line 69 of file Segment.\+cpp.



References Soil\+Math\+::\+Stats$<$ T1, T2, T3 $>$\+::bins, Bright, Dark, E\+M\+P\+T\+Y\+\_\+\+C\+H\+E\+C\+K, i, Soil\+Math\+::\+Stats$<$ T1, T2, T3 $>$\+::\+Mean, Vision\+::\+Image\+Processing\+::\+Original\+Img, Original\+Img\+Stats, sigma, Soil\+Math\+::\+Stats$<$ T1, T2, T3 $>$\+::\+Std, and threshold\+Offset.



Referenced by Convert\+To\+B\+W().


\begin{DoxyCode}
69                                                            \{
70   \textcolor{comment}{// Exception handling}
71   \hyperlink{_image_processing_8h_a27c4e53b88a0f9f2c097add555131056}{EMPTY\_CHECK}(\hyperlink{class_vision_1_1_image_processing_a77c370dab270158a4e9c634e2d3f48e7}{OriginalImg});
72   CV\_Assert(\hyperlink{class_vision_1_1_image_processing_a77c370dab270158a4e9c634e2d3f48e7}{OriginalImg}.depth() != \textcolor{keyword}{sizeof}(\hyperlink{_soil_math_types_8h_a65f85814a8290f9797005d3b28e7e5fc}{uchar}));
73 
74   \textcolor{comment}{// Calculate the statistics of the whole picture}
75   \hyperlink{class_soil_math_1_1_stats}{ucharStat\_t} \hyperlink{class_vision_1_1_segment_ab35cfe5504de7e5ea327991468e6cf3b}{OriginalImgStats}(\hyperlink{class_vision_1_1_image_processing_a77c370dab270158a4e9c634e2d3f48e7}{OriginalImg}.data, 
      \hyperlink{class_vision_1_1_image_processing_a77c370dab270158a4e9c634e2d3f48e7}{OriginalImg}.rows,
76                                \hyperlink{class_vision_1_1_image_processing_a77c370dab270158a4e9c634e2d3f48e7}{OriginalImg}.cols);
77 
78   \textcolor{comment}{// Sets the initial threshold with the mean of the total picture}
79   pair<uchar, uchar> T;
80   T.first = (\hyperlink{_soil_math_types_8h_a65f85814a8290f9797005d3b28e7e5fc}{uchar})(\hyperlink{class_vision_1_1_segment_ab35cfe5504de7e5ea327991468e6cf3b}{OriginalImgStats}.\hyperlink{class_soil_math_1_1_stats_a6f53982d52cf492ddd4df9b56bd014e7}{Mean} + 0.5);
81   T.second = 0;
82 
83   \hyperlink{_soil_math_types_8h_a65f85814a8290f9797005d3b28e7e5fc}{uchar} Rstd = 0;
84   \hyperlink{_soil_math_types_8h_a65f85814a8290f9797005d3b28e7e5fc}{uchar} Lstd = 0;
85   \hyperlink{_soil_math_types_8h_a65f85814a8290f9797005d3b28e7e5fc}{uchar} Rmean = 0;
86   \hyperlink{_soil_math_types_8h_a65f85814a8290f9797005d3b28e7e5fc}{uchar} Lmean = 0;
87 
88   \textcolor{comment}{// Iterate till optimum Threshold is found between back- & foreground}
89   \textcolor{keywordflow}{while} (T.first != T.second) \{
90     \textcolor{comment}{// Gets an array of the left part of the histogram}
91     uint32\_t \hyperlink{_comparision_pictures_2_createtest_image_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} = T.first;
92     uint32\_t *Left = \textcolor{keyword}{new} uint32\_t[\hyperlink{_comparision_pictures_2_createtest_image_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}]\{\};
93     \textcolor{keywordflow}{while} (i-- > 0) \{
94       Left[\hyperlink{_comparision_pictures_2_createtest_image_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}] = \hyperlink{class_vision_1_1_segment_ab35cfe5504de7e5ea327991468e6cf3b}{OriginalImgStats}.\hyperlink{class_soil_math_1_1_stats_a00778b298b1ebb335eb0c4eed69e471c}{bins}[\hyperlink{_comparision_pictures_2_createtest_image_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}];
95     \}
96 
97     \textcolor{comment}{// Gets an array of the right part of the histogram}
98     uint32\_t rightEnd = 256 - T.first;
99     uint32\_t *Right = \textcolor{keyword}{new} uint32\_t[rightEnd]\{\};
100     i = rightEnd;
101     \textcolor{keywordflow}{while} (i-- > 0) \{
102       Right[\hyperlink{_comparision_pictures_2_createtest_image_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}] = \hyperlink{class_vision_1_1_segment_ab35cfe5504de7e5ea327991468e6cf3b}{OriginalImgStats}.\hyperlink{class_soil_math_1_1_stats_a00778b298b1ebb335eb0c4eed69e471c}{bins}[i + T.first];
103     \}
104 
105     \textcolor{comment}{// Calculate the statistics of both histograms,}
106     \textcolor{comment}{// taking into account the current threshold}
107     \hyperlink{class_soil_math_1_1_stats}{ucharStat\_t} sLeft(Left, 0, T.first);
108     \hyperlink{class_soil_math_1_1_stats}{ucharStat\_t} sRight(Right, T.first, 256);
109 
110     \textcolor{comment}{// Calculate the new threshold the mean of the means}
111     T.second = T.first;
112     T.first = (\hyperlink{_soil_math_types_8h_a65f85814a8290f9797005d3b28e7e5fc}{uchar})(((sLeft.Mean + sRight.Mean) / 2) + 0.5);
113 
114     Rmean = (\hyperlink{_soil_math_types_8h_a65f85814a8290f9797005d3b28e7e5fc}{uchar})(sRight.Mean + 0.5);
115     Lmean = (\hyperlink{_soil_math_types_8h_a65f85814a8290f9797005d3b28e7e5fc}{uchar})(sLeft.Mean + 0.5);
116     Rstd = (\hyperlink{_soil_math_types_8h_a65f85814a8290f9797005d3b28e7e5fc}{uchar})(sRight.Std + 0.5);
117     Lstd = (\hyperlink{_soil_math_types_8h_a65f85814a8290f9797005d3b28e7e5fc}{uchar})(sLeft.Std + 0.5);
118     \textcolor{keyword}{delete}[] Left;
119     \textcolor{keyword}{delete}[] Right;
120   \}
121 
122   \textcolor{comment}{// Assumes the pixel value of the sought object lies between 2 sigma}
123   \textcolor{keywordtype}{int} val = 0;
124   \textcolor{keywordflow}{switch} (TypeObject) \{
125   \textcolor{keywordflow}{case} \hyperlink{class_vision_1_1_segment_ac3ddf2c72ee6333007510b680db1e7ddad37a09a08a5a4fdf88cb15f21e5ff28b}{Bright}:
126     val = Rmean - (\hyperlink{class_vision_1_1_segment_a0d2c607a6064d8d8fea925fc7bfbbc53}{sigma} * Rstd) - \hyperlink{class_vision_1_1_segment_a1338fc42ead26c6b1dd661f4281f5674}{thresholdOffset};
127     \textcolor{keywordflow}{if} (val < 0) \{
128       val = 0;
129     \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (val > 255) \{
130       val = 255;
131     \}
132     T.first = (\hyperlink{_soil_math_types_8h_a65f85814a8290f9797005d3b28e7e5fc}{uchar})val;
133     \textcolor{keywordflow}{break};
134   \textcolor{keywordflow}{case} \hyperlink{class_vision_1_1_segment_ac3ddf2c72ee6333007510b680db1e7dda962a0c0955809f63df036dbd41824c54}{Dark}:
135     val = Lmean + (\hyperlink{class_vision_1_1_segment_a0d2c607a6064d8d8fea925fc7bfbbc53}{sigma} * Lstd) + \hyperlink{class_vision_1_1_segment_a1338fc42ead26c6b1dd661f4281f5674}{thresholdOffset};
136     \textcolor{keywordflow}{if} (val < 0) \{
137       val = 0;
138     \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (val > 255) \{
139       val = 255;
140     \}
141     T.first = (\hyperlink{_soil_math_types_8h_a65f85814a8290f9797005d3b28e7e5fc}{uchar})val;
142     \textcolor{keywordflow}{break};
143   \}
144 
145   \textcolor{keywordflow}{return} T.first;
146 \}
\end{DoxyCode}


Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{class_vision_1_1_segment_a1b15d616db9cbdcd0b07bb267f60895b_icgraph}
\end{center}
\end{figure}


\hypertarget{class_vision_1_1_segment_ac10de08f4c3b0f8cb91f0469b6cf37c9}{}\index{Vision\+::\+Segment@{Vision\+::\+Segment}!Label\+Blobs@{Label\+Blobs}}
\index{Label\+Blobs@{Label\+Blobs}!Vision\+::\+Segment@{Vision\+::\+Segment}}
\subsubsection[{Label\+Blobs}]{\setlength{\rightskip}{0pt plus 5cm}void Segment\+::\+Label\+Blobs (
\begin{DoxyParamCaption}
\item[{bool}]{chain = {\ttfamily false}, }
\item[{uint16\+\_\+t}]{min\+Blob\+Area = {\ttfamily 25}, }
\item[{{\bf Connected}}]{conn = {\ttfamily {\bf Eight}}}
\end{DoxyParamCaption}
)}\label{class_vision_1_1_segment_ac10de08f4c3b0f8cb91f0469b6cf37c9}
Label all the individual blobs in a B\+W source image. The result are written to the labelled\+Img as an ushort 
\begin{DoxyParams}{Parameters}
{\em conn} & set the pixel connection eight or four \\
\hline
{\em chain} & use the results from the previous operation default value = false; \\
\hline
{\em min\+Blob\+Area} & minimum area when an artifact is considered a blob \\
\hline
\end{DoxyParams}


Definition at line 316 of file Segment.\+cpp.



References Soil\+Math\+::\+Stats$<$ T1, T2, T3 $>$\+::bins, C\+H\+A\+I\+N\+\_\+\+P\+R\+O\+C\+E\+S\+S, count, E\+M\+P\+T\+Y\+\_\+\+C\+H\+E\+C\+K, Four, i, j, Labelled\+Img, make\+Consecutive(), Soil\+Math\+::\+Max(), Max\+Label, Soil\+Math\+::\+Min(), no\+Of\+Filtered\+Blobs, and Vision\+::\+Image\+Processing\+::\+Original\+Img.



Referenced by Get\+Blob\+List().


\begin{DoxyCode}
316                                                                          \{
317   \textcolor{comment}{// Exception handling}
318   CV\_Assert(\hyperlink{class_vision_1_1_image_processing_a77c370dab270158a4e9c634e2d3f48e7}{OriginalImg}.depth() != \textcolor{keyword}{sizeof}(\hyperlink{_soil_math_types_8h_a65f85814a8290f9797005d3b28e7e5fc}{uchar}));
319   \hyperlink{_image_processing_8h_a27c4e53b88a0f9f2c097add555131056}{EMPTY\_CHECK}(\hyperlink{class_vision_1_1_image_processing_a77c370dab270158a4e9c634e2d3f48e7}{OriginalImg});
320 
321   \textcolor{comment}{// make the Pointers}
322   \hyperlink{_soil_math_types_8h_a65f85814a8290f9797005d3b28e7e5fc}{uchar} *O;
323   \hyperlink{_image_processing_8h_a6e6f0183cb53c76ef458d4fd34e07bcd}{CHAIN\_PROCESS}(chain, O, \hyperlink{_soil_math_types_8h_a65f85814a8290f9797005d3b28e7e5fc}{uchar});
324   uint16\_t *P = (uint16\_t *)\hyperlink{class_vision_1_1_segment_a4daa143f6cd4a753d3bbe45c6a67d27f}{LabelledImg}.data;
325 
326   uint32\_t nCols = \hyperlink{class_vision_1_1_image_processing_a77c370dab270158a4e9c634e2d3f48e7}{OriginalImg}.cols;
327   uint32\_t nRows = \hyperlink{class_vision_1_1_image_processing_a77c370dab270158a4e9c634e2d3f48e7}{OriginalImg}.rows;
328   uint32\_t nData = nCols * nRows;
329   uint32\_t \hyperlink{_comparision_pictures_2_createtest_image_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} = \hyperlink{class_vision_1_1_image_processing_a77c370dab270158a4e9c634e2d3f48e7}{OriginalImg}.cols + 2;
330   uint32\_t \hyperlink{_comparision_pictures_2_createtest_image_8m_ac86694252f8dfdb19aaeadc4b7c342c6}{j} = 4;
331   uint32\_t pEnd = nData - \hyperlink{class_vision_1_1_image_processing_a77c370dab270158a4e9c634e2d3f48e7}{OriginalImg}.cols;
332 
333   uint16\_t currentlbl = 0;
334   vector<vector<uint16\_t>> connectedLabels;
335   vector<uint16\_t> zeroVector;
336   zeroVector.push\_back(currentlbl);
337   connectedLabels.push\_back(zeroVector);
338 
339   \textcolor{comment}{/* Four connected strategy... Although it's more code. If I place this check}
340 \textcolor{comment}{  here it's less machine instructions compared to doing it's done}
341 \textcolor{comment}{  inside the loop */}
342   \textcolor{keywordflow}{if} (conn == \hyperlink{class_vision_1_1_segment_a330240c08320e72270fac0aa83d5e27ea1fca5ab1c285c0edd2bdc3072cab0c01}{Four}) \{
343     \textcolor{comment}{// Loop through the picture}
344     \textcolor{keywordflow}{while} (\hyperlink{_comparision_pictures_2_createtest_image_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} < pEnd) \{
345       \textcolor{comment}{// If current value = zero processed value = zero}
346       \textcolor{keywordflow}{if} (O[\hyperlink{_comparision_pictures_2_createtest_image_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}] == 0) \{
347         P[\hyperlink{_comparision_pictures_2_createtest_image_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}] = 0;
348       \}
349 
350       \textcolor{comment}{// If current value = 1 check North and West and act accordingly}
351       \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (O[\hyperlink{_comparision_pictures_2_createtest_image_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}] == 1) \{
352         uint16\_t North = P[\hyperlink{_comparision_pictures_2_createtest_image_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} - nCols];
353         uint16\_t West = P[\hyperlink{_comparision_pictures_2_createtest_image_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} - 1];
354         uint16\_t minVal;
355         uint16\_t maxVal;
356 
357         \textcolor{comment}{// If North and West are both zero assume this is a new blob}
358         \textcolor{keywordflow}{if} (North == 0 && West == 0) \{
359           P[\hyperlink{_comparision_pictures_2_createtest_image_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}] = ++currentlbl;
360           vector<uint16\_t> cVector;
361           cVector.push\_back(currentlbl);
362           connectedLabels.push\_back(cVector);
363         \}
364 
365         \textcolor{comment}{// Sets the processed value to the smallest non - zero value of North}
366         \textcolor{comment}{// and West and update the connectedLabels}
367         \textcolor{keywordflow}{else} \{
368           maxVal = \hyperlink{namespace_soil_math_a9d385c44fb7e60a278a6eee8446f7b64}{SoilMath::Max}(North, West);
369           \textcolor{keywordflow}{if} (North == 0 || West == 0) \{
370             minVal = maxVal;
371           \} \textcolor{keywordflow}{else} \{
372             minVal = \hyperlink{namespace_soil_math_ad458fb6889451aa72a4a7097d10490a5}{SoilMath::Min}(North, West);
373           \}
374 
375           P[\hyperlink{_comparision_pictures_2_createtest_image_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}] = minVal;
376 
377           \textcolor{comment}{/* If North and West belong to two different connected components set}
378 \textcolor{comment}{           * the current processed value to the lowest value and remember that}
379 \textcolor{comment}{           * the highest value should be the lowest value */}
380           \textcolor{keywordflow}{if} (North != 0 && West != 0 && maxVal != minVal) \{
381             connectedLabels[maxVal].push\_back(minVal);
382           \}
383         \}
384       \}
385 
386       \textcolor{comment}{// If there is a value greater then 1 or smaller then 1 throw error}
387       \textcolor{keywordflow}{else} \{
388         \textcolor{keywordflow}{throw} Exception::PixelValueOutOfBoundException();
389       \}
390       \hyperlink{_comparision_pictures_2_createtest_image_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}++;
391     \}
392   \}
393 
394   \textcolor{comment}{// If eight connected is required}
395   \textcolor{keywordflow}{else} \{
396     \textcolor{comment}{// Loop through the picture}
397     \textcolor{keywordflow}{while} (\hyperlink{_comparision_pictures_2_createtest_image_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} < pEnd) \{
398       \textcolor{comment}{// If current value = zero processed value = zero}
399       \textcolor{keywordflow}{if} (O[\hyperlink{_comparision_pictures_2_createtest_image_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}] == 0) \{
400         P[\hyperlink{_comparision_pictures_2_createtest_image_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}] = 0;
401       \}
402 
403       \textcolor{comment}{// If current value = 1 check North and West and act accordingly}
404       \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (O[\hyperlink{_comparision_pictures_2_createtest_image_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}] == 1) \{
405         uint16\_t *nPixels = \textcolor{keyword}{new} uint16\_t[4];
406         nPixels[0] = P[\hyperlink{_comparision_pictures_2_createtest_image_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} - 1];
407         nPixels[1] = P[\hyperlink{_comparision_pictures_2_createtest_image_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} - nCols - 1];
408         nPixels[2] = P[\hyperlink{_comparision_pictures_2_createtest_image_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} - nCols];
409         nPixels[3] = P[\hyperlink{_comparision_pictures_2_createtest_image_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} - nCols + 1];
410         uint16\_t minVal;
411         uint16\_t maxVal;
412 
413         \textcolor{comment}{// Sort the neighbors for easier checking}
414         SoilMath::Sort::QuickSort<uint16\_t>(nPixels, 4);
415 
416         \textcolor{comment}{// If North NorthWest, NorthEast and West are all zero assume this is a}
417         \textcolor{comment}{// new blob}
418         \textcolor{keywordflow}{if} (nPixels[3] == 0) \{
419           P[\hyperlink{_comparision_pictures_2_createtest_image_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}] = ++currentlbl;
420           vector<uint16\_t> cVector;
421           cVector.push\_back(currentlbl);
422           connectedLabels.push\_back(cVector);
423         \}
424 
425         \textcolor{comment}{// Sets the processed value to the smallest non-zero value of North and}
426         \textcolor{comment}{// West and update the connectedLabels}
427         \textcolor{keywordflow}{else} \{
428           maxVal = nPixels[3];
429 
430           \textcolor{comment}{// If there is only 1 neighbor of importance}
431           \textcolor{keywordflow}{if} (nPixels[2] == 0) \{
432             minVal = nPixels[3];
433           \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (nPixels[1] == 0) \{
434             minVal = nPixels[2];
435           \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (nPixels[0] == 0) \{
436             minVal = nPixels[2];
437           \} \textcolor{keywordflow}{else} \{
438             minVal = nPixels[0];
439           \}
440 
441           P[\hyperlink{_comparision_pictures_2_createtest_image_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}] = minVal;
442 
443           \textcolor{comment}{/* If North NorthWest, NorthEast and West belong to different}
444 \textcolor{comment}{           * connected components set the current processed value to the lowest}
445 \textcolor{comment}{           * value and remember that the other value should be the lowest}
446 \textcolor{comment}{           * value*/}
447           \textcolor{keywordflow}{if} (nPixels[0] != nPixels[3]) \{
448             \hyperlink{_comparision_pictures_2_createtest_image_8m_ac86694252f8dfdb19aaeadc4b7c342c6}{j} = 4;
449             \textcolor{keywordflow}{while} (\hyperlink{_comparision_pictures_2_createtest_image_8m_ac86694252f8dfdb19aaeadc4b7c342c6}{j}-- > 0) \{
450               \textcolor{keywordflow}{if} (nPixels[\hyperlink{_comparision_pictures_2_createtest_image_8m_ac86694252f8dfdb19aaeadc4b7c342c6}{j}] != 0 && nPixels[\hyperlink{_comparision_pictures_2_createtest_image_8m_ac86694252f8dfdb19aaeadc4b7c342c6}{j}] > minVal) \{
451                 connectedLabels[nPixels[\hyperlink{_comparision_pictures_2_createtest_image_8m_ac86694252f8dfdb19aaeadc4b7c342c6}{j}]].push\_back(minVal);
452               \}
453             \}
454           \}
455         \}
456         \textcolor{keyword}{delete}[] nPixels;
457       \}
458       \textcolor{comment}{// If there is a value greater then 1 or smaller then 1 throw error}
459       \textcolor{keywordflow}{else} \{
460         \textcolor{keywordflow}{throw} Exception::PixelValueOutOfBoundException();
461       \}
462       \hyperlink{_comparision_pictures_2_createtest_image_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}++;
463     \}
464   \}
465 
466   \textcolor{comment}{// Sort all the vectors so the min value is easily obtained}
467   \hyperlink{_comparision_pictures_2_createtest_image_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} = currentlbl + 1;
468   \textcolor{keywordflow}{while} (\hyperlink{_comparision_pictures_2_createtest_image_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}-- > 0) \{
469     std::sort(connectedLabels[\hyperlink{_comparision_pictures_2_createtest_image_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}].begin(), connectedLabels[\hyperlink{_comparision_pictures_2_createtest_image_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}].end());
470   \}
471 
472   \textcolor{comment}{// Create the LUT}
473   uint16\_t *LUT\_newVal = \textcolor{keyword}{new} uint16\_t[currentlbl + 1];
474   \hyperlink{_comparision_pictures_2_createtest_image_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} = currentlbl + 1;
475   \textcolor{keywordflow}{while} (\hyperlink{_comparision_pictures_2_createtest_image_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}-- > 0) \{
476     \textcolor{comment}{// If the value has a chain, crawl in that rabbit hole till the}
477     \textcolor{comment}{// lowest value is found and sets the LUT}
478     \textcolor{keywordflow}{if} (connectedLabels[\hyperlink{_comparision_pictures_2_createtest_image_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}].size() > 1) \{
479       uint16\_t pChainVal = connectedLabels[connectedLabels[\hyperlink{_comparision_pictures_2_createtest_image_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}][0]][0];
480       uint16\_t cChainVal = connectedLabels[\hyperlink{_comparision_pictures_2_createtest_image_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}][0];
481       uint16\_t lowestVal = pChainVal;
482 
483       \textcolor{comment}{// How far goes the rabbit hole}
484       \textcolor{keywordflow}{while} (pChainVal != cChainVal) \{
485         cChainVal = connectedLabels[pChainVal][0];
486         pChainVal = connectedLabels[cChainVal][0];
487         lowestVal = pChainVal;
488       \}
489 
490       \textcolor{comment}{// Write the lowest label to the Look-Up-Table}
491       LUT\_newVal[\hyperlink{_comparision_pictures_2_createtest_image_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}] = lowestVal;
492     \} \textcolor{keywordflow}{else} \{
493       LUT\_newVal[\hyperlink{_comparision_pictures_2_createtest_image_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}] = \hyperlink{_comparision_pictures_2_createtest_image_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i};
494     \} \textcolor{comment}{// End of the line so use the same label}
495   \}
496 
497   \textcolor{comment}{// Make the labels consecutive numbers}
498   uint16\_t *tempLUT = \textcolor{keyword}{new} uint16\_t[currentlbl + 1];
499   \hyperlink{class_vision_1_1_segment_a3543a9696469dc07718c8227eaeaf9c0}{makeConsecutive}(currentlbl, tempLUT, LUT\_newVal);
500 
501   \textcolor{comment}{// Get the maximum value}
502   \hyperlink{_comparision_pictures_2_createtest_image_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} = 0;
503   \textcolor{keywordflow}{while} (\hyperlink{_comparision_pictures_2_createtest_image_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} <= currentlbl) \{
504     \textcolor{keywordflow}{if} (LUT\_newVal[\hyperlink{_comparision_pictures_2_createtest_image_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}] > \hyperlink{class_vision_1_1_segment_a22d2a688de65f4d25b164f8b2a03f4a9}{MaxLabel}) \{
505       \hyperlink{class_vision_1_1_segment_a22d2a688de65f4d25b164f8b2a03f4a9}{MaxLabel} = LUT\_newVal[\hyperlink{_comparision_pictures_2_createtest_image_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}];
506     \}
507     \hyperlink{_comparision_pictures_2_createtest_image_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}++;
508   \}
509 
510   \textcolor{comment}{// Second loop through each pixel to replace them with corresponding}
511   \textcolor{comment}{// intermediate value}
512   \hyperlink{_comparision_pictures_2_createtest_image_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} = 0;
513   \textcolor{keywordflow}{while} (\hyperlink{_comparision_pictures_2_createtest_image_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} < pEnd) \{
514     P[\hyperlink{_comparision_pictures_2_createtest_image_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}] = LUT\_newVal[P[\hyperlink{_comparision_pictures_2_createtest_image_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}]];
515     \hyperlink{_comparision_pictures_2_createtest_image_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}++;
516   \}
517 
518   \textcolor{comment}{// Create a LUT\_filter for each value that is smaller then minBlobArea}
519   \hyperlink{class_soil_math_1_1_stats}{uint16Stat\_t} ProcImgStats(P, nCols, nRows, \hyperlink{class_vision_1_1_segment_a22d2a688de65f4d25b164f8b2a03f4a9}{MaxLabel} + 1, 0, 
      \hyperlink{class_vision_1_1_segment_a22d2a688de65f4d25b164f8b2a03f4a9}{MaxLabel});
520   uint16\_t *LUT\_finalVal = \textcolor{keyword}{new} uint16\_t[\hyperlink{class_vision_1_1_segment_a22d2a688de65f4d25b164f8b2a03f4a9}{MaxLabel} + 1]\{\};
521   uint16\_t \hyperlink{_comparision_pictures_2_createtest_image_8m_ae11b3deb3de3df7dc48e439074023e35}{count} = 0;
522   \hyperlink{_comparision_pictures_2_createtest_image_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} = 0;
523   \textcolor{keywordflow}{while} (\hyperlink{_comparision_pictures_2_createtest_image_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} <= \hyperlink{class_vision_1_1_segment_a22d2a688de65f4d25b164f8b2a03f4a9}{MaxLabel}) \{
524     \textcolor{keywordflow}{if} (ProcImgStats.bins[\hyperlink{_comparision_pictures_2_createtest_image_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}] > minBlobArea) \{
525       LUT\_finalVal[\hyperlink{_comparision_pictures_2_createtest_image_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}] = count++;
526     \}
527     \hyperlink{_comparision_pictures_2_createtest_image_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}++;
528   \}
529 
530   \hyperlink{class_vision_1_1_segment_a97077da3a144e800073bc06f5d4722d4}{noOfFilteredBlobs} = \hyperlink{class_vision_1_1_segment_a22d2a688de65f4d25b164f8b2a03f4a9}{MaxLabel} - count - 1;
531   \hyperlink{class_vision_1_1_segment_a22d2a688de65f4d25b164f8b2a03f4a9}{MaxLabel} = count - 1;
532 
533   \textcolor{comment}{// third loop through each pixel to replace them with corresponding final}
534   \textcolor{comment}{// value}
535   \hyperlink{_comparision_pictures_2_createtest_image_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} = 0;
536   \textcolor{keywordflow}{while} (\hyperlink{_comparision_pictures_2_createtest_image_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} < pEnd) \{
537     P[\hyperlink{_comparision_pictures_2_createtest_image_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}] = LUT\_finalVal[P[\hyperlink{_comparision_pictures_2_createtest_image_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}]];
538     \hyperlink{_comparision_pictures_2_createtest_image_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}++;
539   \}
540 
541   \textcolor{keyword}{delete}[] tempLUT;
542   \textcolor{keyword}{delete}[] LUT\_newVal;
543   \textcolor{keyword}{delete}[] LUT\_finalVal;
544 \}
\end{DoxyCode}


Here is the call graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{class_vision_1_1_segment_ac10de08f4c3b0f8cb91f0469b6cf37c9_cgraph}
\end{center}
\end{figure}




Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{class_vision_1_1_segment_ac10de08f4c3b0f8cb91f0469b6cf37c9_icgraph}
\end{center}
\end{figure}


\hypertarget{class_vision_1_1_segment_a8b5edc7f5a69d961e47f61a2191b8745}{}\index{Vision\+::\+Segment@{Vision\+::\+Segment}!Load\+Original\+Img@{Load\+Original\+Img}}
\index{Load\+Original\+Img@{Load\+Original\+Img}!Vision\+::\+Segment@{Vision\+::\+Segment}}
\subsubsection[{Load\+Original\+Img}]{\setlength{\rightskip}{0pt plus 5cm}void Segment\+::\+Load\+Original\+Img (
\begin{DoxyParamCaption}
\item[{const Mat \&}]{src}
\end{DoxyParamCaption}
)}\label{class_vision_1_1_segment_a8b5edc7f5a69d961e47f61a2191b8745}


Definition at line 56 of file Segment.\+cpp.



References Labelled\+Img, Vision\+::\+Image\+Processing\+::\+Original\+Img, and Vision\+::\+Image\+Processing\+::\+Processed\+Img.



Referenced by Soil\+Analyzer\+::\+Sample\+::\+Segment\+Particles().


\begin{DoxyCode}
56                                             \{
57   \hyperlink{class_vision_1_1_image_processing_a77c370dab270158a4e9c634e2d3f48e7}{OriginalImg} = src;
58   \hyperlink{class_vision_1_1_image_processing_aa7d65742882cd1b2a1e4e9cb68809211}{ProcessedImg}.create(\hyperlink{class_vision_1_1_image_processing_a77c370dab270158a4e9c634e2d3f48e7}{OriginalImg}.size(), CV\_8UC1);
59   \hyperlink{class_vision_1_1_segment_a4daa143f6cd4a753d3bbe45c6a67d27f}{LabelledImg}.create(\hyperlink{class_vision_1_1_image_processing_a77c370dab270158a4e9c634e2d3f48e7}{OriginalImg}.size(), CV\_16UC1);
60 \}
\end{DoxyCode}


Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{class_vision_1_1_segment_a8b5edc7f5a69d961e47f61a2191b8745_icgraph}
\end{center}
\end{figure}


\hypertarget{class_vision_1_1_segment_a3543a9696469dc07718c8227eaeaf9c0}{}\index{Vision\+::\+Segment@{Vision\+::\+Segment}!make\+Consecutive@{make\+Consecutive}}
\index{make\+Consecutive@{make\+Consecutive}!Vision\+::\+Segment@{Vision\+::\+Segment}}
\subsubsection[{make\+Consecutive}]{\setlength{\rightskip}{0pt plus 5cm}void Segment\+::make\+Consecutive (
\begin{DoxyParamCaption}
\item[{uint16\+\_\+t}]{Last\+Label\+Used, }
\item[{uint16\+\_\+t $\ast$}]{temp\+L\+U\+T, }
\item[{uint16\+\_\+t $\ast$}]{L\+U\+T\+\_\+new\+Val}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\label{class_vision_1_1_segment_a3543a9696469dc07718c8227eaeaf9c0}


Definition at line 787 of file Segment.\+cpp.



References count, and i.



Referenced by Label\+Blobs().


\begin{DoxyCode}
788                                                     \{
789   uint32\_t \hyperlink{_comparision_pictures_2_createtest_image_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} = LastLabelUsed + 1;
790   \textcolor{keywordflow}{while} (i-- > 0) \{
791     tempLUT[\hyperlink{_comparision_pictures_2_createtest_image_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}] = LUT\_newVal[\hyperlink{_comparision_pictures_2_createtest_image_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}];
792   \}
793   SoilMath::Sort::QuickSort<uint16\_t>(tempLUT, LastLabelUsed + 1);
794   std::vector<uint16\_t> v(LUT\_newVal, LUT\_newVal + (LastLabelUsed + 1));
795 
796   uint16\_t \hyperlink{_comparision_pictures_2_createtest_image_8m_ae11b3deb3de3df7dc48e439074023e35}{count} = 0;
797   i = 1;
798   \textcolor{keywordflow}{while} (i <= LastLabelUsed) \{
799     \textcolor{keywordflow}{if} (tempLUT[i] != tempLUT[i - 1]) \{
800       std::replace(v.begin(), v.end(), tempLUT[\hyperlink{_comparision_pictures_2_createtest_image_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}], ++\hyperlink{_comparision_pictures_2_createtest_image_8m_ae11b3deb3de3df7dc48e439074023e35}{count});
801     \}
802     i++;
803   \}
804 
805   LUT\_newVal = &v[0];
806 \}
\end{DoxyCode}


Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{class_vision_1_1_segment_a3543a9696469dc07718c8227eaeaf9c0_icgraph}
\end{center}
\end{figure}


\hypertarget{class_vision_1_1_segment_a1bfc12c503f6e07cca595ec884273e13}{}\index{Vision\+::\+Segment@{Vision\+::\+Segment}!operator=@{operator=}}
\index{operator=@{operator=}!Vision\+::\+Segment@{Vision\+::\+Segment}}
\subsubsection[{operator=}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Segment} \& Segment\+::operator= (
\begin{DoxyParamCaption}
\item[{{\bf Segment} \&}]{rhs}
\end{DoxyParamCaption}
)}\label{class_vision_1_1_segment_a1bfc12c503f6e07cca595ec884273e13}


Definition at line 41 of file Segment.\+cpp.



References Blob\+List, Labelled\+Img, Max\+Label, no\+Of\+Filtered\+Blobs, Vision\+::\+Image\+Processing\+::\+Original\+Img, Original\+Img\+Stats, Vision\+::\+Image\+Processing\+::\+Processed\+Img, Vision\+::\+Image\+Processing\+::\+Temp\+Img, and Threshold\+Level.


\begin{DoxyCode}
41                                         \{
42   \textcolor{keywordflow}{if} (&rhs != \textcolor{keyword}{this}) \{
43     this->\hyperlink{class_vision_1_1_segment_a74e0600a7dd49bd7110ee27bb4cd6e0e}{BlobList} = rhs.BlobList;
44     this->\hyperlink{class_vision_1_1_segment_a4daa143f6cd4a753d3bbe45c6a67d27f}{LabelledImg} = rhs.LabelledImg;
45     this->\hyperlink{class_vision_1_1_segment_a22d2a688de65f4d25b164f8b2a03f4a9}{MaxLabel} = rhs.MaxLabel;
46     this->\hyperlink{class_vision_1_1_segment_a97077da3a144e800073bc06f5d4722d4}{noOfFilteredBlobs} = rhs.noOfFilteredBlobs;
47     this->\hyperlink{class_vision_1_1_image_processing_a77c370dab270158a4e9c634e2d3f48e7}{OriginalImg} = rhs.OriginalImg;
48     this->\hyperlink{class_vision_1_1_segment_ab35cfe5504de7e5ea327991468e6cf3b}{OriginalImgStats} = rhs.OriginalImgStats;
49     this->\hyperlink{class_vision_1_1_image_processing_aa7d65742882cd1b2a1e4e9cb68809211}{ProcessedImg} = rhs.ProcessedImg;
50     this->\hyperlink{class_vision_1_1_image_processing_a5371ad8d6f7aac9d43ee5c902ade7435}{TempImg} = rhs.TempImg;
51     this->\hyperlink{class_vision_1_1_segment_a44f45a7d08ba6fed38e5c31bc9108291}{ThresholdLevel} = rhs.ThresholdLevel;
52   \}
53   \textcolor{keywordflow}{return} *\textcolor{keyword}{this};
54 \}
\end{DoxyCode}
\hypertarget{class_vision_1_1_segment_a65a50340b5a1a0fb08a1b5749b7145b6}{}\index{Vision\+::\+Segment@{Vision\+::\+Segment}!Remove\+Border\+Blobs@{Remove\+Border\+Blobs}}
\index{Remove\+Border\+Blobs@{Remove\+Border\+Blobs}!Vision\+::\+Segment@{Vision\+::\+Segment}}
\subsubsection[{Remove\+Border\+Blobs}]{\setlength{\rightskip}{0pt plus 5cm}void Segment\+::\+Remove\+Border\+Blobs (
\begin{DoxyParamCaption}
\item[{uint32\+\_\+t}]{border = {\ttfamily 1}, }
\item[{bool}]{chain = {\ttfamily false}}
\end{DoxyParamCaption}
)}\label{class_vision_1_1_segment_a65a50340b5a1a0fb08a1b5749b7145b6}
Remove the blobs that are connected to the border 
\begin{DoxyParams}{Parameters}
{\em conn} & set the pixel connection eight or four \\
\hline
{\em chain} & use the results from the previous operation default value = false; \\
\hline
\end{DoxyParams}


Definition at line 245 of file Segment.\+cpp.



References C\+H\+A\+I\+N\+\_\+\+P\+R\+O\+C\+E\+S\+S, E\+M\+P\+T\+Y\+\_\+\+C\+H\+E\+C\+K, i, j, Vision\+::\+Image\+Processing\+::\+Original\+Img, Vision\+::\+Image\+Processing\+::\+Processed\+Img, S\+H\+O\+W\+\_\+\+D\+E\+B\+U\+G\+\_\+\+I\+M\+G, and Vision\+::\+Image\+Processing\+::\+Temp\+Img.



Referenced by B\+O\+O\+S\+T\+\_\+\+A\+U\+T\+O\+\_\+\+T\+E\+S\+T\+\_\+\+C\+A\+S\+E(), Soil\+Analyzer\+::\+Sample\+::\+Prep\+Img(), and Soil\+Analyzer\+::\+Sample\+::\+Segment\+Particles().


\begin{DoxyCode}
245                                                            \{
246   CV\_Assert(\hyperlink{class_vision_1_1_image_processing_a77c370dab270158a4e9c634e2d3f48e7}{OriginalImg}.depth() != \textcolor{keyword}{sizeof}(\hyperlink{_soil_math_types_8h_a65f85814a8290f9797005d3b28e7e5fc}{uchar}));
247   \hyperlink{_image_processing_8h_a27c4e53b88a0f9f2c097add555131056}{EMPTY\_CHECK}(\hyperlink{class_vision_1_1_image_processing_a77c370dab270158a4e9c634e2d3f48e7}{OriginalImg});
248   \textcolor{comment}{// make Pointers}
249   \hyperlink{_soil_math_types_8h_a65f85814a8290f9797005d3b28e7e5fc}{uchar} *O;
250   \hyperlink{_image_processing_8h_a6e6f0183cb53c76ef458d4fd34e07bcd}{CHAIN\_PROCESS}(chain, O, \hyperlink{_soil_math_types_8h_a65f85814a8290f9797005d3b28e7e5fc}{uchar});
251   \textcolor{keywordflow}{if} (chain) \{
252     \hyperlink{class_vision_1_1_image_processing_aa7d65742882cd1b2a1e4e9cb68809211}{ProcessedImg} = \hyperlink{class_vision_1_1_image_processing_a5371ad8d6f7aac9d43ee5c902ade7435}{TempImg}.clone();
253   \} \textcolor{keywordflow}{else} \{
254     \hyperlink{class_vision_1_1_image_processing_aa7d65742882cd1b2a1e4e9cb68809211}{ProcessedImg} = \hyperlink{class_vision_1_1_image_processing_a77c370dab270158a4e9c634e2d3f48e7}{OriginalImg}.clone();
255   \}
256 
257   \hyperlink{_vision_debug_8h_aae864fa4f990213a4184a209ff236202}{SHOW\_DEBUG\_IMG}(\hyperlink{class_vision_1_1_image_processing_a77c370dab270158a4e9c634e2d3f48e7}{OriginalImg}, \hyperlink{_soil_math_types_8h_a65f85814a8290f9797005d3b28e7e5fc}{uchar}, 255, \textcolor{stringliteral}{"Original Image RemoverBorderBlobs!
      "},
258                  \textcolor{keyword}{true});
259   \hyperlink{_vision_debug_8h_aae864fa4f990213a4184a209ff236202}{SHOW\_DEBUG\_IMG}(\hyperlink{class_vision_1_1_image_processing_a5371ad8d6f7aac9d43ee5c902ade7435}{TempImg}, \hyperlink{_soil_math_types_8h_a65f85814a8290f9797005d3b28e7e5fc}{uchar}, 255, \textcolor{stringliteral}{"Temp Image RemoverBorderBlobs!"}, \textcolor{keyword}{true});
260 
261   \hyperlink{_soil_math_types_8h_a65f85814a8290f9797005d3b28e7e5fc}{uchar} *P = \hyperlink{class_vision_1_1_image_processing_aa7d65742882cd1b2a1e4e9cb68809211}{ProcessedImg}.data;
262   uint32\_t cols = \hyperlink{class_vision_1_1_image_processing_aa7d65742882cd1b2a1e4e9cb68809211}{ProcessedImg}.cols;
263   uint32\_t rows = \hyperlink{class_vision_1_1_image_processing_aa7d65742882cd1b2a1e4e9cb68809211}{ProcessedImg}.rows;
264 
265   \textcolor{keywordflow}{try} \{
266     \textcolor{keywordflow}{for} (uint32\_t \hyperlink{_comparision_pictures_2_createtest_image_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} = 0; \hyperlink{_comparision_pictures_2_createtest_image_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} < border; \hyperlink{_comparision_pictures_2_createtest_image_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}++) \{
267       \textcolor{keywordflow}{for} (uint32\_t \hyperlink{_comparision_pictures_2_createtest_image_8m_ac86694252f8dfdb19aaeadc4b7c342c6}{j} = 0; \hyperlink{_comparision_pictures_2_createtest_image_8m_ac86694252f8dfdb19aaeadc4b7c342c6}{j} < cols; \hyperlink{_comparision_pictures_2_createtest_image_8m_ac86694252f8dfdb19aaeadc4b7c342c6}{j}++) \{
268         \textcolor{keywordflow}{if} (O[(\hyperlink{_comparision_pictures_2_createtest_image_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} * cols) + \hyperlink{_comparision_pictures_2_createtest_image_8m_ac86694252f8dfdb19aaeadc4b7c342c6}{j}] == 1 && P[(\hyperlink{_comparision_pictures_2_createtest_image_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} * cols) + \hyperlink{_comparision_pictures_2_createtest_image_8m_ac86694252f8dfdb19aaeadc4b7c342c6}{j}] != 2) \{
269           cv::floodFill(\hyperlink{class_vision_1_1_image_processing_aa7d65742882cd1b2a1e4e9cb68809211}{ProcessedImg}, cv::Point(\hyperlink{_comparision_pictures_2_createtest_image_8m_ac86694252f8dfdb19aaeadc4b7c342c6}{j}, \hyperlink{_comparision_pictures_2_createtest_image_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}), (\hyperlink{_soil_math_types_8h_a65f85814a8290f9797005d3b28e7e5fc}{uchar})2);
270         \}
271       \}
272     \}
273 
274     \textcolor{keywordflow}{for} (uint32\_t \hyperlink{_comparision_pictures_2_createtest_image_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} = rows - border - 1; \hyperlink{_comparision_pictures_2_createtest_image_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} < rows; \hyperlink{_comparision_pictures_2_createtest_image_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}++) \{
275       \textcolor{keywordflow}{for} (uint32\_t \hyperlink{_comparision_pictures_2_createtest_image_8m_ac86694252f8dfdb19aaeadc4b7c342c6}{j} = 0; \hyperlink{_comparision_pictures_2_createtest_image_8m_ac86694252f8dfdb19aaeadc4b7c342c6}{j} < cols; \hyperlink{_comparision_pictures_2_createtest_image_8m_ac86694252f8dfdb19aaeadc4b7c342c6}{j}++) \{
276         \textcolor{keywordflow}{if} (O[(\hyperlink{_comparision_pictures_2_createtest_image_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} * cols) + \hyperlink{_comparision_pictures_2_createtest_image_8m_ac86694252f8dfdb19aaeadc4b7c342c6}{j}] == 1 && P[(\hyperlink{_comparision_pictures_2_createtest_image_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} * cols) + \hyperlink{_comparision_pictures_2_createtest_image_8m_ac86694252f8dfdb19aaeadc4b7c342c6}{j}] != 2) \{
277           cv::floodFill(\hyperlink{class_vision_1_1_image_processing_aa7d65742882cd1b2a1e4e9cb68809211}{ProcessedImg}, cv::Point(\hyperlink{_comparision_pictures_2_createtest_image_8m_ac86694252f8dfdb19aaeadc4b7c342c6}{j}, \hyperlink{_comparision_pictures_2_createtest_image_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}), (\hyperlink{_soil_math_types_8h_a65f85814a8290f9797005d3b28e7e5fc}{uchar})2);
278         \}
279       \}
280     \}
281 
282     \textcolor{keywordflow}{for} (uint32\_t \hyperlink{_comparision_pictures_2_createtest_image_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} = border; \hyperlink{_comparision_pictures_2_createtest_image_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} < rows - border; \hyperlink{_comparision_pictures_2_createtest_image_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}++) \{
283       \textcolor{keywordflow}{for} (uint32\_t \hyperlink{_comparision_pictures_2_createtest_image_8m_ac86694252f8dfdb19aaeadc4b7c342c6}{j} = 0; \hyperlink{_comparision_pictures_2_createtest_image_8m_ac86694252f8dfdb19aaeadc4b7c342c6}{j} < border; \hyperlink{_comparision_pictures_2_createtest_image_8m_ac86694252f8dfdb19aaeadc4b7c342c6}{j}++) \{
284         \textcolor{keywordflow}{if} (O[(\hyperlink{_comparision_pictures_2_createtest_image_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} * cols) + \hyperlink{_comparision_pictures_2_createtest_image_8m_ac86694252f8dfdb19aaeadc4b7c342c6}{j}] == 1 && P[(\hyperlink{_comparision_pictures_2_createtest_image_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} * cols) + \hyperlink{_comparision_pictures_2_createtest_image_8m_ac86694252f8dfdb19aaeadc4b7c342c6}{j}] != 2) \{
285           cv::floodFill(\hyperlink{class_vision_1_1_image_processing_aa7d65742882cd1b2a1e4e9cb68809211}{ProcessedImg}, cv::Point(\hyperlink{_comparision_pictures_2_createtest_image_8m_ac86694252f8dfdb19aaeadc4b7c342c6}{j}, \hyperlink{_comparision_pictures_2_createtest_image_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}), (\hyperlink{_soil_math_types_8h_a65f85814a8290f9797005d3b28e7e5fc}{uchar})2);
286         \}
287         \textcolor{keywordflow}{if} (O[(\hyperlink{_comparision_pictures_2_createtest_image_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} * cols) + (cols - \hyperlink{_comparision_pictures_2_createtest_image_8m_ac86694252f8dfdb19aaeadc4b7c342c6}{j} - 1)] == 1 &&
288             P[(\hyperlink{_comparision_pictures_2_createtest_image_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} * cols) + (cols - \hyperlink{_comparision_pictures_2_createtest_image_8m_ac86694252f8dfdb19aaeadc4b7c342c6}{j} - 1)] != 2) \{
289           cv::floodFill(\hyperlink{class_vision_1_1_image_processing_aa7d65742882cd1b2a1e4e9cb68809211}{ProcessedImg}, cv::Point(cols - \hyperlink{_comparision_pictures_2_createtest_image_8m_ac86694252f8dfdb19aaeadc4b7c342c6}{j} - 1, \hyperlink{_comparision_pictures_2_createtest_image_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}), (
      \hyperlink{_soil_math_types_8h_a65f85814a8290f9797005d3b28e7e5fc}{uchar})2);
290         \}
291       \}
292     \}
293   \} \textcolor{keywordflow}{catch} (cv::Exception &e) \{
294   \}
295   \hyperlink{_vision_debug_8h_aae864fa4f990213a4184a209ff236202}{SHOW\_DEBUG\_IMG}(\hyperlink{class_vision_1_1_image_processing_aa7d65742882cd1b2a1e4e9cb68809211}{ProcessedImg}, \hyperlink{_soil_math_types_8h_a65f85814a8290f9797005d3b28e7e5fc}{uchar}, 255,
296                  \textcolor{stringliteral}{"Processed Image RemoverBorderBlobs before LUT!"}, \textcolor{keyword}{true});
297 
298   \textcolor{comment}{// Change values 2 -> 0}
299   \hyperlink{_soil_math_types_8h_a65f85814a8290f9797005d3b28e7e5fc}{uchar} LUT\_newValue[3]\{0, 1, 0\};
300   P = \hyperlink{class_vision_1_1_image_processing_aa7d65742882cd1b2a1e4e9cb68809211}{ProcessedImg}.data;
301   uint32\_t nData = rows * cols;
302   \textcolor{keywordflow}{for} (uint32\_t \hyperlink{_comparision_pictures_2_createtest_image_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} = 0; \hyperlink{_comparision_pictures_2_createtest_image_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} < nData; \hyperlink{_comparision_pictures_2_createtest_image_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}++) \{
303     P[\hyperlink{_comparision_pictures_2_createtest_image_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}] = LUT\_newValue[P[\hyperlink{_comparision_pictures_2_createtest_image_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}]];
304   \}
305 
306   \hyperlink{_vision_debug_8h_aae864fa4f990213a4184a209ff236202}{SHOW\_DEBUG\_IMG}(\hyperlink{class_vision_1_1_image_processing_aa7d65742882cd1b2a1e4e9cb68809211}{ProcessedImg}, \hyperlink{_soil_math_types_8h_a65f85814a8290f9797005d3b28e7e5fc}{uchar}, 255,
307                  \textcolor{stringliteral}{"Processed Image RemoverBorderBlobs!"}, \textcolor{keyword}{true});
308 \}
\end{DoxyCode}


Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{class_vision_1_1_segment_a65a50340b5a1a0fb08a1b5749b7145b6_icgraph}
\end{center}
\end{figure}


\hypertarget{class_vision_1_1_segment_ae3349aa3725f883943fb316c0d52752d}{}\index{Vision\+::\+Segment@{Vision\+::\+Segment}!Set\+Border@{Set\+Border}}
\index{Set\+Border@{Set\+Border}!Vision\+::\+Segment@{Vision\+::\+Segment}}
\subsubsection[{Set\+Border}]{\setlength{\rightskip}{0pt plus 5cm}void Segment\+::\+Set\+Border (
\begin{DoxyParamCaption}
\item[{{\bf uchar} $\ast$}]{P, }
\item[{{\bf uchar}}]{set\+Value}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\label{class_vision_1_1_segment_ae3349aa3725f883943fb316c0d52752d}
Set all the border pixels to a set value 
\begin{DoxyParams}{Parameters}
{\em $\ast$\+P} & uchar pointer to the Mat.\+data \\
\hline
{\em set\+Value} & uchar the value which is written to the border pixels \\
\hline
\end{DoxyParams}


Definition at line 208 of file Segment.\+cpp.



References E\+M\+P\+T\+Y\+\_\+\+C\+H\+E\+C\+K, i, and Vision\+::\+Image\+Processing\+::\+Original\+Img.


\begin{DoxyCode}
208                                                 \{
209   \textcolor{comment}{// Exception handling}
210   \hyperlink{_image_processing_8h_a27c4e53b88a0f9f2c097add555131056}{EMPTY\_CHECK}(\hyperlink{class_vision_1_1_image_processing_a77c370dab270158a4e9c634e2d3f48e7}{OriginalImg});
211   CV\_Assert(\hyperlink{class_vision_1_1_image_processing_a77c370dab270158a4e9c634e2d3f48e7}{OriginalImg}.depth() != \textcolor{keyword}{sizeof}(\hyperlink{_soil_math_types_8h_a65f85814a8290f9797005d3b28e7e5fc}{uchar}) ||
212             \hyperlink{class_vision_1_1_image_processing_a77c370dab270158a4e9c634e2d3f48e7}{OriginalImg}.depth() != \textcolor{keyword}{sizeof}(uint16\_t));
213 
214   uint32\_t nData = \hyperlink{class_vision_1_1_image_processing_a77c370dab270158a4e9c634e2d3f48e7}{OriginalImg}.cols * \hyperlink{class_vision_1_1_image_processing_a77c370dab270158a4e9c634e2d3f48e7}{OriginalImg}.rows;
215 
216   \textcolor{comment}{// Set borderPixels to 2}
217   uint32\_t \hyperlink{_comparision_pictures_2_createtest_image_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} = 0;
218   uint32\_t pEnd = \hyperlink{class_vision_1_1_image_processing_a77c370dab270158a4e9c634e2d3f48e7}{OriginalImg}.cols + 1;
219 
220   \textcolor{comment}{// Set the top row to value 2}
221   \textcolor{keywordflow}{while} (i < pEnd) \{
222     P[i++] = setValue;
223   \}
224 
225   \textcolor{comment}{// Set the bottom row to value 2}
226   i = nData + 1;
227   pEnd = nData - \hyperlink{class_vision_1_1_image_processing_a77c370dab270158a4e9c634e2d3f48e7}{OriginalImg}.cols;
228   \textcolor{keywordflow}{while} (i-- > pEnd) \{
229     P[\hyperlink{_comparision_pictures_2_createtest_image_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}] = setValue;
230   \}
231 
232   \textcolor{comment}{// Sets the first and the last Column to 2}
233   i = 1;
234   pEnd = \hyperlink{class_vision_1_1_image_processing_a77c370dab270158a4e9c634e2d3f48e7}{OriginalImg}.rows;
235   \textcolor{keywordflow}{while} (i < pEnd) \{
236     P[(i * \hyperlink{class_vision_1_1_image_processing_a77c370dab270158a4e9c634e2d3f48e7}{OriginalImg}.cols) - 1] = setValue;
237     P[(i++ * \hyperlink{class_vision_1_1_image_processing_a77c370dab270158a4e9c634e2d3f48e7}{OriginalImg}.cols)] = setValue;
238   \}
239 \}
\end{DoxyCode}
\hypertarget{class_vision_1_1_segment_a1d486dd3b67e1e1208c9ca04be8f6659}{}\index{Vision\+::\+Segment@{Vision\+::\+Segment}!Threshold@{Threshold}}
\index{Threshold@{Threshold}!Vision\+::\+Segment@{Vision\+::\+Segment}}
\subsubsection[{Threshold}]{\setlength{\rightskip}{0pt plus 5cm}void Segment\+::\+Threshold (
\begin{DoxyParamCaption}
\item[{{\bf uchar}}]{t, }
\item[{{\bf Type\+Of\+Objects}}]{Typeobjects}
\end{DoxyParamCaption}
)}\label{class_vision_1_1_segment_a1d486dd3b67e1e1208c9ca04be8f6659}
Convert a greyscale image to a B\+W 
\begin{DoxyParams}{Parameters}
{\em t} & uchar set the value which is the tiping point \\
\hline
{\em Type\+Object} & is an enumerator indicating if the bright or the dark pixels are the object and should be set to one \\
\hline
\end{DoxyParams}


Definition at line 176 of file Segment.\+cpp.



References Bright, E\+M\+P\+T\+Y\+\_\+\+C\+H\+E\+C\+K, i, Vision\+::\+Image\+Processing\+::\+Original\+Img, and Vision\+::\+Image\+Processing\+::\+Processed\+Img.



Referenced by Convert\+To\+B\+W().


\begin{DoxyCode}
176                                                           \{
177   \textcolor{comment}{// Exception handling}
178   \hyperlink{_image_processing_8h_a27c4e53b88a0f9f2c097add555131056}{EMPTY\_CHECK}(\hyperlink{class_vision_1_1_image_processing_a77c370dab270158a4e9c634e2d3f48e7}{OriginalImg});
179   CV\_Assert(\hyperlink{class_vision_1_1_image_processing_a77c370dab270158a4e9c634e2d3f48e7}{OriginalImg}.depth() != \textcolor{keyword}{sizeof}(\hyperlink{_soil_math_types_8h_a65f85814a8290f9797005d3b28e7e5fc}{uchar}) ||
180             \hyperlink{class_vision_1_1_image_processing_a77c370dab270158a4e9c634e2d3f48e7}{OriginalImg}.depth() != \textcolor{keyword}{sizeof}(uint16\_t));
181 
182   \textcolor{comment}{// Create LUT}
183   \hyperlink{_soil_math_types_8h_a65f85814a8290f9797005d3b28e7e5fc}{uchar} LUT\_newValue[256]\{0\};
184   \textcolor{keywordflow}{if} (Typeobjects == \hyperlink{class_vision_1_1_segment_ac3ddf2c72ee6333007510b680db1e7ddad37a09a08a5a4fdf88cb15f21e5ff28b}{Bright}) \{
185     \textcolor{keywordflow}{for} (uint32\_t \hyperlink{_comparision_pictures_2_createtest_image_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} = t; \hyperlink{_comparision_pictures_2_createtest_image_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} < 256; \hyperlink{_comparision_pictures_2_createtest_image_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}++) \{
186       LUT\_newValue[\hyperlink{_comparision_pictures_2_createtest_image_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}] = 1;
187     \}
188   \} \textcolor{keywordflow}{else} \{
189     \textcolor{keywordflow}{for} (uint32\_t \hyperlink{_comparision_pictures_2_createtest_image_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} = 0; \hyperlink{_comparision_pictures_2_createtest_image_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} <= t; \hyperlink{_comparision_pictures_2_createtest_image_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}++) \{
190       LUT\_newValue[\hyperlink{_comparision_pictures_2_createtest_image_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}] = 1;
191     \}
192   \}
193 
194   \textcolor{comment}{// Create the pointers to the data}
195   \hyperlink{_soil_math_types_8h_a65f85814a8290f9797005d3b28e7e5fc}{uchar} *P = \hyperlink{class_vision_1_1_image_processing_aa7d65742882cd1b2a1e4e9cb68809211}{ProcessedImg}.data;
196   \hyperlink{_soil_math_types_8h_a65f85814a8290f9797005d3b28e7e5fc}{uchar} *O = \hyperlink{class_vision_1_1_image_processing_a77c370dab270158a4e9c634e2d3f48e7}{OriginalImg}.data;
197 
198   \textcolor{comment}{// Fills the ProcessedImg with either a 0 or 1}
199   \textcolor{keywordflow}{for} (uint32\_t \hyperlink{_comparision_pictures_2_createtest_image_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} = 0; \hyperlink{_comparision_pictures_2_createtest_image_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} < \hyperlink{class_vision_1_1_image_processing_a77c370dab270158a4e9c634e2d3f48e7}{OriginalImg}.cols * \hyperlink{class_vision_1_1_image_processing_a77c370dab270158a4e9c634e2d3f48e7}{OriginalImg}.rows; 
      \hyperlink{_comparision_pictures_2_createtest_image_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}++) \{
200     P[\hyperlink{_comparision_pictures_2_createtest_image_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}] = LUT\_newValue[O[\hyperlink{_comparision_pictures_2_createtest_image_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}]];
201   \}
202 \}
\end{DoxyCode}


Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{class_vision_1_1_segment_a1d486dd3b67e1e1208c9ca04be8f6659_icgraph}
\end{center}
\end{figure}




\subsection{Member Data Documentation}
\hypertarget{class_vision_1_1_segment_a74e0600a7dd49bd7110ee27bb4cd6e0e}{}\index{Vision\+::\+Segment@{Vision\+::\+Segment}!Blob\+List@{Blob\+List}}
\index{Blob\+List@{Blob\+List}!Vision\+::\+Segment@{Vision\+::\+Segment}}
\subsubsection[{Blob\+List}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Blob\+List\+\_\+t} Vision\+::\+Segment\+::\+Blob\+List}\label{class_vision_1_1_segment_a74e0600a7dd49bd7110ee27bb4cd6e0e}
vector with all the individual blobs 

Definition at line 50 of file Segment.\+h.



Referenced by B\+O\+O\+S\+T\+\_\+\+A\+U\+T\+O\+\_\+\+T\+E\+S\+T\+\_\+\+C\+A\+S\+E(), B\+O\+O\+S\+T\+\_\+\+F\+I\+X\+T\+U\+R\+E\+\_\+\+T\+E\+S\+T\+\_\+\+C\+A\+S\+E(), Get\+Blob\+List(), operator=(), Segment(), and Soil\+Analyzer\+::\+Sample\+::\+Segment\+Particles().

\hypertarget{class_vision_1_1_segment_a4daa143f6cd4a753d3bbe45c6a67d27f}{}\index{Vision\+::\+Segment@{Vision\+::\+Segment}!Labelled\+Img@{Labelled\+Img}}
\index{Labelled\+Img@{Labelled\+Img}!Vision\+::\+Segment@{Vision\+::\+Segment}}
\subsubsection[{Labelled\+Img}]{\setlength{\rightskip}{0pt plus 5cm}cv\+::\+Mat Vision\+::\+Segment\+::\+Labelled\+Img}\label{class_vision_1_1_segment_a4daa143f6cd4a753d3bbe45c6a67d27f}
Image with each individual blob labeled with a individual number 

Definition at line 76 of file Segment.\+h.



Referenced by B\+O\+O\+S\+T\+\_\+\+A\+U\+T\+O\+\_\+\+T\+E\+S\+T\+\_\+\+C\+A\+S\+E(), B\+O\+O\+S\+T\+\_\+\+F\+I\+X\+T\+U\+R\+E\+\_\+\+T\+E\+S\+T\+\_\+\+C\+A\+S\+E(), Convert\+To\+B\+W(), Get\+Blob\+List(), Label\+Blobs(), Load\+Original\+Img(), operator=(), and Segment().

\hypertarget{class_vision_1_1_segment_a22d2a688de65f4d25b164f8b2a03f4a9}{}\index{Vision\+::\+Segment@{Vision\+::\+Segment}!Max\+Label@{Max\+Label}}
\index{Max\+Label@{Max\+Label}!Vision\+::\+Segment@{Vision\+::\+Segment}}
\subsubsection[{Max\+Label}]{\setlength{\rightskip}{0pt plus 5cm}uint16\+\_\+t Vision\+::\+Segment\+::\+Max\+Label = 0}\label{class_vision_1_1_segment_a22d2a688de65f4d25b164f8b2a03f4a9}
Maximum labels found in the labelled image 

Definition at line 78 of file Segment.\+h.



Referenced by Get\+Blob\+List(), Label\+Blobs(), operator=(), and Segment().

\hypertarget{class_vision_1_1_segment_a97077da3a144e800073bc06f5d4722d4}{}\index{Vision\+::\+Segment@{Vision\+::\+Segment}!no\+Of\+Filtered\+Blobs@{no\+Of\+Filtered\+Blobs}}
\index{no\+Of\+Filtered\+Blobs@{no\+Of\+Filtered\+Blobs}!Vision\+::\+Segment@{Vision\+::\+Segment}}
\subsubsection[{no\+Of\+Filtered\+Blobs}]{\setlength{\rightskip}{0pt plus 5cm}uint16\+\_\+t Vision\+::\+Segment\+::no\+Of\+Filtered\+Blobs}\label{class_vision_1_1_segment_a97077da3a144e800073bc06f5d4722d4}
{\bfseries Initial value\+:}
\begin{DoxyCode}
=
      0
\end{DoxyCode}
Total numbers of blobs that where filtered beacuse the where smaller than the min\+Blob\+Area 

Definition at line 79 of file Segment.\+h.



Referenced by Label\+Blobs(), operator=(), and Segment().

\hypertarget{class_vision_1_1_segment_ab35cfe5504de7e5ea327991468e6cf3b}{}\index{Vision\+::\+Segment@{Vision\+::\+Segment}!Original\+Img\+Stats@{Original\+Img\+Stats}}
\index{Original\+Img\+Stats@{Original\+Img\+Stats}!Vision\+::\+Segment@{Vision\+::\+Segment}}
\subsubsection[{Original\+Img\+Stats}]{\setlength{\rightskip}{0pt plus 5cm}{\bf uchar\+Stat\+\_\+t} Vision\+::\+Segment\+::\+Original\+Img\+Stats}\label{class_vision_1_1_segment_ab35cfe5504de7e5ea327991468e6cf3b}
Statistical data from the original image 

Definition at line 83 of file Segment.\+h.



Referenced by Get\+Threshold\+Level(), operator=(), and Segment().

\hypertarget{class_vision_1_1_segment_a0d2c607a6064d8d8fea925fc7bfbbc53}{}\index{Vision\+::\+Segment@{Vision\+::\+Segment}!sigma@{sigma}}
\index{sigma@{sigma}!Vision\+::\+Segment@{Vision\+::\+Segment}}
\subsubsection[{sigma}]{\setlength{\rightskip}{0pt plus 5cm}float Vision\+::\+Segment\+::sigma = 2}\label{class_vision_1_1_segment_a0d2c607a6064d8d8fea925fc7bfbbc53}


Definition at line 86 of file Segment.\+h.



Referenced by Get\+Threshold\+Level(), and Soil\+Analyzer\+::\+Sample\+::\+Prep\+Img().

\hypertarget{class_vision_1_1_segment_a44f45a7d08ba6fed38e5c31bc9108291}{}\index{Vision\+::\+Segment@{Vision\+::\+Segment}!Threshold\+Level@{Threshold\+Level}}
\index{Threshold\+Level@{Threshold\+Level}!Vision\+::\+Segment@{Vision\+::\+Segment}}
\subsubsection[{Threshold\+Level}]{\setlength{\rightskip}{0pt plus 5cm}uint8\+\_\+t Vision\+::\+Segment\+::\+Threshold\+Level = 0}\label{class_vision_1_1_segment_a44f45a7d08ba6fed38e5c31bc9108291}
Current calculated threshold level 

Definition at line 84 of file Segment.\+h.



Referenced by operator=(), and Segment().

\hypertarget{class_vision_1_1_segment_a1338fc42ead26c6b1dd661f4281f5674}{}\index{Vision\+::\+Segment@{Vision\+::\+Segment}!threshold\+Offset@{threshold\+Offset}}
\index{threshold\+Offset@{threshold\+Offset}!Vision\+::\+Segment@{Vision\+::\+Segment}}
\subsubsection[{threshold\+Offset}]{\setlength{\rightskip}{0pt plus 5cm}uint32\+\_\+t Vision\+::\+Segment\+::threshold\+Offset = 4}\label{class_vision_1_1_segment_a1338fc42ead26c6b1dd661f4281f5674}


Definition at line 87 of file Segment.\+h.



Referenced by Get\+Threshold\+Level(), and Soil\+Analyzer\+::\+Sample\+::\+Prep\+Img().



The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
/home/peer23peer/\+Vision\+Soil\+Analyzer/src/\+Soil\+Vision/\hyperlink{_segment_8h}{Segment.\+h}\item 
/home/peer23peer/\+Vision\+Soil\+Analyzer/src/\+Soil\+Vision/\hyperlink{_segment_8cpp}{Segment.\+cpp}\end{DoxyCompactItemize}
