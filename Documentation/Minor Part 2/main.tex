
\documentclass[11pt,fleqn,,a4paper,twoside,openright]{book} 
\input{structure} 

\begin{document}
\begingroup
\thispagestyle{empty}
\begin{tikzpicture}[remember picture,overlay]
\coordinate [below=5cm] (midpoint) at (current page.north);
\node at (current page.north west)
{\begin{tikzpicture}[remember picture,overlay]
\node[anchor=north west,inner sep=0pt] at (0,0) {\includegraphics[height=\paperheight]{front.jpg}}; % Background image
\draw[anchor=north] (midpoint) node [fill=ocre!30!white,fill opacity=0.6,text opacity=1,inner sep=1cm]{\Huge\centering\bfseries\sffamily\parbox[c][][t]{\paperwidth}{\centering Vision Soil Analyzer\\[15pt] % Book title
{\Large Product design of a vision based soil analyzer}\\[20pt] % Subtitle
{\huge Jelle Spijker}}}; % Author name
\end{tikzpicture}};
\end{tikzpicture}
\vfill
\endgroup
\newpage
~\vfill
\thispagestyle{empty}

\noindent Copyright \copyright\ 2015 Jelle Spijker\\ % Copyright notice
\noindent \textsc{Published by Royal IHC}\\
\\ % Publisher
\noindent \textsc{www.ihcmerwede.com}\\
\noindent \textsc{www.mtiholland.com}\\
\noindent \textsc{www.han.nl}\\

\noindent This document remains the property of “IHC Holland B.V.” All rights reserved. This document or any part thereof may not be made public or disclosed, copied or otherwise reproduced or used in any form or by any means, without prior permission in writing from “IHC Holland B.V.” \\ % License information

\noindent \textit{First printing, September 2015} % Printing/edition date

\chapterimage{sand_1_banner.jpg} % Table of contents heading image
\pagestyle{empty} % No headers
\chapter*{Foreword}

\chapter*{Summary}
\input{Summary.tex}
\tableofcontents % Print the table of contents itself

\cleardoublepage % Forces the first chapter to start on an odd page so it's on the right

\pagestyle{fancy} % Print headers again

\chapter{Introduction}
\input{Introduction.tex}

\newpage
\part{Design}

\chapterimage{sand_2_banner.jpg} % Chapter heading image
\chapter{Functional Design}
The functional design lays at the heart of a product. It is an abstract representation of the device and it illustrates its main function. This chapter describes the working of a vision based soil analyzer. It explains which role it need to fulfills to satisfy an user generated need. This main functionality and its output it visualized in an Input-Process-Output (IPO) diagram. This will aid in determining specification and setting up a user interface, which in turn dictates the interaction with the outside world.

\section{Global Input-Process-Output}\index{Global Input-Process-Output}
\input{mainIPO.tex}

\section{Specifications}\index{Citation}\label{Specification}
\input{Specifications.tex}

\subsection{Functional requirements}\label{FunctionalRequirements}


\subsection{Technical requirements}\label{TechnicalRequirements}
\begin{description}
\item[Name] Description
\item[Word] Definition
\item[Comment] Elaboration
\end{description}

\chapter{User Interface}\label{UserInterface}
\input{SystemDescription.tex}
\section{Graphical User Interface}
\input{GUI.tex}

\section{Hardware User Interface}

\chapter{Manuals}\label{manuals}

\section{User manual}

\section{Administrator manual}

\chapter{Technical Design}

\section{Hierarchical structure} \index{Hierachical structure}

This is an example of theorems.

\section{Architecture} \index{Architecture}
This is a theorem consisting of several equations.

\section{Detailed Input-Process-Output schematics} \index{IPO}
This is a theorem consisting of just one line.

\subsection{Led driver}
\input{LEDDriver.tex}
\subsection{Global position unit}

\subsection{Controller}

\chapter{Vision design}

\part{Realization}

\chapterimage{sand_3_banner.jpg} % Chapter heading image
\chapter{Development Environment}
The project is developed using three major disciplines, each which each own setup and tools. These are mechanical, electrical and software. All three are described in each own section below. As indicated in previous chapters \todo{reference explanation of the project and its fases} the focus of this project in this stage lies on development of the software and algorithms. \\
At the basis of these three development environment lies the hardware. The current development computer is a:
\begin{itemize}
	\item Intel(R) Core(TM) i5-4210U CPU @ 1.70GHz
	\item 8gb memory
	\item Nvidia 820M
	\item SSD 128 gb
	\item HDD 500 gb
	\item Dual boot Ubuntu 15.04 / Windows 10	
\end{itemize}

\subsection{Software development environment}
Since the running environment is an embedded Linux device, it is highly recommended that the software development setup mirror this configuration. By developing in a Linux environment, a tight integration with the prototype is ensured. Eliminating the need to setup the environmental settings and script for multiple operating systems. This also adds the option to debug the software on the development computer. 

\paragraph{Programming language}
The software for the VSA is written in C++. As Bjarne Stroustrup, the creator of C++, puts it in \cite{_c++_2013} : C++ is a general-purpose programming language providing a direct and efficient model of hardware combined with facilities for defining lightweight abstractions

The software for the VSA is written in C++ on a Desktop computer running Linux 3.19.0-18-generic \#. Ubuntu 15.04.   is the environment of choice. The prefered IDE is \textbf{QT Creator Community edition}. This is an opensource IDE and available for Linux/Windows/Mac. Version control is done via \textbf{Github} the main project page is VisionSoilAnalyzer - project page (\url{http://peer23peer.github.io/VisionSoilAnalyzer/}). The packages and installation steps depicted in appendix \ref{SDE} is the minimum needed environment to start with development. It is advised to make a clone of your harddisk after the development environment setup is complete. Clonezilla is the recommended tool for this. 

\subsection{Modeling development environment}

\subsection{Electronic development environment}

\chapter{Run Environment}
Although the software is build to run on any Linux enable device, it is intended to be run on embedded ARM device. The choice for the basic run environment is made for the Beaglebone black

To steps which are set out in appendix \ref{RE}

\chapter{Technical Realization}

\subsection{Electrical design}

\subsection{Design}

\chapter{Vision realization}
\input{Realisation_main.tex}

\section{Image acquisition}\index{Acquisition}
\input{ImageProcessing_acquisition.tex}

\section{Image enhancement}\index{Enhancement}
\input{ImageProcessing_enhancement.tex}

\section{Feature extraction}\index{Feature extraction}\label{Segmentation}
\input{ImageProcessing_featureextraction.tex}

\subsection{CIE La*b* extraction}\index{CIE La*b*}\label{CIELab}
\input{CIELabExtraction.tex}

\subsection{Fast Fourier Descriptors}\index{Fast Fourier Descriptors}\index{FFT}\label{FFT}

\subsection{Particle Size Distribution}
\input{ParticleSizeDistribution.tex}

\section{Classification}\index{Classification}

\subsection{Roundness using Hu-moments}\index{Roundness} \index{Hu-moments}\label{HuMoments}

\subsection{Angularity using a Neural Network}\index{Angularity} \index{Neural Network}\label{NeuralNet}
\input{NeuralNetwork.tex}

This is an example of examples.

\part{Verification}

\chapterimage{sand_4_banner.jpg} % Chapter heading image

\chapter{Presenting Information}

\section{Table}\index{Table}

\begin{table}[h]
\centering
\begin{tabular}{l l l}
\toprule
\textbf{Treatments} & \textbf{Response 1} & \textbf{Response 2}\\
\midrule
Treatment 1 & 0.0003262 & 0.562 \\
Treatment 2 & 0.0015681 & 0.910 \\
Treatment 3 & 0.0009271 & 0.296 \\
\bottomrule
\end{tabular}
\caption{Table caption}
\end{table}

\section{Figure}\index{Figure}

\begin{figure}[h]
\centering\includegraphics[scale=0.5]{placeholder}
\caption{Figure caption}
\end{figure}

\part{Addenda}

\chapterimage{books_banner.jpg}
\chapter*{Bibliography}
\addcontentsline{toc}{chapter}{\textcolor{ocre}{Bibliography}}
\section*{Books}
%\addcontentsline{toc}{section}{Books}
\printbibliography[heading=bibempty,type=book]
\section*{Reports}
%\addcontentsline{toc}{section}{Reports}
\printbibliography[heading=bibempty,type=report]
\section*{Articles}
%\addcontentsline{toc}{section}{Articles}
\printbibliography[heading=bibempty,type=article]

\chapterimage{Index_banner.jpg}
\cleardoublepage
\phantomsection
\setlength{\columnsep}{0.75cm}
\addcontentsline{toc}{chapter}{\textcolor{ocre}{Index}}
\printindex

\appendix
\chapterimage{books_banner.jpg}
\chapter{Graphical User Interface}
\begin{figure}[h]
	\includegraphics[width=\textwidth]{maingui.png}
	\caption{Main Graphical User Interface}
\end{figure}
\begin{figure}[h]
	\includegraphics[width=\textwidth]{settingHardware.png}
	\caption{Settings Hardware Interface}
\end{figure}
\begin{figure}[h]
	\includegraphics[width=\textwidth]{settingsHardwareCam.png}
	\caption{Settings Hardware Cam Interface}
\end{figure}
\begin{figure}[h]
	\includegraphics[width=\textwidth]{settingsVision.png}
	\caption{Settings Vision Interface}
\end{figure}
\begin{figure}[h]
	\includegraphics[width=\textwidth]{settingsPref.png}
	\caption{Settings Preference Interface}
\end{figure}
\begin{figure}[h]
	\includegraphics[width=\textwidth]{settingsNN.png}
	\caption{Settings Neural Network Interface}
\end{figure}
\begin{figure}[h]
	\includegraphics[width=\textwidth]{NNLearn.png}
	\caption{Neural Network Learning Interface}
\end{figure}

\chapter{Example Soil Report}
\includepdf[pages={1-5}, height=\textheight ,pagecommand=\paragraph{}]{SampleReport.pdf}

\chapter{RDM campus: Student project}\label{RDM_Campus}
\input{RDM_projectpropesition.tex}
\chapter{Development Environment setup}\label{SDE}
\input{SDE.tex}
\chapter{Run Environment setup}\label{RE}
\input{RE.tex}

\chapter{Current project status}
\includepdf[pages={1-7}, height=\textheight ,pagecommand=\paragraph{}]{../IHC/Current Status 150617.pdf}
\chapter{Soil and computer vision flyer}
\includepdf[pages={1-15}, height=\textheight ,pagecommand=\paragraph{}]{../IHC/Soil and computer vision.pdf}

\chapterimage{code_banner.jpg}
\chapter{SoilMath Library}
\subsection*{Genetic Algorithm Class}
%\addcontentsline{toc}{section}{Genetic Algorithm Class}
\lstinputlisting[language=C++]{../../src/SoilMath/GA.h}
\lstinputlisting[language=C++]{../../src/SoilMath/GA.cpp}
\newpage
\subsection*{Fast Fourier Transform Class}
%\addcontentsline{toc}{section}{Fast Fourier Transform Class}
\lstinputlisting[language=C++]{../../src/SoilMath/FFT.h}
\lstinputlisting[language=C++]{../../src/SoilMath/FFT.cpp}
\newpage
\subsection*{Neural Network Class}
%\addcontentsline{toc}{section}{Neural Network Class}
\lstinputlisting[language=C++]{../../src/SoilMath/NN.h}
\lstinputlisting[language=C++]{../../src/SoilMath/NN.cpp}
\newpage
\subsection*{Statistical Class}
%\addcontentsline{toc}{section}{Statistical Class}
\lstinputlisting[language=C++]{../../src/SoilMath/Stats.h}
\lstinputlisting[language=C++]{../../src/SoilMath/psd.h}
\newpage
\subsection*{General project files}
%\addcontentsline{toc}{section}{General project files}
\lstinputlisting[language=C++]{../../src/SoilMath/SoilMath.pro}
\lstinputlisting[language=C++]{../../src/SoilMath/SoilMath.h}
\lstinputlisting[language=C++]{../../src/SoilMath/CommonOperations.h}
\lstinputlisting[language=C++]{../../src/SoilMath/SoilMathTypes.h}
\lstinputlisting[language=C++]{../../src/SoilMath/Mat_archive.h}
\lstinputlisting[language=C++]{../../src/SoilMath/predict_t_archive.h}
\lstinputlisting[language=C++]{../../src/SoilMath/MathException.h}
\lstinputlisting[language=C++]{../../src/SoilMath/Sort.h}

\chapterimage{code_banner.jpg}
\chapter{Hardware Library}
\subsection*{Microscope Class}
%\addcontentsline{toc}{section}{Microscope Class}
\lstinputlisting[language=C++]{../../src/SoilHardware/Microscope.h}
\lstinputlisting[language=C++]{../../src/SoilHardware/Microscope.cpp}
\newpage
\subsection*{Beaglebone Black Class}
%\addcontentsline{toc}{section}{Beaglebone Black Class}
\lstinputlisting[language=C++]{../../src/SoilHardware/BBB.h}
\lstinputlisting[language=C++]{../../src/SoilHardware/BBB.cpp}
\newpage
\subsection*{GPIO Class}
%\addcontentsline{toc}{section}{GPIO Class}
\lstinputlisting[language=C++]{../../src/SoilHardware/GPIO.h}
\lstinputlisting[language=C++]{../../src/SoilHardware/GPIO.cpp}
\newpage
\subsection*{PWM Class}
%\addcontentsline{toc}{section}{PWM Class}
\lstinputlisting[language=C++]{../../src/SoilHardware/PWM.h}
\lstinputlisting[language=C++]{../../src/SoilHardware/PWM.cpp}
\newpage
\subsection*{ADC Class}
%\addcontentsline{toc}{section}{ADC Class}
\lstinputlisting[language=C++]{../../src/SoilHardware/ADC.h}
\lstinputlisting[language=C++]{../../src/SoilHardware/ADC.cpp}
\newpage
\subsection*{EC12P Class}
%\addcontentsline{toc}{section}{EC12P Classs}
\lstinputlisting[language=C++]{../../src/SoilHardware/EC12P.h}
\lstinputlisting[language=C++]{../../src/SoilHardware/EC12P.cpp}
\newpage
\subsection*{eQep Class}
%\addcontentsline{toc}{section}{eQep Class}
\lstinputlisting[language=C++]{../../src/SoilHardware/eqep.h}
\lstinputlisting[language=C++]{../../src/SoilHardware/eqep.cpp}
\newpage
\subsection*{SoilCape Class}
%\addcontentsline{toc}{section}{SoilCape Class}
\lstinputlisting[language=C++]{../../src/SoilHardware/SoilCape.h}
\lstinputlisting[language=C++]{../../src/SoilHardware/SoilCape.cpp}
\newpage
\subsection*{USB Class}
%\addcontentsline{toc}{section}{USB Class}
\lstinputlisting[language=C++]{../../src/SoilHardware/USB.h}
\lstinputlisting[language=C++]{../../src/SoilHardware/USB.cpp}
\newpage
\subsection*{General project files}
%\addcontentsline{toc}{section}{General project files}
\lstinputlisting[language=C++]{../../src/SoilHardware/SoilHardware.pro}
\lstinputlisting[language=C++]{../../src/SoilHardware/Hardware.h}
\lstinputlisting[language=C++]{../../src/SoilHardware/ValueOutOfBoundsException.h}
\lstinputlisting[language=C++]{../../src/SoilHardware/ADCReadException.h}
\lstinputlisting[language=C++]{../../src/SoilHardware/FailedToCreateGPIOPollingThreadException.h}
\lstinputlisting[language=C++]{../../src/SoilHardware/FailedToCreateThreadException.h}
\lstinputlisting[language=C++]{../../src/SoilHardware/MicroscopeNotFoundException.h}
\lstinputlisting[language=C++]{../../src/SoilHardware/CouldNotGrabImageException.h}
\lstinputlisting[language=C++]{../../src/SoilHardware/GPIOReadException.h}
\lstinputlisting[language=C++]{../../src/SoilHardware/GPIOReadException.h}

\chapterimage{code_banner.jpg}
\chapter{Vision Library}
\subsection*{Image processing Class}
%\addcontentsline{toc}{section}{Image processing Class}
\lstinputlisting[language=C++]{../../src/SoilVision/ImageProcessing.h}
\lstinputlisting[language=C++]{../../src/SoilVision/ImageProcessing.cpp}
\newpage
\subsection*{Conversion Class}
%\addcontentsline{toc}{section}{Conversion Class}
\lstinputlisting[language=C++]{../../src/SoilVision/Conversion.h}
\lstinputlisting[language=C++]{../../src/SoilVision/Conversion.cpp}
\newpage
\subsection*{Enhance Class}
%\addcontentsline{toc}{section}{Enhance Class}
\lstinputlisting[language=C++]{../../src/SoilVision/Enhance.h}
\lstinputlisting[language=C++]{../../src/SoilVision/Enhance.cpp}
\newpage
\subsection*{Morphological filter Class}
%\addcontentsline{toc}{section}{Morphological filter Class}
\lstinputlisting[language=C++]{../../src/SoilVision/MorphologicalFilter.h}
\lstinputlisting[language=C++]{../../src/SoilVision/MorphologicalFilter.cpp}
\newpage
\subsection*{Segment Class}
%\addcontentsline{toc}{section}{Segment Class}
\lstinputlisting[language=C++]{../../src/SoilVision/Segment.h}
\lstinputlisting[language=C++]{../../src/SoilVision/Segment.cpp}
\newpage
\subsection*{General project files}
%\addcontentsline{toc}{section}{General project files}
\lstinputlisting[language=C++]{../../src/SoilVision/SoilVision.pro}
\lstinputlisting[language=C++]{../../src/SoilVision/Vision.h}
\lstinputlisting[language=C++]{../../src/SoilVision/VisionDebug.h}
\lstinputlisting[language=C++]{../../src/SoilVision/ChannelMismatchException.h}
\lstinputlisting[language=C++]{../../src/SoilVision/ConversionNotSupportedException.h}
\lstinputlisting[language=C++]{../../src/SoilVision/EmptyImageException.h}
\lstinputlisting[language=C++]{../../src/SoilVision/PixelValueOutOfBoundException.h}
\lstinputlisting[language=C++]{../../src/SoilVision/WrongKernelSizeException.h}

\chapterimage{code_banner.jpg}
\chapter{Analyzer Library}
\subsection*{Analyzer Class}
%\addcontentsline{toc}{section}{Analyzer Class}
\lstinputlisting[language=C++]{../../src/SoilAnalyzer/analyzer.h}
\lstinputlisting[language=C++]{../../src/SoilAnalyzer/analyzer.cpp}
\newpage
\subsection*{Sample Class}
%\addcontentsline{toc}{section}{Sample Class}
\lstinputlisting[language=C++]{../../src/SoilAnalyzer/sample.h}
\lstinputlisting[language=C++]{../../src/SoilAnalyzer/sample.cpp}
\newpage
\subsection*{Particle Class}
%\addcontentsline{toc}{section}{Particle Class}
\lstinputlisting[language=C++]{../../src/SoilAnalyzer/particle.h}
\lstinputlisting[language=C++]{../../src/SoilAnalyzer/particle.cpp}
\newpage
\subsection*{Settings Class}
%\addcontentsline{toc}{section}{Settings Class}
\lstinputlisting[language=C++]{../../src/SoilAnalyzer/soilsettings.h}
\lstinputlisting[language=C++]{../../src/SoilAnalyzer/soilsettings.cpp}
\newpage
\subsection*{General project files}
%\addcontentsline{toc}{section}{General project files}
\lstinputlisting[language=C++]{../../src/SoilAnalyzer/SoilAnalyzer.pro}
\lstinputlisting[language=C++]{../../src/SoilAnalyzer/lab_t_archive.h}
\lstinputlisting[language=C++]{../../src/SoilAnalyzer/soilanalyzerexception.h}
\lstinputlisting[language=C++]{../../src/SoilAnalyzer/soilanalyzertypes.h}
\newpage

\chapterimage{code_banner.jpg}
\chapter{QOpenCVQT Library}
\lstinputlisting[language=C++]{../../src/QOpenCVQT/QOpenCVQT.pro}
\lstinputlisting[language=C++]{../../src/QOpenCVQT/qopencvqt.h}
\lstinputlisting[language=C++]{../../src/QOpenCVQT/qopencvqt.cpp}
\newpage

\chapterimage{code_banner.jpg}
\chapter{QParticleDisplay Library}
\lstinputlisting[language=C++]{../../src/QParticleDisplay/QParticleDisplay.pro}
\lstinputlisting[language=C++]{../../src/QParticleDisplay/qparticledisplay.h}
\lstinputlisting[language=C++]{../../src/QParticleDisplay/qparticledisplay.cpp}
\newpage

\chapterimage{code_banner.jpg}
\chapter{QParticleSelector Library}
\lstinputlisting[language=C++]{../../src/QParticleSelector/QParticleSelector.pro}
\lstinputlisting[language=C++]{../../src/QParticleSelector/qparticleselector.h}
\lstinputlisting[language=C++]{../../src/QParticleSelector/qparticleselector.cpp}
\newpage

\chapterimage{code_banner.jpg}
\chapter{QReportGenerator Library}
\lstinputlisting[language=C++]{../../src/QReportGenerator/QReportGenerator.pro}
\lstinputlisting[language=C++]{../../src/QReportGenerator/qreportgenerator.h}
\lstinputlisting[language=C++]{../../src/QReportGenerator/qreportgenerator.cpp}
\newpage

\chapterimage{code_banner.jpg}
\chapter{Vision Soil Analyzer Program}
\subsection*{General project files}
%\addcontentsline{toc}{section}{General project files}
\lstinputlisting[language=C++]{../../src/VSA/VSA.pro}
\lstinputlisting[language=C++]{../../src/VSA/main.cpp}
\newpage
\subsection*{Main window Class}
%\addcontentsline{toc}{section}{Main window Class}
\lstinputlisting[language=C++]{../../src/VSA/vsamainwindow.h}
\lstinputlisting[language=C++]{../../src/VSA/vsamainwindow.cpp}
\newpage
\subsection*{Dialog window Class}
%\addcontentsline{toc}{section}{Dialog window Class}
\lstinputlisting[language=C++]{../../src/VSA/dialogsettings.h}
\lstinputlisting[language=C++]{../../src/VSA/dialogsettings.cpp}
\newpage
\subsection*{Dialog Neural Network Class}
%\addcontentsline{toc}{section}{Dialog Neural Network Class}
\lstinputlisting[language=C++]{../../src/VSA/dialognn.h}
\lstinputlisting[language=C++]{../../src/VSA/dialognn.cpp}
\newpage
\end{document}