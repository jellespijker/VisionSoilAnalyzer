window.fyre_sp_config={MEDIA_PATH:'media/dGVjaGNydW5jaC5lcC5saXZlZnlyZS5jb20=',servers:{profile: 'https://techcrunch.ep.livefyre.com', assets:'https://d1yh3rcoys40v1.cloudfront.net'}, AUTH_SCHEMA: 'all', cookie_domain: 'techcrunch.ep.livefyre.com', localization: 'en'};
if(typeof(fyre)==='undefined'){fyre={};}(function(fyre,goog){var COMPILED=!0,goog=goog||{};goog.global=this;goog.DEBUG=!1;goog.LOCALE="en";goog.TRUSTED_SITE=!0;goog.provide=function(a){if(!COMPILED){if(goog.isProvided_(a))throw Error('Namespace "'+a+'" already declared.');delete goog.implicitNamespaces_[a];for(var b=a;(b=b.substring(0,b.lastIndexOf(".")))&&!goog.getObjectByName(b);)goog.implicitNamespaces_[b]=!0}goog.exportPath_(a)};
goog.setTestOnly=function(a){if(COMPILED&&!goog.DEBUG)throw a=a||"",Error("Importing test-only code into non-debug environment"+a?": "+a:".");};COMPILED||(goog.isProvided_=function(a){return!goog.implicitNamespaces_[a]&&!!goog.getObjectByName(a)},goog.implicitNamespaces_={});goog.exportPath_=function(a,b,c){a=a.split(".");c=c||goog.global;a[0]in c||!c.execScript||c.execScript("var "+a[0]);for(var d;a.length&&(d=a.shift());)!a.length&&goog.isDef(b)?c[d]=b:c=c[d]?c[d]:c[d]={}};
goog.getObjectByName=function(a,b){for(var c=a.split("."),d=b||goog.global,e;e=c.shift();)if(goog.isDefAndNotNull(d[e]))d=d[e];else return null;return d};goog.globalize=function(a,b){var c=b||goog.global,d;for(d in a)c[d]=a[d]};
goog.addDependency=function(a,b,c){if(!COMPILED){var d;a=a.replace(/\\/g,"/");for(var e=goog.dependencies_,f=0;d=b[f];f++)e.nameToPath[d]=a,a in e.pathToNames||(e.pathToNames[a]={}),e.pathToNames[a][d]=!0;for(d=0;b=c[d];d++)a in e.requires||(e.requires[a]={}),e.requires[a][b]=!0}};goog.ENABLE_DEBUG_LOADER=!0;
goog.require=function(a){if(!COMPILED&&!goog.isProvided_(a)){if(goog.ENABLE_DEBUG_LOADER){var b=goog.getPathFromDeps_(a);if(b){goog.included_[b]=!0;goog.writeScripts_();return}}a="goog.require could not find: "+a;goog.global.console&&goog.global.console.error(a);throw Error(a);}};goog.basePath="";goog.nullFunction=function(){};goog.identityFunction=function(a,b){return a};goog.abstractMethod=function(){throw Error("unimplemented abstract method");};
goog.addSingletonGetter=function(a){a.getInstance=function(){if(a.instance_)return a.instance_;goog.DEBUG&&(goog.instantiatedSingletons_[goog.instantiatedSingletons_.length]=a);return a.instance_=new a}};goog.instantiatedSingletons_=[];
!COMPILED&&goog.ENABLE_DEBUG_LOADER&&(goog.included_={},goog.dependencies_={pathToNames:{},nameToPath:{},requires:{},visited:{},written:{}},goog.inHtmlDocument_=function(){var a=goog.global.document;return"undefined"!=typeof a&&"write"in a},goog.findBasePath_=function(){if(goog.global.CLOSURE_BASE_PATH)goog.basePath=goog.global.CLOSURE_BASE_PATH;else if(goog.inHtmlDocument_())for(var a=goog.global.document.getElementsByTagName("script"),b=a.length-1;0<=b;--b){var c=a[b].src,d=c.lastIndexOf("?"),d=
-1==d?c.length:d;if("base.js"==c.substr(d-7,7)){goog.basePath=c.substr(0,d-7);break}}},goog.importScript_=function(a){var b=goog.global.CLOSURE_IMPORT_SCRIPT||goog.writeScriptTag_;!goog.dependencies_.written[a]&&b(a)&&(goog.dependencies_.written[a]=!0)},goog.writeScriptTag_=function(a){if(goog.inHtmlDocument_()){var b=goog.global.document;if("complete"==b.readyState){if(/\bdeps.js$/.test(a))return!1;throw Error('Cannot write "'+a+'" after document load');}b.write('<script type="text/javascript" src="'+
a+'">\x3c/script>');return!0}return!1},goog.writeScripts_=function(){function a(e){if(!(e in d.written)){if(!(e in d.visited)&&(d.visited[e]=!0,e in d.requires))for(var g in d.requires[e])if(!goog.isProvided_(g))if(g in d.nameToPath)a(d.nameToPath[g]);else throw Error("Undefined nameToPath for "+g);e in c||(c[e]=!0,b.push(e))}}var b=[],c={},d=goog.dependencies_,e;for(e in goog.included_)d.written[e]||a(e);for(e=0;e<b.length;e++)if(b[e])goog.importScript_(goog.basePath+b[e]);else throw Error("Undefined script input");
},goog.getPathFromDeps_=function(a){return a in goog.dependencies_.nameToPath?goog.dependencies_.nameToPath[a]:null},goog.findBasePath_(),goog.global.CLOSURE_NO_DEPS||goog.importScript_(goog.basePath+"deps.js"));
goog.typeOf=function(a){var b=typeof a;if("object"==b)if(a){if(a instanceof Array)return"array";if(a instanceof Object)return b;var c=Object.prototype.toString.call(a);if("[object Window]"==c)return"object";if("[object Array]"==c||"number"==typeof a.length&&"undefined"!=typeof a.splice&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("splice"))return"array";if("[object Function]"==c||"undefined"!=typeof a.call&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("call"))return"function"}else return"null";
else if("function"==b&&"undefined"==typeof a.call)return"object";return b};goog.isDef=function(a){return void 0!==a};goog.isNull=function(a){return null===a};goog.isDefAndNotNull=function(a){return null!=a};goog.isArray=function(a){return"array"==goog.typeOf(a)};goog.isArrayLike=function(a){var b=goog.typeOf(a);return"array"==b||"object"==b&&"number"==typeof a.length};goog.isDateLike=function(a){return goog.isObject(a)&&"function"==typeof a.getFullYear};goog.isString=function(a){return"string"==typeof a};
goog.isBoolean=function(a){return"boolean"==typeof a};goog.isNumber=function(a){return"number"==typeof a};goog.isFunction=function(a){return"function"==goog.typeOf(a)};goog.isObject=function(a){var b=typeof a;return"object"==b&&null!=a||"function"==b};goog.getUid=function(a){return a[goog.UID_PROPERTY_]||(a[goog.UID_PROPERTY_]=++goog.uidCounter_)};goog.removeUid=function(a){"removeAttribute"in a&&a.removeAttribute(goog.UID_PROPERTY_);try{delete a[goog.UID_PROPERTY_]}catch(b){}};
goog.UID_PROPERTY_="closure_uid_"+(1E9*Math.random()>>>0);goog.uidCounter_=0;goog.getHashCode=goog.getUid;goog.removeHashCode=goog.removeUid;goog.cloneObject=function(a){var b=goog.typeOf(a);if("object"==b||"array"==b){if(a.clone)return a.clone();var b="array"==b?[]:{},c;for(c in a)b[c]=goog.cloneObject(a[c]);return b}return a};goog.bindNative_=function(a,b,c){return a.call.apply(a.bind,arguments)};
goog.bindJs_=function(a,b,c){if(!a)throw Error();if(2<arguments.length){var d=Array.prototype.slice.call(arguments,2);return function(){var c=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(c,d);return a.apply(b,c)}}return function(){return a.apply(b,arguments)}};goog.bind=function(a,b,c){Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?goog.bind=goog.bindNative_:goog.bind=goog.bindJs_;return goog.bind.apply(null,arguments)};
goog.partial=function(a,b){var c=Array.prototype.slice.call(arguments,1);return function(){var b=Array.prototype.slice.call(arguments);b.unshift.apply(b,c);return a.apply(this,b)}};goog.mixin=function(a,b){for(var c in b)a[c]=b[c]};goog.now=goog.TRUSTED_SITE&&Date.now||function(){return+new Date};
goog.globalEval=function(a){if(goog.global.execScript)goog.global.execScript(a,"JavaScript");else if(goog.global.eval)if(null==goog.evalWorksForGlobals_&&(goog.global.eval("var _et_ = 1;"),"undefined"!=typeof goog.global._et_?(delete goog.global._et_,goog.evalWorksForGlobals_=!0):goog.evalWorksForGlobals_=!1),goog.evalWorksForGlobals_)goog.global.eval(a);else{var b=goog.global.document,c=b.createElement("script");c.type="text/javascript";c.defer=!1;c.appendChild(b.createTextNode(a));b.body.appendChild(c);
b.body.removeChild(c)}else throw Error("goog.globalEval not available");};goog.evalWorksForGlobals_=null;goog.getCssName=function(a,b){var c=function(a){return goog.cssNameMapping_[a]||a},d=function(a){a=a.split("-");for(var b=[],d=0;d<a.length;d++)b.push(c(a[d]));return b.join("-")},d=goog.cssNameMapping_?"BY_WHOLE"==goog.cssNameMappingStyle_?c:d:function(a){return a};return b?a+"-"+d(b):d(a)};goog.setCssNameMapping=function(a,b){goog.cssNameMapping_=a;goog.cssNameMappingStyle_=b};
!COMPILED&&goog.global.CLOSURE_CSS_NAME_MAPPING&&(goog.cssNameMapping_=goog.global.CLOSURE_CSS_NAME_MAPPING);goog.getMsg=function(a,b){var c=b||{},d;for(d in c){var e=(""+c[d]).replace(/\$/g,"$$$$");a=a.replace(new RegExp("\\{\\$"+d+"\\}","gi"),e)}return a};goog.getMsgWithFallback=function(a,b){return a};goog.exportSymbol=function(a,b,c){goog.exportPath_(a,b,c)};goog.exportProperty=function(a,b,c){a[b]=c};
goog.inherits=function(a,b){function c(){}c.prototype=b.prototype;a.superClass_=b.prototype;a.prototype=new c;a.prototype.constructor=a};
goog.base=function(a,b,c){var d=arguments.callee.caller;if(d.superClass_)return d.superClass_.constructor.apply(a,Array.prototype.slice.call(arguments,1));for(var e=Array.prototype.slice.call(arguments,2),f=!1,g=a.constructor;g;g=g.superClass_&&g.superClass_.constructor)if(g.prototype[b]===d)f=!0;else if(f)return g.prototype[b].apply(a,e);if(a[b]===d)return a.constructor.prototype[b].apply(a,e);throw Error("goog.base called from a method of one name to a method of a different name");};
goog.scope=function(a){a.call(goog.global)};goog.string={};goog.string.Unicode={NBSP:"\u00a0"};goog.string.startsWith=function(a,b){return 0==a.lastIndexOf(b,0)};goog.string.endsWith=function(a,b){var c=a.length-b.length;return 0<=c&&a.indexOf(b,c)==c};goog.string.caseInsensitiveStartsWith=function(a,b){return 0==goog.string.caseInsensitiveCompare(b,a.substr(0,b.length))};goog.string.caseInsensitiveEndsWith=function(a,b){return 0==goog.string.caseInsensitiveCompare(b,a.substr(a.length-b.length,b.length))};
goog.string.caseInsensitiveEquals=function(a,b){return a.toLowerCase()==b.toLowerCase()};goog.string.subs=function(a,b){for(var c=1;c<arguments.length;c++){var d=String(arguments[c]).replace(/\$/g,"$$$$");a=a.replace(/\%s/,d)}return a};goog.string.collapseWhitespace=function(a){return a.replace(/[\s\xa0]+/g," ").replace(/^\s+|\s+$/g,"")};goog.string.isEmpty=function(a){return/^[\s\xa0]*$/.test(a)};goog.string.isEmptySafe=function(a){return goog.string.isEmpty(goog.string.makeSafe(a))};
goog.string.isBreakingWhitespace=function(a){return!/[^\t\n\r ]/.test(a)};goog.string.isAlpha=function(a){return!/[^a-zA-Z]/.test(a)};goog.string.isNumeric=function(a){return!/[^0-9]/.test(a)};goog.string.isAlphaNumeric=function(a){return!/[^a-zA-Z0-9]/.test(a)};goog.string.isSpace=function(a){return" "==a};goog.string.isUnicodeChar=function(a){return 1==a.length&&" "<=a&&"~">=a||"\u0080"<=a&&"\ufffd">=a};goog.string.stripNewlines=function(a){return a.replace(/(\r\n|\r|\n)+/g," ")};
goog.string.canonicalizeNewlines=function(a){return a.replace(/(\r\n|\r|\n)/g,"\n")};goog.string.normalizeWhitespace=function(a){return a.replace(/\xa0|\s/g," ")};goog.string.normalizeSpaces=function(a){return a.replace(/\xa0|[ \t]+/g," ")};goog.string.collapseBreakingSpaces=function(a){return a.replace(/[\t\r\n ]+/g," ").replace(/^[\t\r\n ]+|[\t\r\n ]+$/g,"")};goog.string.trim=function(a){return a.replace(/^[\s\xa0]+|[\s\xa0]+$/g,"")};
goog.string.trimLeft=function(a){return a.replace(/^[\s\xa0]+/,"")};goog.string.trimRight=function(a){return a.replace(/[\s\xa0]+$/,"")};goog.string.caseInsensitiveCompare=function(a,b){var c=String(a).toLowerCase(),d=String(b).toLowerCase();return c<d?-1:c==d?0:1};goog.string.numerateCompareRegExp_=/(\.\d+)|(\d+)|(\D+)/g;
goog.string.numerateCompare=function(a,b){if(a==b)return 0;if(!a)return-1;if(!b)return 1;for(var c=a.toLowerCase().match(goog.string.numerateCompareRegExp_),d=b.toLowerCase().match(goog.string.numerateCompareRegExp_),e=Math.min(c.length,d.length),f=0;f<e;f++){var g=c[f],h=d[f];if(g!=h)return c=parseInt(g,10),!isNaN(c)&&(d=parseInt(h,10),!isNaN(d)&&c-d)?c-d:g<h?-1:1}return c.length!=d.length?c.length-d.length:a<b?-1:1};goog.string.urlEncode=function(a){return encodeURIComponent(String(a))};
goog.string.urlDecode=function(a){return decodeURIComponent(a.replace(/\+/g," "))};goog.string.newLineToBr=function(a,b){return a.replace(/(\r\n|\r|\n)/g,b?"<br />":"<br>")};
goog.string.htmlEscape=function(a,b){if(b)return a.replace(goog.string.amperRe_,"&amp;").replace(goog.string.ltRe_,"&lt;").replace(goog.string.gtRe_,"&gt;").replace(goog.string.quotRe_,"&quot;");if(!goog.string.allRe_.test(a))return a;-1!=a.indexOf("&")&&(a=a.replace(goog.string.amperRe_,"&amp;"));-1!=a.indexOf("<")&&(a=a.replace(goog.string.ltRe_,"&lt;"));-1!=a.indexOf(">")&&(a=a.replace(goog.string.gtRe_,"&gt;"));-1!=a.indexOf('"')&&(a=a.replace(goog.string.quotRe_,"&quot;"));return a};
goog.string.amperRe_=/&/g;goog.string.ltRe_=/</g;goog.string.gtRe_=/>/g;goog.string.quotRe_=/\"/g;goog.string.allRe_=/[&<>\"]/;goog.string.unescapeEntities=function(a){return goog.string.contains(a,"&")?"document"in goog.global?goog.string.unescapeEntitiesUsingDom_(a):goog.string.unescapePureXmlEntities_(a):a};
goog.string.unescapeEntitiesUsingDom_=function(a){var b={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"'},c=document.createElement("div");return a.replace(goog.string.HTML_ENTITY_PATTERN_,function(a,e){var f=b[a];if(f)return f;if("#"==e.charAt(0)){var g=Number("0"+e.substr(1));isNaN(g)||(f=String.fromCharCode(g))}f||(c.innerHTML=a+" ",f=c.firstChild.nodeValue.slice(0,-1));return b[a]=f})};
goog.string.unescapePureXmlEntities_=function(a){return a.replace(/&([^;]+);/g,function(a,c){switch(c){case "amp":return"&";case "lt":return"<";case "gt":return">";case "quot":return'"';default:if("#"==c.charAt(0)){var d=Number("0"+c.substr(1));if(!isNaN(d))return String.fromCharCode(d)}return a}})};goog.string.HTML_ENTITY_PATTERN_=/&([^;\s<&]+);?/g;goog.string.whitespaceEscape=function(a,b){return goog.string.newLineToBr(a.replace(/  /g," &#160;"),b)};
goog.string.stripQuotes=function(a,b){for(var c=b.length,d=0;d<c;d++){var e=1==c?b:b.charAt(d);if(a.charAt(0)==e&&a.charAt(a.length-1)==e)return a.substring(1,a.length-1)}return a};goog.string.truncate=function(a,b,c){c&&(a=goog.string.unescapeEntities(a));a.length>b&&(a=a.substring(0,b-3)+"...");c&&(a=goog.string.htmlEscape(a));return a};
goog.string.truncateMiddle=function(a,b,c,d){c&&(a=goog.string.unescapeEntities(a));if(d&&a.length>b){d>b&&(d=b);var e=a.length-d;a=a.substring(0,b-d)+"..."+a.substring(e)}else a.length>b&&(d=Math.floor(b/2),e=a.length-d,a=a.substring(0,d+b%2)+"..."+a.substring(e));c&&(a=goog.string.htmlEscape(a));return a};goog.string.specialEscapeChars_={"\x00":"\\0","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\x0B":"\\x0B",'"':'\\"',"\\":"\\\\"};goog.string.jsEscapeCache_={"'":"\\'"};
goog.string.quote=function(a){a=String(a);if(a.quote)return a.quote();for(var b=['"'],c=0;c<a.length;c++){var d=a.charAt(c),e=d.charCodeAt(0);b[c+1]=goog.string.specialEscapeChars_[d]||(31<e&&127>e?d:goog.string.escapeChar(d))}b.push('"');return b.join("")};goog.string.escapeString=function(a){for(var b=[],c=0;c<a.length;c++)b[c]=goog.string.escapeChar(a.charAt(c));return b.join("")};
goog.string.escapeChar=function(a){if(a in goog.string.jsEscapeCache_)return goog.string.jsEscapeCache_[a];if(a in goog.string.specialEscapeChars_)return goog.string.jsEscapeCache_[a]=goog.string.specialEscapeChars_[a];var b=a,c=a.charCodeAt(0);if(31<c&&127>c)b=a;else{if(256>c){if(b="\\x",16>c||256<c)b+="0"}else b="\\u",4096>c&&(b+="0");b+=c.toString(16).toUpperCase()}return goog.string.jsEscapeCache_[a]=b};goog.string.toMap=function(a){for(var b={},c=0;c<a.length;c++)b[a.charAt(c)]=!0;return b};
goog.string.contains=function(a,b){return-1!=a.indexOf(b)};goog.string.countOf=function(a,b){return a&&b?a.split(b).length-1:0};goog.string.removeAt=function(a,b,c){var d=a;0<=b&&b<a.length&&0<c&&(d=a.substr(0,b)+a.substr(b+c,a.length-b-c));return d};goog.string.remove=function(a,b){var c=new RegExp(goog.string.regExpEscape(b),"");return a.replace(c,"")};goog.string.removeAll=function(a,b){var c=new RegExp(goog.string.regExpEscape(b),"g");return a.replace(c,"")};
goog.string.regExpEscape=function(a){return String(a).replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08")};goog.string.repeat=function(a,b){return Array(b+1).join(a)};goog.string.padNumber=function(a,b,c){a=goog.isDef(c)?a.toFixed(c):String(a);c=a.indexOf(".");-1==c&&(c=a.length);return goog.string.repeat("0",Math.max(0,b-c))+a};goog.string.makeSafe=function(a){return null==a?"":String(a)};goog.string.buildString=function(a){return Array.prototype.join.call(arguments,"")};
goog.string.getRandomString=function(){return Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^goog.now()).toString(36)};
goog.string.compareVersions=function(a,b){for(var c=0,d=goog.string.trim(String(a)).split("."),e=goog.string.trim(String(b)).split("."),f=Math.max(d.length,e.length),g=0;0==c&&g<f;g++){var h=d[g]||"",k=e[g]||"",l=RegExp("(\\d*)(\\D*)","g"),m=RegExp("(\\d*)(\\D*)","g");do{var n=l.exec(h)||["","",""],p=m.exec(k)||["","",""];if(0==n[0].length&&0==p[0].length)break;var c=0==n[1].length?0:parseInt(n[1],10),q=0==p[1].length?0:parseInt(p[1],10),c=goog.string.compareElements_(c,q)||goog.string.compareElements_(0==
n[2].length,0==p[2].length)||goog.string.compareElements_(n[2],p[2])}while(0==c)}return c};goog.string.compareElements_=function(a,b){return a<b?-1:a>b?1:0};goog.string.HASHCODE_MAX_=4294967296;goog.string.hashCode=function(a){for(var b=0,c=0;c<a.length;++c)b=31*b+a.charCodeAt(c),b%=goog.string.HASHCODE_MAX_;return b};goog.string.uniqueStringCounter_=2147483648*Math.random()|0;goog.string.createUniqueString=function(){return"goog_"+goog.string.uniqueStringCounter_++};
goog.string.toNumber=function(a){var b=Number(a);return 0==b&&goog.string.isEmpty(a)?NaN:b};goog.string.toCamelCase=function(a){return String(a).replace(/\-([a-z])/g,function(a,c){return c.toUpperCase()})};goog.string.toSelectorCase=function(a){return String(a).replace(/([A-Z])/g,"-$1").toLowerCase()};goog.string.toTitleCase=function(a,b){var c=goog.isString(b)?goog.string.regExpEscape(b):"\\s";return a.replace(new RegExp("(^"+(c?"|["+c+"]+":"")+")([a-z])","g"),function(a,b,c){return b+c.toUpperCase()})};
goog.string.parseInt=function(a){isFinite(a)&&(a=String(a));return goog.isString(a)?/^\s*-?0x/i.test(a)?parseInt(a,16):parseInt(a,10):NaN};goog.userAgent={};goog.userAgent.ASSUME_IE=!1;goog.userAgent.ASSUME_GECKO=!1;goog.userAgent.ASSUME_WEBKIT=!1;goog.userAgent.ASSUME_MOBILE_WEBKIT=!1;goog.userAgent.ASSUME_OPERA=!1;goog.userAgent.ASSUME_ANY_VERSION=!1;goog.userAgent.BROWSER_KNOWN_=goog.userAgent.ASSUME_IE||goog.userAgent.ASSUME_GECKO||goog.userAgent.ASSUME_MOBILE_WEBKIT||goog.userAgent.ASSUME_WEBKIT||goog.userAgent.ASSUME_OPERA;
goog.userAgent.getUserAgentString=function(){return goog.global.navigator?goog.global.navigator.userAgent:null};goog.userAgent.getNavigator=function(){return goog.global.navigator};
goog.userAgent.init_=function(){goog.userAgent.detectedOpera_=!1;goog.userAgent.detectedIe_=!1;goog.userAgent.detectedWebkit_=!1;goog.userAgent.detectedMobile_=!1;goog.userAgent.detectedGecko_=!1;var a;if(!goog.userAgent.BROWSER_KNOWN_&&(a=goog.userAgent.getUserAgentString())){var b=goog.userAgent.getNavigator();goog.userAgent.detectedOpera_=0==a.indexOf("Opera");goog.userAgent.detectedIe_=!goog.userAgent.detectedOpera_&&-1!=a.indexOf("MSIE");goog.userAgent.detectedWebkit_=!goog.userAgent.detectedOpera_&&
-1!=a.indexOf("WebKit");goog.userAgent.detectedMobile_=goog.userAgent.detectedWebkit_&&-1!=a.indexOf("Mobile");goog.userAgent.detectedGecko_=!goog.userAgent.detectedOpera_&&!goog.userAgent.detectedWebkit_&&"Gecko"==b.product}};goog.userAgent.BROWSER_KNOWN_||goog.userAgent.init_();goog.userAgent.OPERA=goog.userAgent.BROWSER_KNOWN_?goog.userAgent.ASSUME_OPERA:goog.userAgent.detectedOpera_;goog.userAgent.IE=goog.userAgent.BROWSER_KNOWN_?goog.userAgent.ASSUME_IE:goog.userAgent.detectedIe_;
goog.userAgent.GECKO=goog.userAgent.BROWSER_KNOWN_?goog.userAgent.ASSUME_GECKO:goog.userAgent.detectedGecko_;goog.userAgent.WEBKIT=goog.userAgent.BROWSER_KNOWN_?goog.userAgent.ASSUME_WEBKIT||goog.userAgent.ASSUME_MOBILE_WEBKIT:goog.userAgent.detectedWebkit_;goog.userAgent.MOBILE=goog.userAgent.ASSUME_MOBILE_WEBKIT||goog.userAgent.detectedMobile_;goog.userAgent.SAFARI=goog.userAgent.WEBKIT;goog.userAgent.determinePlatform_=function(){var a=goog.userAgent.getNavigator();return a&&a.platform||""};
goog.userAgent.PLATFORM=goog.userAgent.determinePlatform_();goog.userAgent.ASSUME_MAC=!1;goog.userAgent.ASSUME_WINDOWS=!1;goog.userAgent.ASSUME_LINUX=!1;goog.userAgent.ASSUME_X11=!1;goog.userAgent.ASSUME_ANDROID=!1;goog.userAgent.ASSUME_IPHONE=!1;goog.userAgent.ASSUME_IPAD=!1;goog.userAgent.PLATFORM_KNOWN_=goog.userAgent.ASSUME_MAC||goog.userAgent.ASSUME_WINDOWS||goog.userAgent.ASSUME_LINUX||goog.userAgent.ASSUME_X11||goog.userAgent.ASSUME_ANDROID||goog.userAgent.ASSUME_IPHONE||goog.userAgent.ASSUME_IPAD;
goog.userAgent.initPlatform_=function(){goog.userAgent.detectedMac_=goog.string.contains(goog.userAgent.PLATFORM,"Mac");goog.userAgent.detectedWindows_=goog.string.contains(goog.userAgent.PLATFORM,"Win");goog.userAgent.detectedLinux_=goog.string.contains(goog.userAgent.PLATFORM,"Linux");goog.userAgent.detectedX11_=!!goog.userAgent.getNavigator()&&goog.string.contains(goog.userAgent.getNavigator().appVersion||"","X11");var a=goog.userAgent.getUserAgentString();goog.userAgent.detectedAndroid_=!!a&&
0<=a.indexOf("Android");goog.userAgent.detectedIPhone_=!!a&&0<=a.indexOf("iPhone");goog.userAgent.detectedIPad_=!!a&&0<=a.indexOf("iPad")};goog.userAgent.PLATFORM_KNOWN_||goog.userAgent.initPlatform_();goog.userAgent.MAC=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_MAC:goog.userAgent.detectedMac_;goog.userAgent.WINDOWS=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_WINDOWS:goog.userAgent.detectedWindows_;
goog.userAgent.LINUX=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_LINUX:goog.userAgent.detectedLinux_;goog.userAgent.X11=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_X11:goog.userAgent.detectedX11_;goog.userAgent.ANDROID=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_ANDROID:goog.userAgent.detectedAndroid_;goog.userAgent.IPHONE=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_IPHONE:goog.userAgent.detectedIPhone_;
goog.userAgent.IPAD=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_IPAD:goog.userAgent.detectedIPad_;
goog.userAgent.determineVersion_=function(){var a="",b;goog.userAgent.OPERA&&goog.global.opera?(a=goog.global.opera.version,a="function"==typeof a?a():a):(goog.userAgent.GECKO?b=/rv\:([^\);]+)(\)|;)/:goog.userAgent.IE?b=/MSIE\s+([^\);]+)(\)|;)/:goog.userAgent.WEBKIT&&(b=/WebKit\/(\S+)/),b&&(a=(a=b.exec(goog.userAgent.getUserAgentString()))?a[1]:""));return goog.userAgent.IE&&(b=goog.userAgent.getDocumentMode_(),b>parseFloat(a))?String(b):a};
goog.userAgent.getDocumentMode_=function(){var a=goog.global.document;return a?a.documentMode:void 0};goog.userAgent.VERSION=goog.userAgent.determineVersion_();goog.userAgent.compare=function(a,b){return goog.string.compareVersions(a,b)};goog.userAgent.isVersionCache_={};goog.userAgent.isVersion=function(a){return goog.userAgent.ASSUME_ANY_VERSION||goog.userAgent.isVersionCache_[a]||(goog.userAgent.isVersionCache_[a]=0<=goog.string.compareVersions(goog.userAgent.VERSION,a))};
goog.userAgent.isDocumentMode=function(a){return goog.userAgent.IE&&goog.userAgent.DOCUMENT_MODE>=a};goog.userAgent.DOCUMENT_MODE=function(){var a=goog.global.document;return a&&goog.userAgent.IE?goog.userAgent.getDocumentMode_()||("CSS1Compat"==a.compatMode?parseInt(goog.userAgent.VERSION,10):5):void 0}();goog.debug={};goog.debug.Error=function(a){Error.captureStackTrace?Error.captureStackTrace(this,goog.debug.Error):this.stack=Error().stack||"";a&&(this.message=String(a))};goog.inherits(goog.debug.Error,Error);goog.debug.Error.prototype.name="CustomError";goog.asserts={};goog.asserts.ENABLE_ASSERTS=goog.DEBUG;goog.asserts.AssertionError=function(a,b){b.unshift(a);goog.debug.Error.call(this,goog.string.subs.apply(null,b));b.shift();this.messagePattern=a};goog.inherits(goog.asserts.AssertionError,goog.debug.Error);goog.asserts.AssertionError.prototype.name="AssertionError";goog.asserts.doAssertFailure_=function(a,b,c,d){var e="Assertion failed";if(c)var e=e+(": "+c),f=d;else a&&(e+=": "+a,f=b);throw new goog.asserts.AssertionError(""+e,f||[]);};
goog.asserts.assert=function(a,b,c){goog.asserts.ENABLE_ASSERTS&&!a&&goog.asserts.doAssertFailure_("",null,b,Array.prototype.slice.call(arguments,2));return a};goog.asserts.fail=function(a,b){if(goog.asserts.ENABLE_ASSERTS)throw new goog.asserts.AssertionError("Failure"+(a?": "+a:""),Array.prototype.slice.call(arguments,1));};
goog.asserts.assertNumber=function(a,b,c){goog.asserts.ENABLE_ASSERTS&&!goog.isNumber(a)&&goog.asserts.doAssertFailure_("Expected number but got %s: %s.",[goog.typeOf(a),a],b,Array.prototype.slice.call(arguments,2));return a};goog.asserts.assertString=function(a,b,c){goog.asserts.ENABLE_ASSERTS&&!goog.isString(a)&&goog.asserts.doAssertFailure_("Expected string but got %s: %s.",[goog.typeOf(a),a],b,Array.prototype.slice.call(arguments,2));return a};
goog.asserts.assertFunction=function(a,b,c){goog.asserts.ENABLE_ASSERTS&&!goog.isFunction(a)&&goog.asserts.doAssertFailure_("Expected function but got %s: %s.",[goog.typeOf(a),a],b,Array.prototype.slice.call(arguments,2));return a};goog.asserts.assertObject=function(a,b,c){goog.asserts.ENABLE_ASSERTS&&!goog.isObject(a)&&goog.asserts.doAssertFailure_("Expected object but got %s: %s.",[goog.typeOf(a),a],b,Array.prototype.slice.call(arguments,2));return a};
goog.asserts.assertArray=function(a,b,c){goog.asserts.ENABLE_ASSERTS&&!goog.isArray(a)&&goog.asserts.doAssertFailure_("Expected array but got %s: %s.",[goog.typeOf(a),a],b,Array.prototype.slice.call(arguments,2));return a};goog.asserts.assertBoolean=function(a,b,c){goog.asserts.ENABLE_ASSERTS&&!goog.isBoolean(a)&&goog.asserts.doAssertFailure_("Expected boolean but got %s: %s.",[goog.typeOf(a),a],b,Array.prototype.slice.call(arguments,2));return a};
goog.asserts.assertInstanceof=function(a,b,c,d){!goog.asserts.ENABLE_ASSERTS||a instanceof b||goog.asserts.doAssertFailure_("instanceof check failed.",null,c,Array.prototype.slice.call(arguments,3));return a};goog.uri={};goog.uri.utils={};goog.uri.utils.CharCode_={AMPERSAND:38,EQUAL:61,HASH:35,QUESTION:63};goog.uri.utils.buildFromEncodedParts=function(a,b,c,d,e,f,g){var h="";a&&(h+=a+":");c&&(h+="//",b&&(h+=b+"@"),h+=c,d&&(h+=":"+d));e&&(h+=e);f&&(h+="?"+f);g&&(h+="#"+g);return h};goog.uri.utils.splitRe_=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?=[/#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#(.*))?$/;
goog.uri.utils.ComponentIndex={SCHEME:1,USER_INFO:2,DOMAIN:3,PORT:4,PATH:5,QUERY_DATA:6,FRAGMENT:7};goog.uri.utils.split=function(a){return a.match(goog.uri.utils.splitRe_)};goog.uri.utils.decodeIfPossible_=function(a){return a&&decodeURIComponent(a)};goog.uri.utils.getComponentByIndex_=function(a,b){return goog.uri.utils.split(b)[a]||null};goog.uri.utils.getScheme=function(a){return goog.uri.utils.getComponentByIndex_(goog.uri.utils.ComponentIndex.SCHEME,a)};
goog.uri.utils.getEffectiveScheme=function(a){a=goog.uri.utils.getScheme(a);!a&&self.location&&(a=self.location.protocol,a=a.substr(0,a.length-1));return a?a.toLowerCase():""};goog.uri.utils.getUserInfoEncoded=function(a){return goog.uri.utils.getComponentByIndex_(goog.uri.utils.ComponentIndex.USER_INFO,a)};goog.uri.utils.getUserInfo=function(a){return goog.uri.utils.decodeIfPossible_(goog.uri.utils.getUserInfoEncoded(a))};
goog.uri.utils.getDomainEncoded=function(a){return goog.uri.utils.getComponentByIndex_(goog.uri.utils.ComponentIndex.DOMAIN,a)};goog.uri.utils.getDomain=function(a){return goog.uri.utils.decodeIfPossible_(goog.uri.utils.getDomainEncoded(a))};goog.uri.utils.getPort=function(a){return Number(goog.uri.utils.getComponentByIndex_(goog.uri.utils.ComponentIndex.PORT,a))||null};goog.uri.utils.getPathEncoded=function(a){return goog.uri.utils.getComponentByIndex_(goog.uri.utils.ComponentIndex.PATH,a)};
goog.uri.utils.getPath=function(a){return goog.uri.utils.decodeIfPossible_(goog.uri.utils.getPathEncoded(a))};goog.uri.utils.getQueryData=function(a){return goog.uri.utils.getComponentByIndex_(goog.uri.utils.ComponentIndex.QUERY_DATA,a)};goog.uri.utils.getFragmentEncoded=function(a){var b=a.indexOf("#");return 0>b?null:a.substr(b+1)};goog.uri.utils.setFragmentEncoded=function(a,b){return goog.uri.utils.removeFragment(a)+(b?"#"+b:"")};goog.uri.utils.getFragment=function(a){return goog.uri.utils.decodeIfPossible_(goog.uri.utils.getFragmentEncoded(a))};
goog.uri.utils.getHost=function(a){a=goog.uri.utils.split(a);return goog.uri.utils.buildFromEncodedParts(a[goog.uri.utils.ComponentIndex.SCHEME],a[goog.uri.utils.ComponentIndex.USER_INFO],a[goog.uri.utils.ComponentIndex.DOMAIN],a[goog.uri.utils.ComponentIndex.PORT])};goog.uri.utils.getPathAndAfter=function(a){a=goog.uri.utils.split(a);return goog.uri.utils.buildFromEncodedParts(null,null,null,null,a[goog.uri.utils.ComponentIndex.PATH],a[goog.uri.utils.ComponentIndex.QUERY_DATA],a[goog.uri.utils.ComponentIndex.FRAGMENT])};
goog.uri.utils.removeFragment=function(a){var b=a.indexOf("#");return 0>b?a:a.substr(0,b)};goog.uri.utils.haveSameDomain=function(a,b){var c=goog.uri.utils.split(a),d=goog.uri.utils.split(b);return c[goog.uri.utils.ComponentIndex.DOMAIN]==d[goog.uri.utils.ComponentIndex.DOMAIN]&&c[goog.uri.utils.ComponentIndex.SCHEME]==d[goog.uri.utils.ComponentIndex.SCHEME]&&c[goog.uri.utils.ComponentIndex.PORT]==d[goog.uri.utils.ComponentIndex.PORT]};
goog.uri.utils.assertNoFragmentsOrQueries_=function(a){if(goog.DEBUG&&(0<=a.indexOf("#")||0<=a.indexOf("?")))throw Error("goog.uri.utils: Fragment or query identifiers are not supported: ["+a+"]");};goog.uri.utils.appendQueryData_=function(a){if(a[1]){var b=a[0],c=b.indexOf("#");0<=c&&(a.push(b.substr(c)),a[0]=b=b.substr(0,c));c=b.indexOf("?");0>c?a[1]="?":c==b.length-1&&(a[1]=void 0)}return a.join("")};
goog.uri.utils.appendKeyValuePairs_=function(a,b,c){if(goog.isArray(b)){goog.asserts.assertArray(b);for(var d=0;d<b.length;d++)goog.uri.utils.appendKeyValuePairs_(a,String(b[d]),c)}else null!=b&&c.push("&",a,""===b?"":"=",goog.string.urlEncode(b))};goog.uri.utils.buildQueryDataBuffer_=function(a,b,c){goog.asserts.assert(0==Math.max(b.length-(c||0),0)%2,"goog.uri.utils: Key/value lists must be even in length.");for(c=c||0;c<b.length;c+=2)goog.uri.utils.appendKeyValuePairs_(b[c],b[c+1],a);return a};
goog.uri.utils.buildQueryData=function(a,b){var c=goog.uri.utils.buildQueryDataBuffer_([],a,b);c[0]="";return c.join("")};goog.uri.utils.buildQueryDataBufferFromMap_=function(a,b){for(var c in b)goog.uri.utils.appendKeyValuePairs_(c,b[c],a);return a};goog.uri.utils.buildQueryDataFromMap=function(a){a=goog.uri.utils.buildQueryDataBufferFromMap_([],a);a[0]="";return a.join("")};
goog.uri.utils.appendParams=function(a,b){return goog.uri.utils.appendQueryData_(2==arguments.length?goog.uri.utils.buildQueryDataBuffer_([a],arguments[1],0):goog.uri.utils.buildQueryDataBuffer_([a],arguments,1))};goog.uri.utils.appendParamsFromMap=function(a,b){return goog.uri.utils.appendQueryData_(goog.uri.utils.buildQueryDataBufferFromMap_([a],b))};goog.uri.utils.appendParam=function(a,b,c){return goog.uri.utils.appendQueryData_([a,"&",b,"=",goog.string.urlEncode(c)])};
goog.uri.utils.findParam_=function(a,b,c,d){for(var e=c.length;0<=(b=a.indexOf(c,b))&&b<d;){var f=a.charCodeAt(b-1);if(f==goog.uri.utils.CharCode_.AMPERSAND||f==goog.uri.utils.CharCode_.QUESTION)if(f=a.charCodeAt(b+e),!f||f==goog.uri.utils.CharCode_.EQUAL||f==goog.uri.utils.CharCode_.AMPERSAND||f==goog.uri.utils.CharCode_.HASH)return b;b+=e+1}return-1};goog.uri.utils.hashOrEndRe_=/#|$/;goog.uri.utils.hasParam=function(a,b){return 0<=goog.uri.utils.findParam_(a,0,b,a.search(goog.uri.utils.hashOrEndRe_))};
goog.uri.utils.getParamValue=function(a,b){var c=a.search(goog.uri.utils.hashOrEndRe_),d=goog.uri.utils.findParam_(a,0,b,c);if(0>d)return null;var e=a.indexOf("&",d);if(0>e||e>c)e=c;d+=b.length+1;return goog.string.urlDecode(a.substr(d,e-d))};goog.uri.utils.getParamValues=function(a,b){for(var c=a.search(goog.uri.utils.hashOrEndRe_),d=0,e,f=[];0<=(e=goog.uri.utils.findParam_(a,d,b,c));){d=a.indexOf("&",e);if(0>d||d>c)d=c;e+=b.length+1;f.push(goog.string.urlDecode(a.substr(e,d-e)))}return f};
goog.uri.utils.trailingQueryPunctuationRe_=/[?&]($|#)/;goog.uri.utils.removeParam=function(a,b){for(var c=a.search(goog.uri.utils.hashOrEndRe_),d=0,e,f=[];0<=(e=goog.uri.utils.findParam_(a,d,b,c));)f.push(a.substring(d,e)),d=Math.min(a.indexOf("&",e)+1||c,c);f.push(a.substr(d));return f.join("").replace(goog.uri.utils.trailingQueryPunctuationRe_,"$1")};goog.uri.utils.setParam=function(a,b,c){return goog.uri.utils.appendParam(goog.uri.utils.removeParam(a,b),b,c)};
goog.uri.utils.appendPath=function(a,b){goog.uri.utils.assertNoFragmentsOrQueries_(a);goog.string.endsWith(a,"/")&&(a=a.substr(0,a.length-1));goog.string.startsWith(b,"/")&&(b=b.substr(1));return goog.string.buildString(a,"/",b)};goog.uri.utils.StandardQueryParam={RANDOM:"zx"};goog.uri.utils.makeUnique=function(a){return goog.uri.utils.setParam(a,goog.uri.utils.StandardQueryParam.RANDOM,goog.string.getRandomString())};goog.object={};goog.object.forEach=function(a,b,c){for(var d in a)b.call(c,a[d],d,a)};goog.object.filter=function(a,b,c){var d={},e;for(e in a)b.call(c,a[e],e,a)&&(d[e]=a[e]);return d};goog.object.map=function(a,b,c){var d={},e;for(e in a)d[e]=b.call(c,a[e],e,a);return d};goog.object.some=function(a,b,c){for(var d in a)if(b.call(c,a[d],d,a))return!0;return!1};goog.object.every=function(a,b,c){for(var d in a)if(!b.call(c,a[d],d,a))return!1;return!0};
goog.object.getCount=function(a){var b=0,c;for(c in a)b++;return b};goog.object.getAnyKey=function(a){for(var b in a)return b};goog.object.getAnyValue=function(a){for(var b in a)return a[b]};goog.object.contains=function(a,b){return goog.object.containsValue(a,b)};goog.object.getValues=function(a){var b=[],c=0,d;for(d in a)b[c++]=a[d];return b};goog.object.getKeys=function(a){var b=[],c=0,d;for(d in a)b[c++]=d;return b};
goog.object.getValueByKeys=function(a,b){for(var c=goog.isArrayLike(b),d=c?b:arguments,c=c?0:1;c<d.length&&(a=a[d[c]],goog.isDef(a));c++);return a};goog.object.containsKey=function(a,b){return b in a};goog.object.containsValue=function(a,b){for(var c in a)if(a[c]==b)return!0;return!1};goog.object.findKey=function(a,b,c){for(var d in a)if(b.call(c,a[d],d,a))return d};goog.object.findValue=function(a,b,c){return(b=goog.object.findKey(a,b,c))&&a[b]};
goog.object.isEmpty=function(a){for(var b in a)return!1;return!0};goog.object.clear=function(a){for(var b in a)delete a[b]};goog.object.remove=function(a,b){var c;(c=b in a)&&delete a[b];return c};goog.object.add=function(a,b,c){if(b in a)throw Error('The object already contains the key "'+b+'"');goog.object.set(a,b,c)};goog.object.get=function(a,b,c){return b in a?a[b]:c};goog.object.set=function(a,b,c){a[b]=c};goog.object.setIfUndefined=function(a,b,c){return b in a?a[b]:a[b]=c};
goog.object.clone=function(a){var b={},c;for(c in a)b[c]=a[c];return b};goog.object.unsafeClone=function(a){var b=goog.typeOf(a);if("object"==b||"array"==b){if(a.clone)return a.clone();var b="array"==b?[]:{},c;for(c in a)b[c]=goog.object.unsafeClone(a[c]);return b}return a};goog.object.transpose=function(a){var b={},c;for(c in a)b[a[c]]=c;return b};goog.object.PROTOTYPE_FIELDS_="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");
goog.object.extend=function(a,b){for(var c,d,e=1;e<arguments.length;e++){d=arguments[e];for(c in d)a[c]=d[c];for(var f=0;f<goog.object.PROTOTYPE_FIELDS_.length;f++)c=goog.object.PROTOTYPE_FIELDS_[f],Object.prototype.hasOwnProperty.call(d,c)&&(a[c]=d[c])}};
goog.object.create=function(a){var b=arguments.length;if(1==b&&goog.isArray(arguments[0]))return goog.object.create.apply(null,arguments[0]);if(b%2)throw Error("Uneven number of arguments");for(var c={},d=0;d<b;d+=2)c[arguments[d]]=arguments[d+1];return c};goog.object.createSet=function(a){var b=arguments.length;if(1==b&&goog.isArray(arguments[0]))return goog.object.createSet.apply(null,arguments[0]);for(var c={},d=0;d<b;d++)c[arguments[d]]=!0;return c};
goog.object.createImmutableView=function(a){var b=a;Object.isFrozen&&!Object.isFrozen(a)&&(b=Object.create(a),Object.freeze(b));return b};goog.object.isImmutableView=function(a){return!!Object.isFrozen&&Object.isFrozen(a)};goog.array={};goog.NATIVE_ARRAY_PROTOTYPES=goog.TRUSTED_SITE;goog.array.peek=function(a){return a[a.length-1]};goog.array.ARRAY_PROTOTYPE_=Array.prototype;
goog.array.indexOf=goog.NATIVE_ARRAY_PROTOTYPES&&goog.array.ARRAY_PROTOTYPE_.indexOf?function(a,b,c){goog.asserts.assert(null!=a.length);return goog.array.ARRAY_PROTOTYPE_.indexOf.call(a,b,c)}:function(a,b,c){c=null==c?0:0>c?Math.max(0,a.length+c):c;if(goog.isString(a))return goog.isString(b)&&1==b.length?a.indexOf(b,c):-1;for(;c<a.length;c++)if(c in a&&a[c]===b)return c;return-1};
goog.array.lastIndexOf=goog.NATIVE_ARRAY_PROTOTYPES&&goog.array.ARRAY_PROTOTYPE_.lastIndexOf?function(a,b,c){goog.asserts.assert(null!=a.length);return goog.array.ARRAY_PROTOTYPE_.lastIndexOf.call(a,b,null==c?a.length-1:c)}:function(a,b,c){c=null==c?a.length-1:c;0>c&&(c=Math.max(0,a.length+c));if(goog.isString(a))return goog.isString(b)&&1==b.length?a.lastIndexOf(b,c):-1;for(;0<=c;c--)if(c in a&&a[c]===b)return c;return-1};
goog.array.forEach=goog.NATIVE_ARRAY_PROTOTYPES&&goog.array.ARRAY_PROTOTYPE_.forEach?function(a,b,c){goog.asserts.assert(null!=a.length);goog.array.ARRAY_PROTOTYPE_.forEach.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=goog.isString(a)?a.split(""):a,f=0;f<d;f++)f in e&&b.call(c,e[f],f,a)};goog.array.forEachRight=function(a,b,c){for(var d=a.length,e=goog.isString(a)?a.split(""):a,d=d-1;0<=d;--d)d in e&&b.call(c,e[d],d,a)};
goog.array.filter=goog.NATIVE_ARRAY_PROTOTYPES&&goog.array.ARRAY_PROTOTYPE_.filter?function(a,b,c){goog.asserts.assert(null!=a.length);return goog.array.ARRAY_PROTOTYPE_.filter.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=[],f=0,g=goog.isString(a)?a.split(""):a,h=0;h<d;h++)if(h in g){var k=g[h];b.call(c,k,h,a)&&(e[f++]=k)}return e};
goog.array.map=goog.NATIVE_ARRAY_PROTOTYPES&&goog.array.ARRAY_PROTOTYPE_.map?function(a,b,c){goog.asserts.assert(null!=a.length);return goog.array.ARRAY_PROTOTYPE_.map.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=Array(d),f=goog.isString(a)?a.split(""):a,g=0;g<d;g++)g in f&&(e[g]=b.call(c,f[g],g,a));return e};goog.array.reduce=function(a,b,c,d){if(a.reduce)return d?a.reduce(goog.bind(b,d),c):a.reduce(b,c);var e=c;goog.array.forEach(a,function(c,g){e=b.call(d,e,c,g,a)});return e};
goog.array.reduceRight=function(a,b,c,d){if(a.reduceRight)return d?a.reduceRight(goog.bind(b,d),c):a.reduceRight(b,c);var e=c;goog.array.forEachRight(a,function(c,g){e=b.call(d,e,c,g,a)});return e};
goog.array.some=goog.NATIVE_ARRAY_PROTOTYPES&&goog.array.ARRAY_PROTOTYPE_.some?function(a,b,c){goog.asserts.assert(null!=a.length);return goog.array.ARRAY_PROTOTYPE_.some.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=goog.isString(a)?a.split(""):a,f=0;f<d;f++)if(f in e&&b.call(c,e[f],f,a))return!0;return!1};
goog.array.every=goog.NATIVE_ARRAY_PROTOTYPES&&goog.array.ARRAY_PROTOTYPE_.every?function(a,b,c){goog.asserts.assert(null!=a.length);return goog.array.ARRAY_PROTOTYPE_.every.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=goog.isString(a)?a.split(""):a,f=0;f<d;f++)if(f in e&&!b.call(c,e[f],f,a))return!1;return!0};goog.array.count=function(a,b,c){var d=0;goog.array.forEach(a,function(a,f,g){b.call(c,a,f,g)&&++d},c);return d};
goog.array.find=function(a,b,c){b=goog.array.findIndex(a,b,c);return 0>b?null:goog.isString(a)?a.charAt(b):a[b]};goog.array.findIndex=function(a,b,c){for(var d=a.length,e=goog.isString(a)?a.split(""):a,f=0;f<d;f++)if(f in e&&b.call(c,e[f],f,a))return f;return-1};goog.array.findRight=function(a,b,c){b=goog.array.findIndexRight(a,b,c);return 0>b?null:goog.isString(a)?a.charAt(b):a[b]};
goog.array.findIndexRight=function(a,b,c){for(var d=a.length,e=goog.isString(a)?a.split(""):a,d=d-1;0<=d;d--)if(d in e&&b.call(c,e[d],d,a))return d;return-1};goog.array.contains=function(a,b){return 0<=goog.array.indexOf(a,b)};goog.array.isEmpty=function(a){return 0==a.length};goog.array.clear=function(a){if(!goog.isArray(a))for(var b=a.length-1;0<=b;b--)delete a[b];a.length=0};goog.array.insert=function(a,b){goog.array.contains(a,b)||a.push(b)};
goog.array.insertAt=function(a,b,c){goog.array.splice(a,c,0,b)};goog.array.insertArrayAt=function(a,b,c){goog.partial(goog.array.splice,a,c,0).apply(null,b)};goog.array.insertBefore=function(a,b,c){var d;2==arguments.length||0>(d=goog.array.indexOf(a,c))?a.push(b):goog.array.insertAt(a,b,d)};goog.array.remove=function(a,b){var c=goog.array.indexOf(a,b),d;(d=0<=c)&&goog.array.removeAt(a,c);return d};
goog.array.removeAt=function(a,b){goog.asserts.assert(null!=a.length);return 1==goog.array.ARRAY_PROTOTYPE_.splice.call(a,b,1).length};goog.array.removeIf=function(a,b,c){b=goog.array.findIndex(a,b,c);return 0<=b?(goog.array.removeAt(a,b),!0):!1};goog.array.concat=function(a){return goog.array.ARRAY_PROTOTYPE_.concat.apply(goog.array.ARRAY_PROTOTYPE_,arguments)};goog.array.toArray=function(a){var b=a.length;if(0<b){for(var c=Array(b),d=0;d<b;d++)c[d]=a[d];return c}return[]};goog.array.clone=goog.array.toArray;
goog.array.extend=function(a,b){for(var c=1;c<arguments.length;c++){var d=arguments[c],e;if(goog.isArray(d)||(e=goog.isArrayLike(d))&&Object.prototype.hasOwnProperty.call(d,"callee"))a.push.apply(a,d);else if(e)for(var f=a.length,g=d.length,h=0;h<g;h++)a[f+h]=d[h];else a.push(d)}};goog.array.splice=function(a,b,c,d){goog.asserts.assert(null!=a.length);return goog.array.ARRAY_PROTOTYPE_.splice.apply(a,goog.array.slice(arguments,1))};
goog.array.slice=function(a,b,c){goog.asserts.assert(null!=a.length);return 2>=arguments.length?goog.array.ARRAY_PROTOTYPE_.slice.call(a,b):goog.array.ARRAY_PROTOTYPE_.slice.call(a,b,c)};goog.array.removeDuplicates=function(a,b){for(var c=b||a,d={},e=0,f=0;f<a.length;){var g=a[f++],h=goog.isObject(g)?"o"+goog.getUid(g):(typeof g).charAt(0)+g;Object.prototype.hasOwnProperty.call(d,h)||(d[h]=!0,c[e++]=g)}c.length=e};
goog.array.binarySearch=function(a,b,c){return goog.array.binarySearch_(a,c||goog.array.defaultCompare,!1,b)};goog.array.binarySelect=function(a,b,c){return goog.array.binarySearch_(a,b,!0,void 0,c)};goog.array.binarySearch_=function(a,b,c,d,e){for(var f=0,g=a.length,h;f<g;){var k=f+g>>1,l;l=c?b.call(e,a[k],k,a):b(d,a[k]);0<l?f=k+1:(g=k,h=!l)}return h?f:~f};goog.array.sort=function(a,b){goog.asserts.assert(null!=a.length);goog.array.ARRAY_PROTOTYPE_.sort.call(a,b||goog.array.defaultCompare)};
goog.array.stableSort=function(a,b){for(var c=0;c<a.length;c++)a[c]={index:c,value:a[c]};var d=b||goog.array.defaultCompare;goog.array.sort(a,function(a,b){return d(a.value,b.value)||a.index-b.index});for(c=0;c<a.length;c++)a[c]=a[c].value};goog.array.sortObjectsByKey=function(a,b,c){var d=c||goog.array.defaultCompare;goog.array.sort(a,function(a,c){return d(a[b],c[b])})};
goog.array.isSorted=function(a,b,c){b=b||goog.array.defaultCompare;for(var d=1;d<a.length;d++){var e=b(a[d-1],a[d]);if(0<e||0==e&&c)return!1}return!0};goog.array.equals=function(a,b,c){if(!goog.isArrayLike(a)||!goog.isArrayLike(b)||a.length!=b.length)return!1;var d=a.length;c=c||goog.array.defaultCompareEquality;for(var e=0;e<d;e++)if(!c(a[e],b[e]))return!1;return!0};goog.array.compare=function(a,b,c){return goog.array.equals(a,b,c)};
goog.array.compare3=function(a,b,c){c=c||goog.array.defaultCompare;for(var d=Math.min(a.length,b.length),e=0;e<d;e++){var f=c(a[e],b[e]);if(0!=f)return f}return goog.array.defaultCompare(a.length,b.length)};goog.array.defaultCompare=function(a,b){return a>b?1:a<b?-1:0};goog.array.defaultCompareEquality=function(a,b){return a===b};goog.array.binaryInsert=function(a,b,c){c=goog.array.binarySearch(a,b,c);return 0>c?(goog.array.insertAt(a,b,-(c+1)),!0):!1};
goog.array.binaryRemove=function(a,b,c){b=goog.array.binarySearch(a,b,c);return 0<=b?goog.array.removeAt(a,b):!1};goog.array.bucket=function(a,b){for(var c={},d=0;d<a.length;d++){var e=a[d],f=b(e,d,a);goog.isDef(f)&&(c[f]||(c[f]=[])).push(e)}return c};goog.array.toObject=function(a,b,c){var d={};goog.array.forEach(a,function(e,f){d[b.call(c,e,f,a)]=e});return d};
goog.array.range=function(a,b,c){var d=[],e=0,f=a;c=c||1;void 0!==b&&(e=a,f=b);if(0>c*(f-e))return[];if(0<c)for(a=e;a<f;a+=c)d.push(a);else for(a=e;a>f;a+=c)d.push(a);return d};goog.array.repeat=function(a,b){for(var c=[],d=0;d<b;d++)c[d]=a;return c};goog.array.flatten=function(a){for(var b=[],c=0;c<arguments.length;c++){var d=arguments[c];goog.isArray(d)?b.push.apply(b,goog.array.flatten.apply(null,d)):b.push(d)}return b};
goog.array.rotate=function(a,b){goog.asserts.assert(null!=a.length);a.length&&(b%=a.length,0<b?goog.array.ARRAY_PROTOTYPE_.unshift.apply(a,a.splice(-b,b)):0>b&&goog.array.ARRAY_PROTOTYPE_.push.apply(a,a.splice(0,-b)));return a};goog.array.zip=function(a){if(!arguments.length)return[];for(var b=[],c=0;;c++){for(var d=[],e=0;e<arguments.length;e++){var f=arguments[e];if(c>=f.length)return b;d.push(f[c])}b.push(d)}};
goog.array.shuffle=function(a,b){for(var c=b||Math.random,d=a.length-1;0<d;d--){var e=Math.floor(c()*(d+1)),f=a[d];a[d]=a[e];a[e]=f}};goog.iter={};goog.iter.StopIteration="StopIteration"in goog.global?goog.global.StopIteration:Error("StopIteration");goog.iter.Iterator=function(){};goog.iter.Iterator.prototype.next=function(){throw goog.iter.StopIteration;};goog.iter.Iterator.prototype.__iterator__=function(a){return this};
goog.iter.toIterator=function(a){if(a instanceof goog.iter.Iterator)return a;if("function"==typeof a.__iterator__)return a.__iterator__(!1);if(goog.isArrayLike(a)){var b=0,c=new goog.iter.Iterator;c.next=function(){for(;;){if(b>=a.length)throw goog.iter.StopIteration;if(b in a)return a[b++];b++}};return c}throw Error("Not implemented");};
goog.iter.forEach=function(a,b,c){if(goog.isArrayLike(a))try{goog.array.forEach(a,b,c)}catch(d){if(d!==goog.iter.StopIteration)throw d;}else{a=goog.iter.toIterator(a);try{for(;;)b.call(c,a.next(),void 0,a)}catch(e){if(e!==goog.iter.StopIteration)throw e;}}};goog.iter.filter=function(a,b,c){var d=goog.iter.toIterator(a);a=new goog.iter.Iterator;a.next=function(){for(;;){var a=d.next();if(b.call(c,a,void 0,d))return a}};return a};
goog.iter.range=function(a,b,c){var d=0,e=a,f=c||1;1<arguments.length&&(d=a,e=b);if(0==f)throw Error("Range step argument must not be zero");var g=new goog.iter.Iterator;g.next=function(){if(0<f&&d>=e||0>f&&d<=e)throw goog.iter.StopIteration;var a=d;d+=f;return a};return g};goog.iter.join=function(a,b){return goog.iter.toArray(a).join(b)};goog.iter.map=function(a,b,c){var d=goog.iter.toIterator(a);a=new goog.iter.Iterator;a.next=function(){for(;;){var a=d.next();return b.call(c,a,void 0,d)}};return a};
goog.iter.reduce=function(a,b,c,d){var e=c;goog.iter.forEach(a,function(a){e=b.call(d,e,a)});return e};goog.iter.some=function(a,b,c){a=goog.iter.toIterator(a);try{for(;;)if(b.call(c,a.next(),void 0,a))return!0}catch(d){if(d!==goog.iter.StopIteration)throw d;}return!1};goog.iter.every=function(a,b,c){a=goog.iter.toIterator(a);try{for(;;)if(!b.call(c,a.next(),void 0,a))return!1}catch(d){if(d!==goog.iter.StopIteration)throw d;}return!0};
goog.iter.chain=function(a){var b=arguments,c=b.length,d=0,e=new goog.iter.Iterator;e.next=function(){try{if(d>=c)throw goog.iter.StopIteration;return goog.iter.toIterator(b[d]).next()}catch(a){if(a!==goog.iter.StopIteration||d>=c)throw a;d++;return this.next()}};return e};goog.iter.dropWhile=function(a,b,c){var d=goog.iter.toIterator(a);a=new goog.iter.Iterator;var e=!0;a.next=function(){for(;;){var a=d.next();if(!e||!b.call(c,a,void 0,d))return e=!1,a}};return a};
goog.iter.takeWhile=function(a,b,c){var d=goog.iter.toIterator(a);a=new goog.iter.Iterator;var e=!0;a.next=function(){for(;;)if(e){var a=d.next();if(b.call(c,a,void 0,d))return a;e=!1}else throw goog.iter.StopIteration;};return a};goog.iter.toArray=function(a){if(goog.isArrayLike(a))return goog.array.toArray(a);a=goog.iter.toIterator(a);var b=[];goog.iter.forEach(a,function(a){b.push(a)});return b};
goog.iter.equals=function(a,b){a=goog.iter.toIterator(a);b=goog.iter.toIterator(b);var c,d;try{for(;;){c=d=!1;var e=a.next();c=!0;var f=b.next();d=!0;if(e!=f)break}}catch(g){if(g!==goog.iter.StopIteration)throw g;if(c&&!d)return!1;if(!d)try{b.next()}catch(h){if(h!==goog.iter.StopIteration)throw h;return!0}}return!1};goog.iter.nextOrValue=function(a,b){try{return goog.iter.toIterator(a).next()}catch(c){if(c!=goog.iter.StopIteration)throw c;return b}};
goog.iter.product=function(a){if(goog.array.some(arguments,function(a){return!a.length})||!arguments.length)return new goog.iter.Iterator;var b=new goog.iter.Iterator,c=arguments,d=goog.array.repeat(0,c.length);b.next=function(){if(d){for(var a=goog.array.map(d,function(a,b){return c[b][a]}),b=d.length-1;0<=b;b--){goog.asserts.assert(d);if(d[b]<c[b].length-1){d[b]++;break}if(0==b){d=null;break}d[b]=0}return a}throw goog.iter.StopIteration;};return b};
goog.iter.cycle=function(a){var b=goog.iter.toIterator(a),c=[],d=0;a=new goog.iter.Iterator;var e=!1;a.next=function(){var a=null;if(!e)try{return a=b.next(),c.push(a),a}catch(g){if(g!=goog.iter.StopIteration||goog.array.isEmpty(c))throw g;e=!0}a=c[d];d=(d+1)%c.length;return a};return a};goog.structs={};goog.structs.getCount=function(a){return"function"==typeof a.getCount?a.getCount():goog.isArrayLike(a)||goog.isString(a)?a.length:goog.object.getCount(a)};goog.structs.getValues=function(a){if("function"==typeof a.getValues)return a.getValues();if(goog.isString(a))return a.split("");if(goog.isArrayLike(a)){for(var b=[],c=a.length,d=0;d<c;d++)b.push(a[d]);return b}return goog.object.getValues(a)};
goog.structs.getKeys=function(a){if("function"==typeof a.getKeys)return a.getKeys();if("function"!=typeof a.getValues){if(goog.isArrayLike(a)||goog.isString(a)){var b=[];a=a.length;for(var c=0;c<a;c++)b.push(c);return b}return goog.object.getKeys(a)}};goog.structs.contains=function(a,b){return"function"==typeof a.contains?a.contains(b):"function"==typeof a.containsValue?a.containsValue(b):goog.isArrayLike(a)||goog.isString(a)?goog.array.contains(a,b):goog.object.containsValue(a,b)};
goog.structs.isEmpty=function(a){return"function"==typeof a.isEmpty?a.isEmpty():goog.isArrayLike(a)||goog.isString(a)?goog.array.isEmpty(a):goog.object.isEmpty(a)};goog.structs.clear=function(a){"function"==typeof a.clear?a.clear():goog.isArrayLike(a)?goog.array.clear(a):goog.object.clear(a)};
goog.structs.forEach=function(a,b,c){if("function"==typeof a.forEach)a.forEach(b,c);else if(goog.isArrayLike(a)||goog.isString(a))goog.array.forEach(a,b,c);else for(var d=goog.structs.getKeys(a),e=goog.structs.getValues(a),f=e.length,g=0;g<f;g++)b.call(c,e[g],d&&d[g],a)};
goog.structs.filter=function(a,b,c){if("function"==typeof a.filter)return a.filter(b,c);if(goog.isArrayLike(a)||goog.isString(a))return goog.array.filter(a,b,c);var d,e=goog.structs.getKeys(a),f=goog.structs.getValues(a),g=f.length;if(e){d={};for(var h=0;h<g;h++)b.call(c,f[h],e[h],a)&&(d[e[h]]=f[h])}else for(d=[],h=0;h<g;h++)b.call(c,f[h],void 0,a)&&d.push(f[h]);return d};
goog.structs.map=function(a,b,c){if("function"==typeof a.map)return a.map(b,c);if(goog.isArrayLike(a)||goog.isString(a))return goog.array.map(a,b,c);var d,e=goog.structs.getKeys(a),f=goog.structs.getValues(a),g=f.length;if(e){d={};for(var h=0;h<g;h++)d[e[h]]=b.call(c,f[h],e[h],a)}else for(d=[],h=0;h<g;h++)d[h]=b.call(c,f[h],void 0,a);return d};
goog.structs.some=function(a,b,c){if("function"==typeof a.some)return a.some(b,c);if(goog.isArrayLike(a)||goog.isString(a))return goog.array.some(a,b,c);for(var d=goog.structs.getKeys(a),e=goog.structs.getValues(a),f=e.length,g=0;g<f;g++)if(b.call(c,e[g],d&&d[g],a))return!0;return!1};
goog.structs.every=function(a,b,c){if("function"==typeof a.every)return a.every(b,c);if(goog.isArrayLike(a)||goog.isString(a))return goog.array.every(a,b,c);for(var d=goog.structs.getKeys(a),e=goog.structs.getValues(a),f=e.length,g=0;g<f;g++)if(!b.call(c,e[g],d&&d[g],a))return!1;return!0};goog.structs.Map=function(a,b){this.map_={};this.keys_=[];var c=arguments.length;if(1<c){if(c%2)throw Error("Uneven number of arguments");for(var d=0;d<c;d+=2)this.set(arguments[d],arguments[d+1])}else a&&this.addAll(a)};goog.structs.Map.prototype.count_=0;goog.structs.Map.prototype.version_=0;goog.structs.Map.prototype.getCount=function(){return this.count_};
goog.structs.Map.prototype.getValues=function(){this.cleanupKeysArray_();for(var a=[],b=0;b<this.keys_.length;b++)a.push(this.map_[this.keys_[b]]);return a};goog.structs.Map.prototype.getKeys=function(){this.cleanupKeysArray_();return this.keys_.concat()};goog.structs.Map.prototype.containsKey=function(a){return goog.structs.Map.hasKey_(this.map_,a)};
goog.structs.Map.prototype.containsValue=function(a){for(var b=0;b<this.keys_.length;b++){var c=this.keys_[b];if(goog.structs.Map.hasKey_(this.map_,c)&&this.map_[c]==a)return!0}return!1};goog.structs.Map.prototype.equals=function(a,b){if(this===a)return!0;if(this.count_!=a.getCount())return!1;var c=b||goog.structs.Map.defaultEquals;this.cleanupKeysArray_();for(var d,e=0;d=this.keys_[e];e++)if(!c(this.get(d),a.get(d)))return!1;return!0};goog.structs.Map.defaultEquals=function(a,b){return a===b};
goog.structs.Map.prototype.isEmpty=function(){return 0==this.count_};goog.structs.Map.prototype.clear=function(){this.map_={};this.version_=this.count_=this.keys_.length=0};goog.structs.Map.prototype.remove=function(a){return goog.structs.Map.hasKey_(this.map_,a)?(delete this.map_[a],this.count_--,this.version_++,this.keys_.length>2*this.count_&&this.cleanupKeysArray_(),!0):!1};
goog.structs.Map.prototype.cleanupKeysArray_=function(){if(this.count_!=this.keys_.length){for(var a=0,b=0;a<this.keys_.length;){var c=this.keys_[a];goog.structs.Map.hasKey_(this.map_,c)&&(this.keys_[b++]=c);a++}this.keys_.length=b}if(this.count_!=this.keys_.length){for(var d={},b=a=0;a<this.keys_.length;)c=this.keys_[a],goog.structs.Map.hasKey_(d,c)||(this.keys_[b++]=c,d[c]=1),a++;this.keys_.length=b}};
goog.structs.Map.prototype.get=function(a,b){return goog.structs.Map.hasKey_(this.map_,a)?this.map_[a]:b};goog.structs.Map.prototype.set=function(a,b){goog.structs.Map.hasKey_(this.map_,a)||(this.count_++,this.keys_.push(a),this.version_++);this.map_[a]=b};goog.structs.Map.prototype.addAll=function(a){var b;a instanceof goog.structs.Map?(b=a.getKeys(),a=a.getValues()):(b=goog.object.getKeys(a),a=goog.object.getValues(a));for(var c=0;c<b.length;c++)this.set(b[c],a[c])};
goog.structs.Map.prototype.clone=function(){return new goog.structs.Map(this)};goog.structs.Map.prototype.transpose=function(){for(var a=new goog.structs.Map,b=0;b<this.keys_.length;b++){var c=this.keys_[b];a.set(this.map_[c],c)}return a};goog.structs.Map.prototype.toObject=function(){this.cleanupKeysArray_();for(var a={},b=0;b<this.keys_.length;b++){var c=this.keys_[b];a[c]=this.map_[c]}return a};goog.structs.Map.prototype.getKeyIterator=function(){return this.__iterator__(!0)};
goog.structs.Map.prototype.getValueIterator=function(){return this.__iterator__(!1)};goog.structs.Map.prototype.__iterator__=function(a){this.cleanupKeysArray_();var b=0,c=this.keys_,d=this.map_,e=this.version_,f=this,g=new goog.iter.Iterator;g.next=function(){for(;;){if(e!=f.version_)throw Error("The map has changed since the iterator was created");if(b>=c.length)throw goog.iter.StopIteration;var g=c[b++];return a?g:d[g]}};return g};
goog.structs.Map.hasKey_=function(a,b){return Object.prototype.hasOwnProperty.call(a,b)};goog.Uri=function(a,b){var c;a instanceof goog.Uri?(this.ignoreCase_=goog.isDef(b)?b:a.getIgnoreCase(),this.setScheme(a.getScheme()),this.setUserInfo(a.getUserInfo()),this.setDomain(a.getDomain()),this.setPort(a.getPort()),this.setPath(a.getPath()),this.setQueryData(a.getQueryData().clone()),this.setFragment(a.getFragment())):a&&(c=goog.uri.utils.split(String(a)))?(this.ignoreCase_=!!b,this.setScheme(c[goog.uri.utils.ComponentIndex.SCHEME]||"",!0),this.setUserInfo(c[goog.uri.utils.ComponentIndex.USER_INFO]||
"",!0),this.setDomain(c[goog.uri.utils.ComponentIndex.DOMAIN]||"",!0),this.setPort(c[goog.uri.utils.ComponentIndex.PORT]),this.setPath(c[goog.uri.utils.ComponentIndex.PATH]||"",!0),this.setQueryData(c[goog.uri.utils.ComponentIndex.QUERY_DATA]||"",!0),this.setFragment(c[goog.uri.utils.ComponentIndex.FRAGMENT]||"",!0)):(this.ignoreCase_=!!b,this.queryData_=new goog.Uri.QueryData(null,null,this.ignoreCase_))};goog.Uri.preserveParameterTypesCompatibilityFlag=!1;goog.Uri.RANDOM_PARAM=goog.uri.utils.StandardQueryParam.RANDOM;
goog.Uri.prototype.scheme_="";goog.Uri.prototype.userInfo_="";goog.Uri.prototype.domain_="";goog.Uri.prototype.port_=null;goog.Uri.prototype.path_="";goog.Uri.prototype.fragment_="";goog.Uri.prototype.isReadOnly_=!1;goog.Uri.prototype.ignoreCase_=!1;
goog.Uri.prototype.toString=function(){var a=[],b=this.getScheme();b&&a.push(goog.Uri.encodeSpecialChars_(b,goog.Uri.reDisallowedInSchemeOrUserInfo_),":");if(b=this.getDomain()){a.push("//");var c=this.getUserInfo();c&&a.push(goog.Uri.encodeSpecialChars_(c,goog.Uri.reDisallowedInSchemeOrUserInfo_),"@");a.push(goog.string.urlEncode(b));b=this.getPort();null!=b&&a.push(":",String(b))}if(b=this.getPath())this.hasDomain()&&"/"!=b.charAt(0)&&a.push("/"),a.push(goog.Uri.encodeSpecialChars_(b,"/"==b.charAt(0)?
goog.Uri.reDisallowedInAbsolutePath_:goog.Uri.reDisallowedInRelativePath_));(b=this.getEncodedQuery())&&a.push("?",b);(b=this.getFragment())&&a.push("#",goog.Uri.encodeSpecialChars_(b,goog.Uri.reDisallowedInFragment_));return a.join("")};
goog.Uri.prototype.resolve=function(a){var b=this.clone(),c=a.hasScheme();c?b.setScheme(a.getScheme()):c=a.hasUserInfo();c?b.setUserInfo(a.getUserInfo()):c=a.hasDomain();c?b.setDomain(a.getDomain()):c=a.hasPort();var d=a.getPath();if(c)b.setPort(a.getPort());else if(c=a.hasPath()){if("/"!=d.charAt(0))if(this.hasDomain()&&!this.hasPath())d="/"+d;else{var e=b.getPath().lastIndexOf("/");-1!=e&&(d=b.getPath().substr(0,e+1)+d)}d=goog.Uri.removeDotSegments(d)}c?b.setPath(d):c=a.hasQuery();c?b.setQueryData(a.getDecodedQuery()):
c=a.hasFragment();c&&b.setFragment(a.getFragment());return b};goog.Uri.prototype.clone=function(){return new goog.Uri(this)};goog.Uri.prototype.getScheme=function(){return this.scheme_};goog.Uri.prototype.setScheme=function(a,b){this.enforceReadOnly();if(this.scheme_=b?goog.Uri.decodeOrEmpty_(a):a)this.scheme_=this.scheme_.replace(/:$/,"");return this};goog.Uri.prototype.hasScheme=function(){return!!this.scheme_};goog.Uri.prototype.getUserInfo=function(){return this.userInfo_};
goog.Uri.prototype.setUserInfo=function(a,b){this.enforceReadOnly();this.userInfo_=b?goog.Uri.decodeOrEmpty_(a):a;return this};goog.Uri.prototype.hasUserInfo=function(){return!!this.userInfo_};goog.Uri.prototype.getDomain=function(){return this.domain_};goog.Uri.prototype.setDomain=function(a,b){this.enforceReadOnly();this.domain_=b?goog.Uri.decodeOrEmpty_(a):a;return this};goog.Uri.prototype.hasDomain=function(){return!!this.domain_};goog.Uri.prototype.getPort=function(){return this.port_};
goog.Uri.prototype.setPort=function(a){this.enforceReadOnly();if(a){a=Number(a);if(isNaN(a)||0>a)throw Error("Bad port number "+a);this.port_=a}else this.port_=null;return this};goog.Uri.prototype.hasPort=function(){return null!=this.port_};goog.Uri.prototype.getPath=function(){return this.path_};goog.Uri.prototype.setPath=function(a,b){this.enforceReadOnly();this.path_=b?goog.Uri.decodeOrEmpty_(a):a;return this};goog.Uri.prototype.hasPath=function(){return!!this.path_};
goog.Uri.prototype.hasQuery=function(){return""!==this.queryData_.toString()};goog.Uri.prototype.setQueryData=function(a,b){this.enforceReadOnly();a instanceof goog.Uri.QueryData?(this.queryData_=a,this.queryData_.setIgnoreCase(this.ignoreCase_)):(b||(a=goog.Uri.encodeSpecialChars_(a,goog.Uri.reDisallowedInQuery_)),this.queryData_=new goog.Uri.QueryData(a,null,this.ignoreCase_));return this};goog.Uri.prototype.setQuery=function(a,b){return this.setQueryData(a,b)};
goog.Uri.prototype.getEncodedQuery=function(){return this.queryData_.toString()};goog.Uri.prototype.getDecodedQuery=function(){return this.queryData_.toDecodedString()};goog.Uri.prototype.getQueryData=function(){return this.queryData_};goog.Uri.prototype.getQuery=function(){return this.getEncodedQuery()};goog.Uri.prototype.setParameterValue=function(a,b){this.enforceReadOnly();this.queryData_.set(a,b);return this};
goog.Uri.prototype.setParameterValues=function(a,b){this.enforceReadOnly();goog.isArray(b)||(b=[String(b)]);this.queryData_.setValues(a,b);return this};goog.Uri.prototype.getParameterValues=function(a){return this.queryData_.getValues(a)};goog.Uri.prototype.getParameterValue=function(a){return this.queryData_.get(a)};goog.Uri.prototype.getFragment=function(){return this.fragment_};goog.Uri.prototype.setFragment=function(a,b){this.enforceReadOnly();this.fragment_=b?goog.Uri.decodeOrEmpty_(a):a;return this};
goog.Uri.prototype.hasFragment=function(){return!!this.fragment_};goog.Uri.prototype.hasSameDomainAs=function(a){return(!this.hasDomain()&&!a.hasDomain()||this.getDomain()==a.getDomain())&&(!this.hasPort()&&!a.hasPort()||this.getPort()==a.getPort())};goog.Uri.prototype.makeUnique=function(){this.enforceReadOnly();this.setParameterValue(goog.Uri.RANDOM_PARAM,goog.string.getRandomString());return this};goog.Uri.prototype.removeParameter=function(a){this.enforceReadOnly();this.queryData_.remove(a);return this};
goog.Uri.prototype.setReadOnly=function(a){this.isReadOnly_=a;return this};goog.Uri.prototype.isReadOnly=function(){return this.isReadOnly_};goog.Uri.prototype.enforceReadOnly=function(){if(this.isReadOnly_)throw Error("Tried to modify a read-only Uri");};goog.Uri.prototype.setIgnoreCase=function(a){this.ignoreCase_=a;this.queryData_&&this.queryData_.setIgnoreCase(a);return this};goog.Uri.prototype.getIgnoreCase=function(){return this.ignoreCase_};
goog.Uri.parse=function(a,b){return a instanceof goog.Uri?a.clone():new goog.Uri(a,b)};goog.Uri.create=function(a,b,c,d,e,f,g,h){h=new goog.Uri(null,h);a&&h.setScheme(a);b&&h.setUserInfo(b);c&&h.setDomain(c);d&&h.setPort(d);e&&h.setPath(e);f&&h.setQueryData(f);g&&h.setFragment(g);return h};goog.Uri.resolve=function(a,b){a instanceof goog.Uri||(a=goog.Uri.parse(a));b instanceof goog.Uri||(b=goog.Uri.parse(b));return a.resolve(b)};
goog.Uri.removeDotSegments=function(a){if(".."==a||"."==a)return"";if(goog.string.contains(a,"./")||goog.string.contains(a,"/.")){var b=goog.string.startsWith(a,"/");a=a.split("/");for(var c=[],d=0;d<a.length;){var e=a[d++];"."==e?b&&d==a.length&&c.push(""):".."==e?((1<c.length||1==c.length&&""!=c[0])&&c.pop(),b&&d==a.length&&c.push("")):(c.push(e),b=!0)}return c.join("/")}return a};goog.Uri.decodeOrEmpty_=function(a){return a?decodeURIComponent(a):""};
goog.Uri.encodeSpecialChars_=function(a,b){return goog.isString(a)?encodeURI(a).replace(b,goog.Uri.encodeChar_):null};goog.Uri.encodeChar_=function(a){a=a.charCodeAt(0);return"%"+(a>>4&15).toString(16)+(a&15).toString(16)};goog.Uri.reDisallowedInSchemeOrUserInfo_=/[#\/\?@]/g;goog.Uri.reDisallowedInRelativePath_=/[\#\?:]/g;goog.Uri.reDisallowedInAbsolutePath_=/[\#\?]/g;goog.Uri.reDisallowedInQuery_=/[\#\?@]/g;goog.Uri.reDisallowedInFragment_=/#/g;
goog.Uri.haveSameDomain=function(a,b){var c=goog.uri.utils.split(a),d=goog.uri.utils.split(b);return c[goog.uri.utils.ComponentIndex.DOMAIN]==d[goog.uri.utils.ComponentIndex.DOMAIN]&&c[goog.uri.utils.ComponentIndex.PORT]==d[goog.uri.utils.ComponentIndex.PORT]};goog.Uri.QueryData=function(a,b,c){this.encodedQuery_=a||null;this.ignoreCase_=!!c};
goog.Uri.QueryData.prototype.ensureKeyMapInitialized_=function(){if(!this.keyMap_&&(this.keyMap_=new goog.structs.Map,this.count_=0,this.encodedQuery_))for(var a=this.encodedQuery_.split("&"),b=0;b<a.length;b++){var c=a[b].indexOf("="),d=null,e=null;0<=c?(d=a[b].substring(0,c),e=a[b].substring(c+1)):d=a[b];d=goog.string.urlDecode(d);d=this.getKeyName_(d);this.add(d,e?goog.string.urlDecode(e):"")}};
goog.Uri.QueryData.createFromMap=function(a,b,c){b=goog.structs.getKeys(a);if("undefined"==typeof b)throw Error("Keys are undefined");c=new goog.Uri.QueryData(null,null,c);a=goog.structs.getValues(a);for(var d=0;d<b.length;d++){var e=b[d],f=a[d];goog.isArray(f)?c.setValues(e,f):c.add(e,f)}return c};
goog.Uri.QueryData.createFromKeysValues=function(a,b,c,d){if(a.length!=b.length)throw Error("Mismatched lengths for keys/values");c=new goog.Uri.QueryData(null,null,d);for(d=0;d<a.length;d++)c.add(a[d],b[d]);return c};goog.Uri.QueryData.prototype.keyMap_=null;goog.Uri.QueryData.prototype.count_=null;goog.Uri.QueryData.prototype.getCount=function(){this.ensureKeyMapInitialized_();return this.count_};
goog.Uri.QueryData.prototype.add=function(a,b){this.ensureKeyMapInitialized_();this.invalidateCache_();a=this.getKeyName_(a);var c=this.keyMap_.get(a);c||this.keyMap_.set(a,c=[]);c.push(b);this.count_++;return this};goog.Uri.QueryData.prototype.remove=function(a){this.ensureKeyMapInitialized_();a=this.getKeyName_(a);return this.keyMap_.containsKey(a)?(this.invalidateCache_(),this.count_-=this.keyMap_.get(a).length,this.keyMap_.remove(a)):!1};
goog.Uri.QueryData.prototype.clear=function(){this.invalidateCache_();this.keyMap_=null;this.count_=0};goog.Uri.QueryData.prototype.isEmpty=function(){this.ensureKeyMapInitialized_();return 0==this.count_};goog.Uri.QueryData.prototype.containsKey=function(a){this.ensureKeyMapInitialized_();a=this.getKeyName_(a);return this.keyMap_.containsKey(a)};goog.Uri.QueryData.prototype.containsValue=function(a){var b=this.getValues();return goog.array.contains(b,a)};
goog.Uri.QueryData.prototype.getKeys=function(){this.ensureKeyMapInitialized_();for(var a=this.keyMap_.getValues(),b=this.keyMap_.getKeys(),c=[],d=0;d<b.length;d++)for(var e=a[d],f=0;f<e.length;f++)c.push(b[d]);return c};goog.Uri.QueryData.prototype.getValues=function(a){this.ensureKeyMapInitialized_();var b=[];if(a)this.containsKey(a)&&(b=goog.array.concat(b,this.keyMap_.get(this.getKeyName_(a))));else{a=this.keyMap_.getValues();for(var c=0;c<a.length;c++)b=goog.array.concat(b,a[c])}return b};
goog.Uri.QueryData.prototype.set=function(a,b){this.ensureKeyMapInitialized_();this.invalidateCache_();a=this.getKeyName_(a);this.containsKey(a)&&(this.count_-=this.keyMap_.get(a).length);this.keyMap_.set(a,[b]);this.count_++;return this};goog.Uri.QueryData.prototype.get=function(a,b){var c=a?this.getValues(a):[];return goog.Uri.preserveParameterTypesCompatibilityFlag?0<c.length?c[0]:b:0<c.length?String(c[0]):b};
goog.Uri.QueryData.prototype.setValues=function(a,b){this.remove(a);0<b.length&&(this.invalidateCache_(),this.keyMap_.set(this.getKeyName_(a),goog.array.clone(b)),this.count_+=b.length)};
goog.Uri.QueryData.prototype.toString=function(){if(this.encodedQuery_)return this.encodedQuery_;if(!this.keyMap_)return"";for(var a=[],b=this.keyMap_.getKeys(),c=0;c<b.length;c++)for(var d=b[c],e=goog.string.urlEncode(d),d=this.getValues(d),f=0;f<d.length;f++){var g=e;""!==d[f]&&(g+="="+goog.string.urlEncode(d[f]));a.push(g)}return this.encodedQuery_=a.join("&")};goog.Uri.QueryData.prototype.toDecodedString=function(){return goog.Uri.decodeOrEmpty_(this.toString())};
goog.Uri.QueryData.prototype.invalidateCache_=function(){this.encodedQuery_=null};goog.Uri.QueryData.prototype.filterKeys=function(a){this.ensureKeyMapInitialized_();goog.structs.forEach(this.keyMap_,function(b,c,d){goog.array.contains(a,c)||this.remove(c)},this);return this};goog.Uri.QueryData.prototype.clone=function(){var a=new goog.Uri.QueryData;a.encodedQuery_=this.encodedQuery_;this.keyMap_&&(a.keyMap_=this.keyMap_.clone(),a.count_=this.count_);return a};
goog.Uri.QueryData.prototype.getKeyName_=function(a){a=String(a);this.ignoreCase_&&(a=a.toLowerCase());return a};goog.Uri.QueryData.prototype.setIgnoreCase=function(a){a&&!this.ignoreCase_&&(this.ensureKeyMapInitialized_(),this.invalidateCache_(),goog.structs.forEach(this.keyMap_,function(a,c){var d=c.toLowerCase();c!=d&&(this.remove(c),this.setValues(d,a))},this));this.ignoreCase_=a};
goog.Uri.QueryData.prototype.extend=function(a){for(var b=0;b<arguments.length;b++)goog.structs.forEach(arguments[b],function(a,b){this.add(b,a)},this)};goog.structs.Collection=function(){};goog.structs.Set=function(a){this.map_=new goog.structs.Map;a&&this.addAll(a)};goog.structs.Set.getKey_=function(a){var b=typeof a;return"object"==b&&a||"function"==b?"o"+goog.getUid(a):b.substr(0,1)+a};goog.structs.Set.prototype.getCount=function(){return this.map_.getCount()};goog.structs.Set.prototype.add=function(a){this.map_.set(goog.structs.Set.getKey_(a),a)};goog.structs.Set.prototype.addAll=function(a){a=goog.structs.getValues(a);for(var b=a.length,c=0;c<b;c++)this.add(a[c])};
goog.structs.Set.prototype.removeAll=function(a){a=goog.structs.getValues(a);for(var b=a.length,c=0;c<b;c++)this.remove(a[c])};goog.structs.Set.prototype.remove=function(a){return this.map_.remove(goog.structs.Set.getKey_(a))};goog.structs.Set.prototype.clear=function(){this.map_.clear()};goog.structs.Set.prototype.isEmpty=function(){return this.map_.isEmpty()};goog.structs.Set.prototype.contains=function(a){return this.map_.containsKey(goog.structs.Set.getKey_(a))};
goog.structs.Set.prototype.containsAll=function(a){return goog.structs.every(a,this.contains,this)};goog.structs.Set.prototype.intersection=function(a){var b=new goog.structs.Set;a=goog.structs.getValues(a);for(var c=0;c<a.length;c++){var d=a[c];this.contains(d)&&b.add(d)}return b};goog.structs.Set.prototype.difference=function(a){var b=this.clone();b.removeAll(a);return b};goog.structs.Set.prototype.getValues=function(){return this.map_.getValues()};goog.structs.Set.prototype.clone=function(){return new goog.structs.Set(this)};
goog.structs.Set.prototype.equals=function(a){return this.getCount()==goog.structs.getCount(a)&&this.isSubsetOf(a)};goog.structs.Set.prototype.isSubsetOf=function(a){var b=goog.structs.getCount(a);if(this.getCount()>b)return!1;!(a instanceof goog.structs.Set)&&5<b&&(a=new goog.structs.Set(a));return goog.structs.every(this,function(b){return goog.structs.contains(a,b)})};goog.structs.Set.prototype.__iterator__=function(a){return this.map_.__iterator__(!1)};goog.debug.catchErrors=function(a,b,c){c=c||goog.global;var d=c.onerror,e=!!b;goog.userAgent.WEBKIT&&!goog.userAgent.isVersion("535.3")&&(e=!e);c.onerror=function(b,c,h){d&&d(b,c,h);a({message:b,fileName:c,line:h});return e}};goog.debug.expose=function(a,b){if("undefined"==typeof a)return"undefined";if(null==a)return"NULL";var c=[],d;for(d in a)if(b||!goog.isFunction(a[d])){var e=d+" = ";try{e+=a[d]}catch(f){e+="*** "+f+" ***"}c.push(e)}return c.join("\n")};
goog.debug.deepExpose=function(a,b){var c=new goog.structs.Set,d=[],e=function(a,g){var h=g+"  ";try{if(goog.isDef(a))if(goog.isNull(a))d.push("NULL");else if(goog.isString(a))d.push('"'+a.replace(/\n/g,"\n"+g)+'"');else if(goog.isFunction(a))d.push(String(a).replace(/\n/g,"\n"+g));else if(goog.isObject(a))if(c.contains(a))d.push("*** reference loop detected ***");else{c.add(a);d.push("{");for(var k in a)if(b||!goog.isFunction(a[k]))d.push("\n"),d.push(h),d.push(k+" = "),e(a[k],h);d.push("\n"+g+"}")}else d.push(a);
else d.push("undefined")}catch(l){d.push("*** "+l+" ***")}};e(a,"");return d.join("")};goog.debug.exposeArray=function(a){for(var b=[],c=0;c<a.length;c++)goog.isArray(a[c])?b.push(goog.debug.exposeArray(a[c])):b.push(a[c]);return"[ "+b.join(", ")+" ]"};
goog.debug.exposeException=function(a,b){try{var c=goog.debug.normalizeErrorObject(a);return"Message: "+goog.string.htmlEscape(c.message)+'\nUrl: <a href="view-source:'+c.fileName+'" target="_new">'+c.fileName+"</a>\nLine: "+c.lineNumber+"\n\nBrowser stack:\n"+goog.string.htmlEscape(c.stack+"-> ")+"[end]\n\nJS stack traversal:\n"+goog.string.htmlEscape(goog.debug.getStacktrace(b)+"-> ")}catch(d){return"Exception trying to expose exception! You win, we lose. "+d}};
goog.debug.normalizeErrorObject=function(a){var b=goog.getObjectByName("window.location.href");if(goog.isString(a))return{message:a,name:"Unknown error",lineNumber:"Not available",fileName:b,stack:"Not available"};var c,d,e=!1;try{c=a.lineNumber||a.line||"Not available"}catch(f){c="Not available",e=!0}try{d=a.fileName||a.filename||a.sourceURL||goog.global.$googDebugFname||b}catch(g){d="Not available",e=!0}return!e&&a.lineNumber&&a.fileName&&a.stack?a:{message:a.message,name:a.name,lineNumber:c,fileName:d,
stack:a.stack||"Not available"}};goog.debug.enhanceError=function(a,b){var c="string"==typeof a?Error(a):a;c.stack||(c.stack=goog.debug.getStacktrace(arguments.callee.caller));if(b){for(var d=0;c["message"+d];)++d;c["message"+d]=String(b)}return c};
goog.debug.getStacktraceSimple=function(a){for(var b=[],c=arguments.callee.caller,d=0;c&&(!a||d<a);){b.push(goog.debug.getFunctionName(c));b.push("()\n");try{c=c.caller}catch(e){b.push("[exception trying to get caller]\n");break}d++;if(d>=goog.debug.MAX_STACK_DEPTH){b.push("[...long stack...]");break}}a&&d>=a?b.push("[...reached max depth limit...]"):b.push("[end]");return b.join("")};goog.debug.MAX_STACK_DEPTH=50;
goog.debug.getStacktrace=function(a){return goog.debug.getStacktraceHelper_(a||arguments.callee.caller,[])};
goog.debug.getStacktraceHelper_=function(a,b){var c=[];if(goog.array.contains(b,a))c.push("[...circular reference...]");else if(a&&b.length<goog.debug.MAX_STACK_DEPTH){c.push(goog.debug.getFunctionName(a)+"(");for(var d=a.arguments,e=0;e<d.length;e++){0<e&&c.push(", ");var f;f=d[e];switch(typeof f){case "object":f=f?"object":"null";break;case "string":break;case "number":f=String(f);break;case "boolean":f=f?"true":"false";break;case "function":f=(f=goog.debug.getFunctionName(f))?f:"[fn]";break;default:f=
typeof f}40<f.length&&(f=f.substr(0,40)+"...");c.push(f)}b.push(a);c.push(")\n");try{c.push(goog.debug.getStacktraceHelper_(a.caller,b))}catch(g){c.push("[exception trying to get caller]\n")}}else a?c.push("[...long stack...]"):c.push("[end]");return c.join("")};goog.debug.setFunctionResolver=function(a){goog.debug.fnNameResolver_=a};
goog.debug.getFunctionName=function(a){if(goog.debug.fnNameCache_[a])return goog.debug.fnNameCache_[a];if(goog.debug.fnNameResolver_){var b=goog.debug.fnNameResolver_(a);if(b)return goog.debug.fnNameCache_[a]=b}a=String(a);goog.debug.fnNameCache_[a]||(b=/function ([^\(]+)/.exec(a),goog.debug.fnNameCache_[a]=b?b[1]:"[Anonymous]");return goog.debug.fnNameCache_[a]};
goog.debug.makeWhitespaceVisible=function(a){return a.replace(/ /g,"[_]").replace(/\f/g,"[f]").replace(/\n/g,"[n]\n").replace(/\r/g,"[r]").replace(/\t/g,"[t]")};goog.debug.fnNameCache_={};goog.debug.LogRecord=function(a,b,c,d,e){this.reset(a,b,c,d,e)};goog.debug.LogRecord.prototype.sequenceNumber_=0;goog.debug.LogRecord.prototype.exception_=null;goog.debug.LogRecord.prototype.exceptionText_=null;goog.debug.LogRecord.ENABLE_SEQUENCE_NUMBERS=!0;goog.debug.LogRecord.nextSequenceNumber_=0;
goog.debug.LogRecord.prototype.reset=function(a,b,c,d,e){goog.debug.LogRecord.ENABLE_SEQUENCE_NUMBERS&&(this.sequenceNumber_="number"==typeof e?e:goog.debug.LogRecord.nextSequenceNumber_++);this.time_=d||goog.now();this.level_=a;this.msg_=b;this.loggerName_=c;delete this.exception_;delete this.exceptionText_};goog.debug.LogRecord.prototype.getLoggerName=function(){return this.loggerName_};goog.debug.LogRecord.prototype.getException=function(){return this.exception_};
goog.debug.LogRecord.prototype.setException=function(a){this.exception_=a};goog.debug.LogRecord.prototype.getExceptionText=function(){return this.exceptionText_};goog.debug.LogRecord.prototype.setExceptionText=function(a){this.exceptionText_=a};goog.debug.LogRecord.prototype.setLoggerName=function(a){this.loggerName_=a};goog.debug.LogRecord.prototype.getLevel=function(){return this.level_};goog.debug.LogRecord.prototype.setLevel=function(a){this.level_=a};
goog.debug.LogRecord.prototype.getMessage=function(){return this.msg_};goog.debug.LogRecord.prototype.setMessage=function(a){this.msg_=a};goog.debug.LogRecord.prototype.getMillis=function(){return this.time_};goog.debug.LogRecord.prototype.setMillis=function(a){this.time_=a};goog.debug.LogRecord.prototype.getSequenceNumber=function(){return this.sequenceNumber_};goog.debug.LogBuffer=function(){goog.asserts.assert(goog.debug.LogBuffer.isBufferingEnabled(),"Cannot use goog.debug.LogBuffer without defining goog.debug.LogBuffer.CAPACITY.");this.clear()};goog.debug.LogBuffer.getInstance=function(){goog.debug.LogBuffer.instance_||(goog.debug.LogBuffer.instance_=new goog.debug.LogBuffer);return goog.debug.LogBuffer.instance_};goog.debug.LogBuffer.CAPACITY=0;
goog.debug.LogBuffer.prototype.addRecord=function(a,b,c){var d=(this.curIndex_+1)%goog.debug.LogBuffer.CAPACITY;this.curIndex_=d;if(this.isFull_)return d=this.buffer_[d],d.reset(a,b,c),d;this.isFull_=d==goog.debug.LogBuffer.CAPACITY-1;return this.buffer_[d]=new goog.debug.LogRecord(a,b,c)};goog.debug.LogBuffer.isBufferingEnabled=function(){return 0<goog.debug.LogBuffer.CAPACITY};
goog.debug.LogBuffer.prototype.clear=function(){this.buffer_=Array(goog.debug.LogBuffer.CAPACITY);this.curIndex_=-1;this.isFull_=!1};goog.debug.LogBuffer.prototype.forEachRecord=function(a){var b=this.buffer_;if(b[0]){var c=this.curIndex_,d=this.isFull_?c:-1;do d=(d+1)%goog.debug.LogBuffer.CAPACITY,a(b[d]);while(d!=c)}};goog.debug.Logger=function(a){this.name_=a};goog.debug.Logger.prototype.parent_=null;goog.debug.Logger.prototype.level_=null;goog.debug.Logger.prototype.children_=null;goog.debug.Logger.prototype.handlers_=null;goog.debug.Logger.ENABLE_HIERARCHY=!0;goog.debug.Logger.ENABLE_HIERARCHY||(goog.debug.Logger.rootHandlers_=[]);goog.debug.Logger.Level=function(a,b){this.name=a;this.value=b};goog.debug.Logger.Level.prototype.toString=function(){return this.name};
goog.debug.Logger.Level.OFF=new goog.debug.Logger.Level("OFF",Infinity);goog.debug.Logger.Level.SHOUT=new goog.debug.Logger.Level("SHOUT",1200);goog.debug.Logger.Level.SEVERE=new goog.debug.Logger.Level("SEVERE",1E3);goog.debug.Logger.Level.WARNING=new goog.debug.Logger.Level("WARNING",900);goog.debug.Logger.Level.INFO=new goog.debug.Logger.Level("INFO",800);goog.debug.Logger.Level.CONFIG=new goog.debug.Logger.Level("CONFIG",700);goog.debug.Logger.Level.FINE=new goog.debug.Logger.Level("FINE",500);
goog.debug.Logger.Level.FINER=new goog.debug.Logger.Level("FINER",400);goog.debug.Logger.Level.FINEST=new goog.debug.Logger.Level("FINEST",300);goog.debug.Logger.Level.ALL=new goog.debug.Logger.Level("ALL",0);
goog.debug.Logger.Level.PREDEFINED_LEVELS=[goog.debug.Logger.Level.OFF,goog.debug.Logger.Level.SHOUT,goog.debug.Logger.Level.SEVERE,goog.debug.Logger.Level.WARNING,goog.debug.Logger.Level.INFO,goog.debug.Logger.Level.CONFIG,goog.debug.Logger.Level.FINE,goog.debug.Logger.Level.FINER,goog.debug.Logger.Level.FINEST,goog.debug.Logger.Level.ALL];goog.debug.Logger.Level.predefinedLevelsCache_=null;
goog.debug.Logger.Level.createPredefinedLevelsCache_=function(){goog.debug.Logger.Level.predefinedLevelsCache_={};for(var a=0,b;b=goog.debug.Logger.Level.PREDEFINED_LEVELS[a];a++)goog.debug.Logger.Level.predefinedLevelsCache_[b.value]=b,goog.debug.Logger.Level.predefinedLevelsCache_[b.name]=b};
goog.debug.Logger.Level.getPredefinedLevel=function(a){goog.debug.Logger.Level.predefinedLevelsCache_||goog.debug.Logger.Level.createPredefinedLevelsCache_();return goog.debug.Logger.Level.predefinedLevelsCache_[a]||null};
goog.debug.Logger.Level.getPredefinedLevelByValue=function(a){goog.debug.Logger.Level.predefinedLevelsCache_||goog.debug.Logger.Level.createPredefinedLevelsCache_();if(a in goog.debug.Logger.Level.predefinedLevelsCache_)return goog.debug.Logger.Level.predefinedLevelsCache_[a];for(var b=0;b<goog.debug.Logger.Level.PREDEFINED_LEVELS.length;++b){var c=goog.debug.Logger.Level.PREDEFINED_LEVELS[b];if(c.value<=a)return c}return null};goog.debug.Logger.getLogger=function(a){return goog.debug.LogManager.getLogger(a)};
goog.debug.Logger.logToProfilers=function(a){goog.global.console&&(goog.global.console.timeStamp?goog.global.console.timeStamp(a):goog.global.console.markTimeline&&goog.global.console.markTimeline(a));goog.global.msWriteProfilerMark&&goog.global.msWriteProfilerMark(a)};goog.debug.Logger.prototype.getName=function(){return this.name_};
goog.debug.Logger.prototype.addHandler=function(a){goog.debug.Logger.ENABLE_HIERARCHY?(this.handlers_||(this.handlers_=[]),this.handlers_.push(a)):(goog.asserts.assert(!this.name_,"Cannot call addHandler on a non-root logger when goog.debug.Logger.ENABLE_HIERARCHY is false."),goog.debug.Logger.rootHandlers_.push(a))};goog.debug.Logger.prototype.removeHandler=function(a){var b=goog.debug.Logger.ENABLE_HIERARCHY?this.handlers_:goog.debug.Logger.rootHandlers_;return!!b&&goog.array.remove(b,a)};
goog.debug.Logger.prototype.getParent=function(){return this.parent_};goog.debug.Logger.prototype.getChildren=function(){this.children_||(this.children_={});return this.children_};goog.debug.Logger.prototype.setLevel=function(a){goog.debug.Logger.ENABLE_HIERARCHY?this.level_=a:(goog.asserts.assert(!this.name_,"Cannot call setLevel() on a non-root logger when goog.debug.Logger.ENABLE_HIERARCHY is false."),goog.debug.Logger.rootLevel_=a)};goog.debug.Logger.prototype.getLevel=function(){return this.level_};
goog.debug.Logger.prototype.getEffectiveLevel=function(){if(!goog.debug.Logger.ENABLE_HIERARCHY)return goog.debug.Logger.rootLevel_;if(this.level_)return this.level_;if(this.parent_)return this.parent_.getEffectiveLevel();goog.asserts.fail("Root logger has no level set.");return null};goog.debug.Logger.prototype.isLoggable=function(a){return a.value>=this.getEffectiveLevel().value};goog.debug.Logger.prototype.log=function(a,b,c){this.isLoggable(a)&&this.doLogRecord_(this.getLogRecord(a,b,c))};
goog.debug.Logger.prototype.getLogRecord=function(a,b,c){var d=goog.debug.LogBuffer.isBufferingEnabled()?goog.debug.LogBuffer.getInstance().addRecord(a,b,this.name_):new goog.debug.LogRecord(a,String(b),this.name_);c&&(d.setException(c),d.setExceptionText(goog.debug.exposeException(c,arguments.callee.caller)));return d};goog.debug.Logger.prototype.shout=function(a,b){this.log(goog.debug.Logger.Level.SHOUT,a,b)};
goog.debug.Logger.prototype.severe=function(a,b){this.log(goog.debug.Logger.Level.SEVERE,a,b)};goog.debug.Logger.prototype.warning=function(a,b){this.log(goog.debug.Logger.Level.WARNING,a,b)};goog.debug.Logger.prototype.info=function(a,b){this.log(goog.debug.Logger.Level.INFO,a,b)};goog.debug.Logger.prototype.config=function(a,b){this.log(goog.debug.Logger.Level.CONFIG,a,b)};goog.debug.Logger.prototype.fine=function(a,b){this.log(goog.debug.Logger.Level.FINE,a,b)};
goog.debug.Logger.prototype.finer=function(a,b){this.log(goog.debug.Logger.Level.FINER,a,b)};goog.debug.Logger.prototype.finest=function(a,b){this.log(goog.debug.Logger.Level.FINEST,a,b)};goog.debug.Logger.prototype.logRecord=function(a){this.isLoggable(a.getLevel())&&this.doLogRecord_(a)};
goog.debug.Logger.prototype.doLogRecord_=function(a){goog.debug.Logger.logToProfilers("log:"+a.getMessage());if(goog.debug.Logger.ENABLE_HIERARCHY)for(var b=this;b;)b.callPublish_(a),b=b.getParent();else for(var b=0,c;c=goog.debug.Logger.rootHandlers_[b++];)c(a)};goog.debug.Logger.prototype.callPublish_=function(a){if(this.handlers_)for(var b=0,c;c=this.handlers_[b];b++)c(a)};goog.debug.Logger.prototype.setParent_=function(a){this.parent_=a};
goog.debug.Logger.prototype.addChild_=function(a,b){this.getChildren()[a]=b};goog.debug.LogManager={};goog.debug.LogManager.loggers_={};goog.debug.LogManager.rootLogger_=null;goog.debug.LogManager.initialize=function(){goog.debug.LogManager.rootLogger_||(goog.debug.LogManager.rootLogger_=new goog.debug.Logger(""),goog.debug.LogManager.loggers_[""]=goog.debug.LogManager.rootLogger_,goog.debug.LogManager.rootLogger_.setLevel(goog.debug.Logger.Level.CONFIG))};goog.debug.LogManager.getLoggers=function(){return goog.debug.LogManager.loggers_};
goog.debug.LogManager.getRoot=function(){goog.debug.LogManager.initialize();return goog.debug.LogManager.rootLogger_};goog.debug.LogManager.getLogger=function(a){goog.debug.LogManager.initialize();return goog.debug.LogManager.loggers_[a]||goog.debug.LogManager.createLogger_(a)};goog.debug.LogManager.createFunctionForCatchErrors=function(a){return function(b){(a||goog.debug.LogManager.getRoot()).severe("Error: "+b.message+" ("+b.fileName+" @ Line: "+b.line+")")}};
goog.debug.LogManager.createLogger_=function(a){var b=new goog.debug.Logger(a);if(goog.debug.Logger.ENABLE_HIERARCHY){var c=a.lastIndexOf("."),d=a.substr(0,c),c=a.substr(c+1),d=goog.debug.LogManager.getLogger(d);d.addChild_(c,b);b.setParent_(d)}return goog.debug.LogManager.loggers_[a]=b};goog.debug.RelativeTimeProvider=function(){this.relativeTimeStart_=goog.now()};goog.debug.RelativeTimeProvider.defaultInstance_=new goog.debug.RelativeTimeProvider;goog.debug.RelativeTimeProvider.prototype.set=function(a){this.relativeTimeStart_=a};goog.debug.RelativeTimeProvider.prototype.reset=function(){this.set(goog.now())};goog.debug.RelativeTimeProvider.prototype.get=function(){return this.relativeTimeStart_};goog.debug.RelativeTimeProvider.getDefaultInstance=function(){return goog.debug.RelativeTimeProvider.defaultInstance_};goog.debug.Formatter=function(a){this.prefix_=a||"";this.startTimeProvider_=goog.debug.RelativeTimeProvider.getDefaultInstance()};goog.debug.Formatter.prototype.showAbsoluteTime=!0;goog.debug.Formatter.prototype.showRelativeTime=!0;goog.debug.Formatter.prototype.showLoggerName=!0;goog.debug.Formatter.prototype.showExceptionText=!1;goog.debug.Formatter.prototype.showSeverityLevel=!1;goog.debug.Formatter.prototype.setStartTimeProvider=function(a){this.startTimeProvider_=a};
goog.debug.Formatter.prototype.getStartTimeProvider=function(){return this.startTimeProvider_};goog.debug.Formatter.prototype.resetRelativeTimeStart=function(){this.startTimeProvider_.reset()};
goog.debug.Formatter.getDateTimeStamp_=function(a){a=new Date(a.getMillis());return goog.debug.Formatter.getTwoDigitString_(a.getFullYear()-2E3)+goog.debug.Formatter.getTwoDigitString_(a.getMonth()+1)+goog.debug.Formatter.getTwoDigitString_(a.getDate())+" "+goog.debug.Formatter.getTwoDigitString_(a.getHours())+":"+goog.debug.Formatter.getTwoDigitString_(a.getMinutes())+":"+goog.debug.Formatter.getTwoDigitString_(a.getSeconds())+"."+goog.debug.Formatter.getTwoDigitString_(Math.floor(a.getMilliseconds()/
10))};goog.debug.Formatter.getTwoDigitString_=function(a){return 10>a?"0"+a:String(a)};goog.debug.Formatter.getRelativeTime_=function(a,b){var c=(a.getMillis()-b)/1E3,d=c.toFixed(3),e=0;if(1>c)e=2;else for(;100>c;)e++,c*=10;for(;0<e--;)d=" "+d;return d};goog.debug.HtmlFormatter=function(a){goog.debug.Formatter.call(this,a)};goog.inherits(goog.debug.HtmlFormatter,goog.debug.Formatter);goog.debug.HtmlFormatter.prototype.showExceptionText=!0;
goog.debug.HtmlFormatter.prototype.formatRecord=function(a){var b;switch(a.getLevel().value){case goog.debug.Logger.Level.SHOUT.value:b="dbg-sh";break;case goog.debug.Logger.Level.SEVERE.value:b="dbg-sev";break;case goog.debug.Logger.Level.WARNING.value:b="dbg-w";break;case goog.debug.Logger.Level.INFO.value:b="dbg-i";break;default:b="dbg-f"}var c=[];c.push(this.prefix_," ");this.showAbsoluteTime&&c.push("[",goog.debug.Formatter.getDateTimeStamp_(a),"] ");this.showRelativeTime&&c.push("[",goog.string.whitespaceEscape(goog.debug.Formatter.getRelativeTime_(a,
this.startTimeProvider_.get())),"s] ");this.showLoggerName&&c.push("[",goog.string.htmlEscape(a.getLoggerName()),"] ");this.showSeverityLevel&&c.push("[",goog.string.htmlEscape(a.getLevel().name),"] ");c.push('<span class="',b,'">',goog.string.newLineToBr(goog.string.whitespaceEscape(goog.string.htmlEscape(a.getMessage()))));this.showExceptionText&&a.getException()&&c.push("<br>",goog.string.newLineToBr(goog.string.whitespaceEscape(a.getExceptionText()||"")));c.push("</span><br>");return c.join("")};
goog.debug.TextFormatter=function(a){goog.debug.Formatter.call(this,a)};goog.inherits(goog.debug.TextFormatter,goog.debug.Formatter);
goog.debug.TextFormatter.prototype.formatRecord=function(a){var b=[];b.push(this.prefix_," ");this.showAbsoluteTime&&b.push("[",goog.debug.Formatter.getDateTimeStamp_(a),"] ");this.showRelativeTime&&b.push("[",goog.debug.Formatter.getRelativeTime_(a,this.startTimeProvider_.get()),"s] ");this.showLoggerName&&b.push("[",a.getLoggerName(),"] ");this.showSeverityLevel&&b.push("[",a.getLevel().name,"] ");b.push(a.getMessage(),"\n");this.showExceptionText&&a.getException()&&b.push(a.getExceptionText(),
"\n");return b.join("")};goog.debug.Console=function(){this.publishHandler_=goog.bind(this.addLogRecord,this);this.formatter_=new goog.debug.TextFormatter;this.formatter_.showAbsoluteTime=!1;this.isCapturing_=this.formatter_.showExceptionText=!1;this.logBuffer_="";this.filteredLoggers_={}};goog.debug.Console.prototype.getFormatter=function(){return this.formatter_};
goog.debug.Console.prototype.setCapturing=function(a){if(a!=this.isCapturing_){var b=goog.debug.LogManager.getRoot();a?b.addHandler(this.publishHandler_):(b.removeHandler(this.publishHandler_),this.logBuffer="");this.isCapturing_=a}};
goog.debug.Console.prototype.addLogRecord=function(a){if(!this.filteredLoggers_[a.getLoggerName()]){var b=this.formatter_.formatRecord(a),c=goog.debug.Console.console_;if(c)switch(a.getLevel()){case goog.debug.Logger.Level.SHOUT:goog.debug.Console.logToConsole_(c,"info",b);break;case goog.debug.Logger.Level.SEVERE:goog.debug.Console.logToConsole_(c,"error",b);break;case goog.debug.Logger.Level.WARNING:goog.debug.Console.logToConsole_(c,"warn",b);break;default:goog.debug.Console.logToConsole_(c,"debug",
b)}else window.opera?window.opera.postError(b):this.logBuffer_+=b}};goog.debug.Console.prototype.addFilter=function(a){this.filteredLoggers_[a]=!0};goog.debug.Console.prototype.removeFilter=function(a){delete this.filteredLoggers_[a]};goog.debug.Console.instance=null;goog.debug.Console.console_=window.console;goog.debug.Console.setConsole=function(a){goog.debug.Console.console_=a};
goog.debug.Console.autoInstall=function(){goog.debug.Console.instance||(goog.debug.Console.instance=new goog.debug.Console);-1!=window.location.href.indexOf("Debug=true")&&goog.debug.Console.instance.setCapturing(!0)};goog.debug.Console.show=function(){alert(goog.debug.Console.instance.logBuffer_)};goog.debug.Console.logToConsole_=function(a,b,c){if(a[b])a[b](c);else a.log(c)};goog.object.extend(fyre,{config:{},sp:{}});fyre.sp.config={};goog.exportSymbol("fyre.sp.config",fyre.sp.config);goog.exportSymbol("fyre.config",fyre.config);window.fyre_sp_config=window.fyre_sp_config||{};fyre.sp.config.servers=window.fyre_sp_config.servers||{assets:"http://profiles.lfcp-dev.livefyre.com",profile:"http://livefyre.com",sentry_dsn:""};fyre.sp.config.MEDIA_PATH=window.fyre_sp_config.MEDIA_PATH||"media";fyre.sp.config.SENTRY_DSN="http://506e4b6b5a0a41a6bcaf3f0b85fa6d80@sentry.livefyre.com:9000/4";
goog.object.isEmpty(window.fyre_sp_config)||(fyre.sp.config.servers.sentry_dsn="");fyre.sp.config.authCookie="lfsp-profile";fyre.sp.config.iframeCookie="lfcp-iframe";fyre.sp.config.mobileAuthTriggerCookie="lfcp-mobile-auth-trigger";fyre.sp.config.authCookieMaxAge=2592E3;fyre.sp.config.iframeCookieMaxAge=1;fyre.sp.config.cookie_domain=window.fyre_sp_config.cookie_domain||".lfcp-dev.livefyre.com";
fyre.sp.config.auth=function(a){a=a||"social";return{SCHEMA:a,SOCIAL:goog.array.contains(["all","social"],a),LOCAL:goog.array.contains(["all","local"],a)}}(window.fyre_sp_config.AUTH_SCHEMA);fyre.sp.config.localization=window.fyre_sp_config.localization||"en";goog.exportSymbol("fyre.sp.config.servers.assets",fyre.sp.config.servers.assets);goog.exportSymbol("fyre.sp.config.servers.profile",fyre.sp.config.servers.profile);fyre.sp.config.logging={level:"WARNING"};fyre.sp.config.versions={};
fyre.sp.config.DEFAULT_AVATAR="https://livefyre-avatar.s3.amazonaws.com/a/anon/75.jpg";fyre.sp.config.FORCE_SEND_EXCEPTIONS=!1;fyre.sp.config.assetUrl=function(a){var b=[fyre.sp.config.servers.assets,fyre.sp.config.MEDIA_PATH];b.push(a);return b.join("/")};fyre.sp.config.PUBLIC_API_URL=fyre.sp.config.servers.profile+"/api/v1.0/public";fyre.sp.config.JANRAIN_ENGAGE_EMBED_ID="janrainEngageEmbed";fyre.sp.config.JANRAIN_ENGAGE_ID="janrainAuthWidget";fyre.logging={};fyre.logging.CustomLogger=function(){goog.debug.Console.call(this);this.formatter_.showRelativeTime=!1};goog.inherits(fyre.logging.CustomLogger,goog.debug.Console);fyre.logging.CustomLogger.prototype.addLogRecord=function(a){fyre.logging.CustomLogger.superClass_.addLogRecord.call(this,a);-1===fyre.sp.config.servers.sentry_dsn.indexOf(".livefyre.com")||a.getLevel()};
fyre.logging.CustomLogger.autoInstall=function(){fyre.logging.CustomLogger.instance||(fyre.logging.CustomLogger.instance=new fyre.logging.CustomLogger)};fyre.logging.CustomLogger.show=function(){alert(fyre.logging.CustomLogger.instance.logBuffer_)};window.console=window.console||{log:function(){}};fyre.logging.OFF=goog.debug.Logger.Level.OFF;fyre.logging.SHOUT=goog.debug.Logger.Level.SHOUT;fyre.logging.SEVERE=goog.debug.Logger.Level.SEVERE;fyre.logging.WARNING=goog.debug.Logger.Level.WARNING;fyre.logging.INFO=goog.debug.Logger.Level.INFO;fyre.logging.CONFIG=goog.debug.Logger.Level.CONFIG;fyre.logging.FINE=goog.debug.Logger.Level.FINE;fyre.logging.FINER=goog.debug.Logger.Level.FINER;fyre.logging.FINEST=goog.debug.Logger.Level.FINEST;
fyre.logging.ALL=goog.debug.Logger.Level.ALL;fyre.logging.setLevel=function(a){goog.debug.LogManager.getRoot().setLevel(a)};fyre.logging.getLevel=function(){return goog.debug.LogManager.getRoot().getLevel()};fyre.logging.getLogger=goog.debug.Logger.getLogger;fyre.logging.setLevel(goog.debug.Logger.Level.getPredefinedLevel(fyre.sp.config.logging.level));fyre.sp.config.servers.sentry_dsn&&(fyre.logging.CustomLogger.autoInstall(),fyre.logging.CustomLogger.instance.setCapturing(!0));fyre.object={};fyre.object.Base=function(){};fyre.object.Base.prototype.configureLogging=function(a){this.logger=fyre.logging.getLogger(a)};fyre.object.Base.prototype.bind=function(a,b){goog.array.splice(arguments,1,0,this);return goog.bind.apply(null,arguments)};fyre.object.Communicator=function(a,b){goog.asserts.assert(arguments.length);this.messenger=a;this.initialize.call(this,b?b:{})};goog.inherits(fyre.object.Communicator,fyre.object.Base);fyre.object.Communicator.prototype.initialize=function(){};
fyre.object.Communicator.prototype.subscribe=function(a,b){a=goog.isArray(a)?a:[a];goog.array.forEach(a,function(a){this.messenger.subscribe(a,b,this)},this)};fyre.object.Communicator.prototype.trigger=function(a,b){this.messenger.trigger(a,b)};fyre.controller={};fyre.controller.Controller=function(a,b){fyre.object.Communicator.call(this,a,b)};goog.inherits(fyre.controller.Controller,fyre.object.Communicator);fyre.controller.Controller.prototype.isSuccess=function(a){return"code"in a&&(2==(a.code+"").substring(0,1)||304===a.code)?!0:!1};goog.disposable={};goog.disposable.IDisposable=function(){};goog.Disposable=function(){goog.Disposable.MONITORING_MODE!=goog.Disposable.MonitoringMode.OFF&&(this.creationStack=Error().stack,goog.Disposable.instances_[goog.getUid(this)]=this)};goog.Disposable.MonitoringMode={OFF:0,PERMANENT:1,INTERACTIVE:2};goog.Disposable.MONITORING_MODE=0;goog.Disposable.instances_={};goog.Disposable.getUndisposedObjects=function(){var a=[],b;for(b in goog.Disposable.instances_)goog.Disposable.instances_.hasOwnProperty(b)&&a.push(goog.Disposable.instances_[Number(b)]);return a};
goog.Disposable.clearUndisposedObjects=function(){goog.Disposable.instances_={}};goog.Disposable.prototype.disposed_=!1;goog.Disposable.prototype.isDisposed=function(){return this.disposed_};goog.Disposable.prototype.getDisposed=goog.Disposable.prototype.isDisposed;
goog.Disposable.prototype.dispose=function(){if(!this.disposed_&&(this.disposed_=!0,this.disposeInternal(),goog.Disposable.MONITORING_MODE!=goog.Disposable.MonitoringMode.OFF)){var a=goog.getUid(this);if(goog.Disposable.MONITORING_MODE==goog.Disposable.MonitoringMode.PERMANENT&&!goog.Disposable.instances_.hasOwnProperty(a))throw Error(this+" did not call the goog.Disposable base constructor or was disposed of after a clearUndisposedObjects call");delete goog.Disposable.instances_[a]}};
goog.Disposable.prototype.registerDisposable=function(a){this.addOnDisposeCallback(goog.partial(goog.dispose,a))};goog.Disposable.prototype.addOnDisposeCallback=function(a,b){this.onDisposeCallbacks_||(this.onDisposeCallbacks_=[]);this.onDisposeCallbacks_.push(goog.bind(a,b))};goog.Disposable.prototype.disposeInternal=function(){if(this.onDisposeCallbacks_)for(;this.onDisposeCallbacks_.length;)this.onDisposeCallbacks_.shift()()};
goog.Disposable.isDisposed=function(a){return a&&"function"==typeof a.isDisposed?a.isDisposed():!1};goog.dispose=function(a){a&&"function"==typeof a.dispose&&a.dispose()};goog.disposeAll=function(a){for(var b=0,c=arguments.length;b<c;++b){var d=arguments[b];goog.isArrayLike(d)?goog.disposeAll.apply(null,d):goog.dispose(d)}};goog.events={};goog.events.Listenable=function(){};goog.events.Listenable.USE_LISTENABLE_INTERFACE=!1;goog.events.Listenable.IMPLEMENTED_BY_PROP_="__closure_listenable";goog.events.Listenable.addImplementation=function(a){a.prototype[goog.events.Listenable.IMPLEMENTED_BY_PROP_]=!0};goog.events.Listenable.isImplementedBy=function(a){return!(!a||!a[goog.events.Listenable.IMPLEMENTED_BY_PROP_])};goog.events.ListenableKey=function(){};goog.events.ListenableKey.counter_=0;
goog.events.ListenableKey.reserveKey=function(){return++goog.events.ListenableKey.counter_};goog.events.Listener=function(){goog.events.Listener.ENABLE_MONITORING&&(this.creationStack=Error().stack)};goog.events.Listener.ENABLE_MONITORING=!1;goog.events.Listener.prototype.key=0;goog.events.Listener.prototype.removed=!1;goog.events.Listener.prototype.callOnce=!1;
goog.events.Listener.prototype.init=function(a,b,c,d,e,f){if(goog.isFunction(a))this.isFunctionListener_=!0;else if(a&&a.handleEvent&&goog.isFunction(a.handleEvent))this.isFunctionListener_=!1;else throw Error("Invalid listener argument");this.listener=a;this.proxy=b;this.src=c;this.type=d;this.capture=!!e;this.handler=f;this.callOnce=!1;this.key=goog.events.ListenableKey.reserveKey();this.removed=!1};
goog.events.Listener.prototype.handleEvent=function(a){return this.isFunctionListener_?this.listener.call(this.handler||this.src,a):this.listener.handleEvent.call(this.listener,a)};goog.events.BrowserFeature={HAS_W3C_BUTTON:!goog.userAgent.IE||goog.userAgent.isDocumentMode(9),HAS_W3C_EVENT_SUPPORT:!goog.userAgent.IE||goog.userAgent.isDocumentMode(9),SET_KEY_CODE_TO_PREVENT_DEFAULT:goog.userAgent.IE&&!goog.userAgent.isVersion("9"),HAS_NAVIGATOR_ONLINE_PROPERTY:!goog.userAgent.WEBKIT||goog.userAgent.isVersion("528"),HAS_HTML5_NETWORK_EVENT_SUPPORT:goog.userAgent.GECKO&&goog.userAgent.isVersion("1.9b")||goog.userAgent.IE&&goog.userAgent.isVersion("8")||goog.userAgent.OPERA&&goog.userAgent.isVersion("9.5")||
goog.userAgent.WEBKIT&&goog.userAgent.isVersion("528"),HTML5_NETWORK_EVENTS_FIRE_ON_BODY:goog.userAgent.GECKO&&!goog.userAgent.isVersion("8")||goog.userAgent.IE&&!goog.userAgent.isVersion("9"),TOUCH_ENABLED:"ontouchstart"in goog.global||!!(goog.global.document&&document.documentElement&&"ontouchstart"in document.documentElement)||!(!goog.global.navigator||!goog.global.navigator.msMaxTouchPoints)};goog.debug.entryPointRegistry={};goog.debug.EntryPointMonitor=function(){};goog.debug.entryPointRegistry.refList_=[];goog.debug.entryPointRegistry.monitors_=[];goog.debug.entryPointRegistry.monitorsMayExist_=!1;goog.debug.entryPointRegistry.register=function(a){goog.debug.entryPointRegistry.refList_[goog.debug.entryPointRegistry.refList_.length]=a;if(goog.debug.entryPointRegistry.monitorsMayExist_)for(var b=goog.debug.entryPointRegistry.monitors_,c=0;c<b.length;c++)a(goog.bind(b[c].wrap,b[c]))};
goog.debug.entryPointRegistry.monitorAll=function(a){goog.debug.entryPointRegistry.monitorsMayExist_=!0;for(var b=goog.bind(a.wrap,a),c=0;c<goog.debug.entryPointRegistry.refList_.length;c++)goog.debug.entryPointRegistry.refList_[c](b);goog.debug.entryPointRegistry.monitors_.push(a)};
goog.debug.entryPointRegistry.unmonitorAllIfPossible=function(a){var b=goog.debug.entryPointRegistry.monitors_;goog.asserts.assert(a==b[b.length-1],"Only the most recent monitor can be unwrapped.");a=goog.bind(a.unwrap,a);for(var c=0;c<goog.debug.entryPointRegistry.refList_.length;c++)goog.debug.entryPointRegistry.refList_[c](a);b.length--};goog.events.EventType={CLICK:"click",DBLCLICK:"dblclick",MOUSEDOWN:"mousedown",MOUSEUP:"mouseup",MOUSEOVER:"mouseover",MOUSEOUT:"mouseout",MOUSEMOVE:"mousemove",SELECTSTART:"selectstart",KEYPRESS:"keypress",KEYDOWN:"keydown",KEYUP:"keyup",BLUR:"blur",FOCUS:"focus",DEACTIVATE:"deactivate",FOCUSIN:goog.userAgent.IE?"focusin":"DOMFocusIn",FOCUSOUT:goog.userAgent.IE?"focusout":"DOMFocusOut",CHANGE:"change",SELECT:"select",SUBMIT:"submit",INPUT:"input",PROPERTYCHANGE:"propertychange",DRAGSTART:"dragstart",
DRAG:"drag",DRAGENTER:"dragenter",DRAGOVER:"dragover",DRAGLEAVE:"dragleave",DROP:"drop",DRAGEND:"dragend",TOUCHSTART:"touchstart",TOUCHMOVE:"touchmove",TOUCHEND:"touchend",TOUCHCANCEL:"touchcancel",BEFOREUNLOAD:"beforeunload",CONTEXTMENU:"contextmenu",ERROR:"error",HELP:"help",LOAD:"load",LOSECAPTURE:"losecapture",READYSTATECHANGE:"readystatechange",RESIZE:"resize",SCROLL:"scroll",UNLOAD:"unload",HASHCHANGE:"hashchange",PAGEHIDE:"pagehide",PAGESHOW:"pageshow",POPSTATE:"popstate",COPY:"copy",PASTE:"paste",
CUT:"cut",BEFORECOPY:"beforecopy",BEFORECUT:"beforecut",BEFOREPASTE:"beforepaste",ONLINE:"online",OFFLINE:"offline",MESSAGE:"message",CONNECT:"connect",TRANSITIONEND:goog.userAgent.WEBKIT?"webkitTransitionEnd":goog.userAgent.OPERA?"oTransitionEnd":"transitionend",MSGESTURECHANGE:"MSGestureChange",MSGESTUREEND:"MSGestureEnd",MSGESTUREHOLD:"MSGestureHold",MSGESTURESTART:"MSGestureStart",MSGESTURETAP:"MSGestureTap",MSGOTPOINTERCAPTURE:"MSGotPointerCapture",MSINERTIASTART:"MSInertiaStart",MSLOSTPOINTERCAPTURE:"MSLostPointerCapture",
MSPOINTERCANCEL:"MSPointerCancel",MSPOINTERDOWN:"MSPointerDown",MSPOINTERMOVE:"MSPointerMove",MSPOINTEROVER:"MSPointerOver",MSPOINTEROUT:"MSPointerOut",MSPOINTERUP:"MSPointerUp",TEXTINPUT:"textinput",COMPOSITIONSTART:"compositionstart",COMPOSITIONUPDATE:"compositionupdate",COMPOSITIONEND:"compositionend"};goog.events.Event=function(a,b){this.type=a;this.currentTarget=this.target=b};goog.events.Event.prototype.disposeInternal=function(){};goog.events.Event.prototype.dispose=function(){};goog.events.Event.prototype.propagationStopped_=!1;goog.events.Event.prototype.defaultPrevented=!1;goog.events.Event.prototype.returnValue_=!0;goog.events.Event.prototype.stopPropagation=function(){this.propagationStopped_=!0};
goog.events.Event.prototype.preventDefault=function(){this.defaultPrevented=!0;this.returnValue_=!1};goog.events.Event.stopPropagation=function(a){a.stopPropagation()};goog.events.Event.preventDefault=function(a){a.preventDefault()};goog.reflect={};goog.reflect.object=function(a,b){return b};goog.reflect.sinkValue=function(a){goog.reflect.sinkValue[" "](a);return a};goog.reflect.sinkValue[" "]=goog.nullFunction;goog.reflect.canAccessProperty=function(a,b){try{return goog.reflect.sinkValue(a[b]),!0}catch(c){}return!1};goog.events.BrowserEvent=function(a,b){a&&this.init(a,b)};goog.inherits(goog.events.BrowserEvent,goog.events.Event);goog.events.BrowserEvent.MouseButton={LEFT:0,MIDDLE:1,RIGHT:2};goog.events.BrowserEvent.IEButtonMap=[1,4,2];goog.events.BrowserEvent.prototype.target=null;goog.events.BrowserEvent.prototype.relatedTarget=null;goog.events.BrowserEvent.prototype.offsetX=0;goog.events.BrowserEvent.prototype.offsetY=0;goog.events.BrowserEvent.prototype.clientX=0;
goog.events.BrowserEvent.prototype.clientY=0;goog.events.BrowserEvent.prototype.screenX=0;goog.events.BrowserEvent.prototype.screenY=0;goog.events.BrowserEvent.prototype.button=0;goog.events.BrowserEvent.prototype.keyCode=0;goog.events.BrowserEvent.prototype.charCode=0;goog.events.BrowserEvent.prototype.ctrlKey=!1;goog.events.BrowserEvent.prototype.altKey=!1;goog.events.BrowserEvent.prototype.shiftKey=!1;goog.events.BrowserEvent.prototype.metaKey=!1;
goog.events.BrowserEvent.prototype.platformModifierKey=!1;goog.events.BrowserEvent.prototype.event_=null;
goog.events.BrowserEvent.prototype.init=function(a,b){var c=this.type=a.type;goog.events.Event.call(this,c);this.target=a.target||a.srcElement;this.currentTarget=b;var d=a.relatedTarget;d?goog.userAgent.GECKO&&(goog.reflect.canAccessProperty(d,"nodeName")||(d=null)):c==goog.events.EventType.MOUSEOVER?d=a.fromElement:c==goog.events.EventType.MOUSEOUT&&(d=a.toElement);this.relatedTarget=d;this.offsetX=goog.userAgent.WEBKIT||void 0!==a.offsetX?a.offsetX:a.layerX;this.offsetY=goog.userAgent.WEBKIT||void 0!==
a.offsetY?a.offsetY:a.layerY;this.clientX=void 0!==a.clientX?a.clientX:a.pageX;this.clientY=void 0!==a.clientY?a.clientY:a.pageY;this.screenX=a.screenX||0;this.screenY=a.screenY||0;this.button=a.button;this.keyCode=a.keyCode||0;this.charCode=a.charCode||("keypress"==c?a.keyCode:0);this.ctrlKey=a.ctrlKey;this.altKey=a.altKey;this.shiftKey=a.shiftKey;this.metaKey=a.metaKey;this.platformModifierKey=goog.userAgent.MAC?a.metaKey:a.ctrlKey;this.state=a.state;this.event_=a;a.defaultPrevented&&this.preventDefault();
delete this.propagationStopped_};goog.events.BrowserEvent.prototype.isButton=function(a){return goog.events.BrowserFeature.HAS_W3C_BUTTON?this.event_.button==a:"click"==this.type?a==goog.events.BrowserEvent.MouseButton.LEFT:!!(this.event_.button&goog.events.BrowserEvent.IEButtonMap[a])};goog.events.BrowserEvent.prototype.isMouseActionButton=function(){return this.isButton(goog.events.BrowserEvent.MouseButton.LEFT)&&!(goog.userAgent.WEBKIT&&goog.userAgent.MAC&&this.ctrlKey)};
goog.events.BrowserEvent.prototype.stopPropagation=function(){goog.events.BrowserEvent.superClass_.stopPropagation.call(this);this.event_.stopPropagation?this.event_.stopPropagation():this.event_.cancelBubble=!0};
goog.events.BrowserEvent.prototype.preventDefault=function(){goog.events.BrowserEvent.superClass_.preventDefault.call(this);var a=this.event_;if(a.preventDefault)a.preventDefault();else if(a.returnValue=!1,goog.events.BrowserFeature.SET_KEY_CODE_TO_PREVENT_DEFAULT)try{if(a.ctrlKey||112<=a.keyCode&&123>=a.keyCode)a.keyCode=-1}catch(b){}};goog.events.BrowserEvent.prototype.getBrowserEvent=function(){return this.event_};goog.events.BrowserEvent.prototype.disposeInternal=function(){};goog.events.STRICT_EVENT_TARGET=!0;goog.events.listeners_={};goog.events.listenerTree_={};goog.events.sources_={};goog.events.onString_="on";goog.events.onStringMap_={};goog.events.keySeparator_="_";
goog.events.listen=function(a,b,c,d,e){if(goog.isArray(b)){for(var f=0;f<b.length;f++)goog.events.listen(a,b[f],c,d,e);return null}a=goog.events.Listenable.USE_LISTENABLE_INTERFACE&&goog.events.Listenable.isImplementedBy(a)?a.listen(b,goog.events.wrapListener_(c),d,e):goog.events.listen_(a,b,c,!1,d,e);b=a.key;goog.events.listeners_[b]=a;return b};goog.events.CUSTOM_EVENT_ATTR="customEvent_";
goog.events.listen_=function(a,b,c,d,e,f){if(!b)throw Error("Invalid event type");e=!!e;var g=goog.events.listenerTree_;b in g||(g[b]={count_:0,remaining_:0});g=g[b];e in g||(g[e]={count_:0,remaining_:0},g.count_++);var g=g[e],h=goog.getUid(a),k;g.remaining_++;if(g[h]){k=g[h];for(var l=0;l<k.length;l++)if(g=k[l],g.listener==c&&g.handler==f){if(g.removed)break;d||(k[l].callOnce=!1);return k[l]}}else k=g[h]=[],g.count_++;l=goog.events.getProxy();g=new goog.events.Listener;g.init(c,l,a,b,e,f);g.callOnce=
d;l.src=a;l.listener=g;k.push(g);goog.events.sources_[h]||(goog.events.sources_[h]=[]);goog.events.sources_[h].push(g);a.addEventListener?a!=goog.global&&a[goog.events.CUSTOM_EVENT_ATTR]?goog.events.STRICT_EVENT_TARGET&&a.assertInitialized():a.addEventListener(b,l,e):a.attachEvent(goog.events.getOnString_(b),l);return g};
goog.events.getProxy=function(){var a=goog.events.handleBrowserEvent_,b=goog.events.BrowserFeature.HAS_W3C_EVENT_SUPPORT?function(c){return a.call(b.src,b.listener,c)}:function(c){c=a.call(b.src,b.listener,c);if(!c)return c};return b};
goog.events.listenOnce=function(a,b,c,d,e){if(goog.isArray(b)){for(var f=0;f<b.length;f++)goog.events.listenOnce(a,b[f],c,d,e);return null}a=goog.events.Listenable.USE_LISTENABLE_INTERFACE&&goog.events.Listenable.isImplementedBy(a)?a.listenOnce(b,goog.events.wrapListener_(c),d,e):goog.events.listen_(a,b,c,!0,d,e);b=a.key;goog.events.listeners_[b]=a;return b};goog.events.listenWithWrapper=function(a,b,c,d,e){b.listen(a,c,d,e)};
goog.events.unlisten=function(a,b,c,d,e){if(goog.isArray(b)){for(var f=0;f<b.length;f++)goog.events.unlisten(a,b[f],c,d,e);return null}if(goog.events.Listenable.USE_LISTENABLE_INTERFACE&&goog.events.Listenable.isImplementedBy(a))return a.unlisten(b,goog.events.wrapListener_(c),d,e);d=!!d;a=goog.events.getListeners_(a,b,d);if(!a)return!1;for(f=0;f<a.length;f++)if(a[f].listener==c&&a[f].capture==d&&a[f].handler==e)return goog.events.unlistenByKey(a[f].key);return!1};
goog.events.unlistenByKey=function(a){var b=goog.events.listeners_[a];if(!b||b.removed)return!1;var c=b.src;if(goog.events.Listenable.USE_LISTENABLE_INTERFACE&&goog.events.Listenable.isImplementedBy(c))return c.unlistenByKey(b);var d=b.type,e=b.proxy,f=b.capture;c.removeEventListener?c!=goog.global&&c[goog.events.CUSTOM_EVENT_ATTR]||c.removeEventListener(d,e,f):c.detachEvent&&c.detachEvent(goog.events.getOnString_(d),e);c=goog.getUid(c);goog.events.sources_[c]&&(e=goog.events.sources_[c],goog.array.remove(e,
b),0==e.length&&delete goog.events.sources_[c]);b.removed=!0;if(b=goog.events.listenerTree_[d][f][c])b.needsCleanup_=!0,goog.events.cleanUp_(d,f,c,b);delete goog.events.listeners_[a];return!0};goog.events.unlistenWithWrapper=function(a,b,c,d,e){b.unlisten(a,c,d,e)};goog.events.cleanUp=function(a){delete goog.events.listeners_[a.key]};
goog.events.cleanUp_=function(a,b,c,d){if(!d.locked_&&d.needsCleanup_){for(var e=0,f=0;e<d.length;e++)d[e].removed?d[e].proxy.src=null:(e!=f&&(d[f]=d[e]),f++);d.length=f;d.needsCleanup_=!1;0==f&&(delete goog.events.listenerTree_[a][b][c],goog.events.listenerTree_[a][b].count_--,0==goog.events.listenerTree_[a][b].count_&&(delete goog.events.listenerTree_[a][b],goog.events.listenerTree_[a].count_--),0==goog.events.listenerTree_[a].count_&&delete goog.events.listenerTree_[a])}};
goog.events.removeAll=function(a,b){var c=0,d=null==b;if(null!=a){if(goog.events.Listenable.USE_LISTENABLE_INTERFACE&&a&&goog.events.Listenable.isImplementedBy(a))return a.removeAllListeners(b);var e=goog.getUid(a);if(goog.events.sources_[e])for(var e=goog.events.sources_[e],f=e.length-1;0<=f;f--){var g=e[f];if(d||b==g.type)goog.events.unlistenByKey(g.key),c++}}else goog.object.forEach(goog.events.listeners_,function(a,b){goog.events.unlistenByKey(b);c++});return c};
goog.events.removeAllNativeListeners=function(){var a=0;goog.object.forEach(goog.events.listeners_,function(b,c){var d=b.src;goog.events.Listenable.isImplementedBy(d)||d[goog.events.CUSTOM_EVENT_ATTR]||(goog.events.unlistenByKey(c),a++)});return a};goog.events.getListeners=function(a,b,c){return goog.events.Listenable.USE_LISTENABLE_INTERFACE&&goog.events.Listenable.isImplementedBy(a)?a.getListeners(b,c):goog.events.getListeners_(a,b,c)||[]};
goog.events.getListeners_=function(a,b,c){var d=goog.events.listenerTree_;return b in d&&(d=d[b],c in d&&(d=d[c],a=goog.getUid(a),d[a]))?d[a]:null};goog.events.getListener=function(a,b,c,d,e){d=!!d;if(goog.events.Listenable.USE_LISTENABLE_INTERFACE&&goog.events.Listenable.isImplementedBy(a))return a.getListener(b,goog.events.wrapListener_(c),d,e);if(a=goog.events.getListeners_(a,b,d))for(b=0;b<a.length;b++)if(!a[b].removed&&a[b].listener==c&&a[b].capture==d&&a[b].handler==e)return a[b];return null};
goog.events.hasListener=function(a,b,c){if(goog.events.Listenable.USE_LISTENABLE_INTERFACE&&goog.events.Listenable.isImplementedBy(a))return a.hasListener(b,c);a=goog.getUid(a);var d=goog.events.sources_[a];if(d){var e=goog.isDef(b),f=goog.isDef(c);return e&&f?(d=goog.events.listenerTree_[b],!!d&&!!d[c]&&a in d[c]):e||f?goog.array.some(d,function(a){return e&&a.type==b||f&&a.capture==c}):!0}return!1};
goog.events.expose=function(a){var b=[],c;for(c in a)a[c]&&a[c].id?b.push(c+" = "+a[c]+" ("+a[c].id+")"):b.push(c+" = "+a[c]);return b.join("\n")};goog.events.getOnString_=function(a){return a in goog.events.onStringMap_?goog.events.onStringMap_[a]:goog.events.onStringMap_[a]=goog.events.onString_+a};
goog.events.fireListeners=function(a,b,c,d){if(goog.events.Listenable.USE_LISTENABLE_INTERFACE&&goog.events.Listenable.isImplementedBy(a))return a.fireListeners(b,c,d);var e=goog.events.listenerTree_;return b in e&&(e=e[b],c in e)?goog.events.fireListeners_(e[c],a,b,c,d):!0};
goog.events.fireListeners_=function(a,b,c,d,e){var f=1;b=goog.getUid(b);if(a[b]){var g=--a.remaining_,h=a[b];h.locked_?h.locked_++:h.locked_=1;try{for(var k=h.length,l=0;l<k;l++){var m=h[l];m&&!m.removed&&(f&=!1!==goog.events.fireListener(m,e))}}finally{a.remaining_=Math.max(g,a.remaining_),h.locked_--,goog.events.cleanUp_(c,d,b,h)}}return Boolean(f)};goog.events.fireListener=function(a,b){a.callOnce&&goog.events.unlistenByKey(a.key);return a.handleEvent(b)};goog.events.getTotalListenerCount=function(){return goog.object.getCount(goog.events.listeners_)};
goog.events.dispatchEvent=function(a,b){if(goog.events.Listenable.USE_LISTENABLE_INTERFACE)return goog.events.STRICT_EVENT_TARGET&&goog.asserts.assert(goog.events.Listenable.isImplementedBy(a),"Can not use goog.events.dispatchEvent with non-goog.events.Listenable instance."),a.dispatchEvent(b);goog.events.STRICT_EVENT_TARGET&&(goog.asserts.assert(goog.events.STRICT_EVENT_TARGET&&a[goog.events.CUSTOM_EVENT_ATTR],"Can not use goog.events.dispatchEvent with non-goog.events.EventTarget instance."),a.assertInitialized());
var c=b.type||b,d=goog.events.listenerTree_;if(!(c in d))return!0;if(goog.isString(b))b=new goog.events.Event(b,a);else if(b instanceof goog.events.Event)b.target=b.target||a;else{var e=b;b=new goog.events.Event(c,a);goog.object.extend(b,e)}var e=1,f,d=d[c],c=!0 in d,g;if(c){f=[];for(g=a;g;g=g.getParentEventTarget())f.push(g);g=d[!0];g.remaining_=g.count_;for(var h=f.length-1;!b.propagationStopped_&&0<=h&&g.remaining_;h--)b.currentTarget=f[h],e&=goog.events.fireListeners_(g,f[h],b.type,!0,b)&&0!=
b.returnValue_}if(!1 in d)if(g=d[!1],g.remaining_=g.count_,c)for(h=0;!b.propagationStopped_&&h<f.length&&g.remaining_;h++)b.currentTarget=f[h],e&=goog.events.fireListeners_(g,f[h],b.type,!1,b)&&0!=b.returnValue_;else for(d=a;!b.propagationStopped_&&d&&g.remaining_;d=d.getParentEventTarget())b.currentTarget=d,e&=goog.events.fireListeners_(g,d,b.type,!1,b)&&0!=b.returnValue_;return Boolean(e)};goog.events.protectBrowserEventEntryPoint=function(a){goog.events.handleBrowserEvent_=a.protectEntryPoint(goog.events.handleBrowserEvent_)};
goog.events.handleBrowserEvent_=function(a,b){if(a.removed)return!0;var c=a.type,d=goog.events.listenerTree_;if(!(c in d))return!0;var d=d[c],e,f;if(!goog.events.BrowserFeature.HAS_W3C_EVENT_SUPPORT){e=b||goog.getObjectByName("window.event");var g=!0 in d,h=!1 in d;if(g){if(goog.events.isMarkedIeEvent_(e))return!0;goog.events.markIeEvent_(e)}var k=new goog.events.BrowserEvent;k.init(e,this);e=!0;try{if(g){for(var l=[],m=k.currentTarget;m;m=m.parentNode)l.push(m);f=d[!0];f.remaining_=f.count_;for(var n=
l.length-1;!k.propagationStopped_&&0<=n&&f.remaining_;n--)k.currentTarget=l[n],e&=goog.events.fireListeners_(f,l[n],c,!0,k);if(h)for(f=d[!1],f.remaining_=f.count_,n=0;!k.propagationStopped_&&n<l.length&&f.remaining_;n++)k.currentTarget=l[n],e&=goog.events.fireListeners_(f,l[n],c,!1,k)}else e=goog.events.fireListener(a,k)}finally{l&&(l.length=0)}return e}c=new goog.events.BrowserEvent(b,this);return e=goog.events.fireListener(a,c)};
goog.events.markIeEvent_=function(a){var b=!1;if(0==a.keyCode)try{a.keyCode=-1;return}catch(c){b=!0}if(b||void 0==a.returnValue)a.returnValue=!0};goog.events.isMarkedIeEvent_=function(a){return 0>a.keyCode||void 0!=a.returnValue};goog.events.uniqueIdCounter_=0;goog.events.getUniqueId=function(a){return a+"_"+goog.events.uniqueIdCounter_++};goog.events.LISTENER_WRAPPER_PROP_="__closure_events_fn_"+(1E9*Math.random()>>>0);
goog.events.wrapListener_=function(a){return goog.isFunction(a)?a:a[goog.events.LISTENER_WRAPPER_PROP_]||(a[goog.events.LISTENER_WRAPPER_PROP_]=function(b){return a.handleEvent(b)})};goog.debug.entryPointRegistry.register(function(a){goog.events.handleBrowserEvent_=a(goog.events.handleBrowserEvent_)});goog.events.EventTarget=function(){goog.Disposable.call(this);this.eventTargetListeners_={};this.actualEventTarget_=this};goog.inherits(goog.events.EventTarget,goog.Disposable);goog.events.Listenable.USE_LISTENABLE_INTERFACE&&goog.events.Listenable.addImplementation(goog.events.EventTarget);goog.events.EventTarget.MAX_ANCESTORS_=1E3;goog.events.EventTarget.prototype[goog.events.CUSTOM_EVENT_ATTR]=!0;goog.events.EventTarget.prototype.parentEventTarget_=null;
goog.events.EventTarget.prototype.getParentEventTarget=function(){return this.parentEventTarget_};goog.events.EventTarget.prototype.setParentEventTarget=function(a){this.parentEventTarget_=a};goog.events.EventTarget.prototype.addEventListener=function(a,b,c,d){goog.events.listen(this,a,b,c,d)};goog.events.EventTarget.prototype.removeEventListener=function(a,b,c,d){goog.events.unlisten(this,a,b,c,d)};
goog.events.EventTarget.prototype.dispatchEvent=function(a){if(goog.events.Listenable.USE_LISTENABLE_INTERFACE){this.assertInitialized();var b,c=this.getParentEventTarget();if(c){b=[];for(var d=1;c;c=c.getParentEventTarget())b.push(c),goog.asserts.assert(++d<goog.events.EventTarget.MAX_ANCESTORS_,"infinite loop")}return goog.events.EventTarget.dispatchEventInternal_(this.actualEventTarget_,a,b)}return goog.events.dispatchEvent(this,a)};
goog.events.EventTarget.prototype.disposeInternal=function(){goog.events.EventTarget.superClass_.disposeInternal.call(this);goog.events.Listenable.USE_LISTENABLE_INTERFACE?this.removeAllListeners():goog.events.removeAll(this);this.parentEventTarget_=null};goog.events.EventTarget.prototype.assertInitialized=function(){goog.events.STRICT_EVENT_TARGET&&goog.asserts.assert(this.eventTargetListeners_,"Event target is not initialized. Did you call superclass (goog.events.EventTarget) constructor?")};
goog.events.Listenable.USE_LISTENABLE_INTERFACE&&(goog.events.EventTarget.prototype.listen=function(a,b,c,d){return this.listenInternal_(a,b,!1,c,d)},goog.events.EventTarget.prototype.listenOnce=function(a,b,c,d){return this.listenInternal_(a,b,!0,c,d)},goog.events.EventTarget.prototype.listenInternal_=function(a,b,c,d,e){this.assertInitialized();var f=this.eventTargetListeners_[a]||(this.eventTargetListeners_[a]=[]),g;g=goog.events.EventTarget.findListenerIndex_(f,b,d,e);if(-1<g)return g=f[g],c||
(g.callOnce=!1),g;g=new goog.events.Listener;g.init(b,null,this,a,!!d,e);g.callOnce=c;f.push(g);return g},goog.events.EventTarget.prototype.unlisten=function(a,b,c,d){if(!(a in this.eventTargetListeners_))return!1;a=this.eventTargetListeners_[a];b=goog.events.EventTarget.findListenerIndex_(a,b,c,d);return-1<b?(c=a[b],goog.events.cleanUp(c),c.removed=!0,goog.array.removeAt(a,b)):!1},goog.events.EventTarget.prototype.unlistenByKey=function(a){var b=a.type;if(!(b in this.eventTargetListeners_))return!1;
if(b=goog.array.remove(this.eventTargetListeners_[b],a))goog.events.cleanUp(a),a.removed=!0;return b},goog.events.EventTarget.prototype.removeAllListeners=function(a,b){var c=0,d;for(d in this.eventTargetListeners_)if(!a||d==a){for(var e=this.eventTargetListeners_[d],f=0;f<e.length;f++)++c,goog.events.cleanUp(e[f]),e[f].removed=!0;e.length=0}return c},goog.events.EventTarget.prototype.fireListeners=function(a,b,c){if(!(a in this.eventTargetListeners_))return!0;var d=!0;a=goog.array.clone(this.eventTargetListeners_[a]);
for(var e=0;e<a.length;++e){var f=a[e];f&&!f.removed&&f.capture==b&&(f.callOnce&&this.unlistenByKey(f),d=!1!==f.handleEvent(c)&&d)}return d&&0!=c.returnValue_},goog.events.EventTarget.prototype.getListeners=function(a,b){var c=this.eventTargetListeners_[a],d=[];if(c)for(var e=0;e<c.length;++e){var f=c[e];f.capture==b&&d.push(f)}return d},goog.events.EventTarget.prototype.getListener=function(a,b,c,d){a=this.eventTargetListeners_[a];var e=-1;a&&(e=goog.events.EventTarget.findListenerIndex_(a,b,c,d));
return-1<e?a[e]:null},goog.events.EventTarget.prototype.hasListener=function(a,b){var c=goog.isDef(a),d=goog.isDef(b);return goog.object.some(this.eventTargetListeners_,function(e,f){for(var g=0;g<e.length;++g)if(!(c&&e[g].type!=a||d&&e[g].capture!=b))return!0;return!1})},goog.events.EventTarget.prototype.setTargetForTesting=function(a){this.actualEventTarget_=a},goog.events.EventTarget.dispatchEventInternal_=function(a,b,c){var d=b.type||b;if(goog.isString(b))b=new goog.events.Event(b,a);else if(b instanceof
goog.events.Event)b.target=b.target||a;else{var e=b;b=new goog.events.Event(d,a);goog.object.extend(b,e)}var e=!0,f;if(c)for(var g=c.length-1;!b.propagationStopped_&&0<=g;g--)f=b.currentTarget=c[g],e=f.fireListeners(d,!0,b)&&e;b.propagationStopped_||(f=b.currentTarget=a,e=f.fireListeners(d,!0,b)&&e,b.propagationStopped_||(e=f.fireListeners(d,!1,b)&&e));if(c)for(g=0;!b.propagationStopped_&&g<c.length;g++)f=b.currentTarget=c[g],e=f.fireListeners(d,!1,b)&&e;return e},goog.events.EventTarget.findListenerIndex_=
function(a,b,c,d){for(var e=0;e<a.length;++e){var f=a[e];if(f.listener==b&&f.capture==!!c&&f.handler==d)return e}return-1});goog.Timer=function(a,b){goog.events.EventTarget.call(this);this.interval_=a||1;this.timerObject_=b||goog.Timer.defaultTimerObject;this.boundTick_=goog.bind(this.tick_,this);this.last_=goog.now()};goog.inherits(goog.Timer,goog.events.EventTarget);goog.Timer.MAX_TIMEOUT_=2147483647;goog.Timer.prototype.enabled=!1;goog.Timer.defaultTimerObject=goog.global;goog.Timer.intervalScale=.8;goog.Timer.prototype.timer_=null;goog.Timer.prototype.getInterval=function(){return this.interval_};
goog.Timer.prototype.setInterval=function(a){this.interval_=a;this.timer_&&this.enabled?(this.stop(),this.start()):this.timer_&&this.stop()};goog.Timer.prototype.tick_=function(){if(this.enabled){var a=goog.now()-this.last_;0<a&&a<this.interval_*goog.Timer.intervalScale?this.timer_=this.timerObject_.setTimeout(this.boundTick_,this.interval_-a):(this.dispatchTick(),this.enabled&&(this.timer_=this.timerObject_.setTimeout(this.boundTick_,this.interval_),this.last_=goog.now()))}};
goog.Timer.prototype.dispatchTick=function(){this.dispatchEvent(goog.Timer.TICK)};goog.Timer.prototype.start=function(){this.enabled=!0;this.timer_||(this.timer_=this.timerObject_.setTimeout(this.boundTick_,this.interval_),this.last_=goog.now())};goog.Timer.prototype.stop=function(){this.enabled=!1;this.timer_&&(this.timerObject_.clearTimeout(this.timer_),this.timer_=null)};goog.Timer.prototype.disposeInternal=function(){goog.Timer.superClass_.disposeInternal.call(this);this.stop();delete this.timerObject_};
goog.Timer.TICK="tick";goog.Timer.callOnce=function(a,b,c){if(goog.isFunction(a))c&&(a=goog.bind(a,c));else if(a&&"function"==typeof a.handleEvent)a=goog.bind(a.handleEvent,a);else throw Error("Invalid listener argument");return b>goog.Timer.MAX_TIMEOUT_?-1:goog.Timer.defaultTimerObject.setTimeout(a,b||0)};goog.Timer.clear=function(a){goog.Timer.defaultTimerObject.clearTimeout(a)};goog.net={};
goog.net.HttpStatus={CONTINUE:100,SWITCHING_PROTOCOLS:101,OK:200,CREATED:201,ACCEPTED:202,NON_AUTHORITATIVE_INFORMATION:203,NO_CONTENT:204,RESET_CONTENT:205,PARTIAL_CONTENT:206,MULTIPLE_CHOICES:300,MOVED_PERMANENTLY:301,FOUND:302,SEE_OTHER:303,NOT_MODIFIED:304,USE_PROXY:305,TEMPORARY_REDIRECT:307,BAD_REQUEST:400,UNAUTHORIZED:401,PAYMENT_REQUIRED:402,FORBIDDEN:403,NOT_FOUND:404,METHOD_NOT_ALLOWED:405,NOT_ACCEPTABLE:406,PROXY_AUTHENTICATION_REQUIRED:407,REQUEST_TIMEOUT:408,CONFLICT:409,GONE:410,LENGTH_REQUIRED:411,
PRECONDITION_FAILED:412,REQUEST_ENTITY_TOO_LARGE:413,REQUEST_URI_TOO_LONG:414,UNSUPPORTED_MEDIA_TYPE:415,REQUEST_RANGE_NOT_SATISFIABLE:416,EXPECTATION_FAILED:417,INTERNAL_SERVER_ERROR:500,NOT_IMPLEMENTED:501,BAD_GATEWAY:502,SERVICE_UNAVAILABLE:503,GATEWAY_TIMEOUT:504,HTTP_VERSION_NOT_SUPPORTED:505,QUIRK_IE_NO_CONTENT:1223};
goog.net.HttpStatus.isSuccess=function(a){switch(a){case goog.net.HttpStatus.OK:case goog.net.HttpStatus.CREATED:case goog.net.HttpStatus.ACCEPTED:case goog.net.HttpStatus.NO_CONTENT:case goog.net.HttpStatus.PARTIAL_CONTENT:case goog.net.HttpStatus.NOT_MODIFIED:case goog.net.HttpStatus.QUIRK_IE_NO_CONTENT:return!0;default:return!1}};goog.json={};goog.json.isValid_=function(a){return/^\s*$/.test(a)?!1:/^[\],:{}\s\u2028\u2029]*$/.test(a.replace(/\\["\\\/bfnrtu]/g,"@").replace(/"[^"\\\n\r\u2028\u2029\x00-\x08\x0a-\x1f]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:[\s\u2028\u2029]*\[)+/g,""))};goog.json.parse=function(a){a=String(a);if(goog.json.isValid_(a))try{return eval("("+a+")")}catch(b){}throw Error("Invalid JSON string: "+a);};goog.json.unsafeParse=function(a){return eval("("+a+")")};
goog.json.serialize=function(a,b){return(new goog.json.Serializer(b)).serialize(a)};goog.json.Serializer=function(a){this.replacer_=a};goog.json.Serializer.prototype.serialize=function(a){var b=[];this.serialize_(a,b);return b.join("")};
goog.json.Serializer.prototype.serialize_=function(a,b){switch(typeof a){case "string":this.serializeString_(a,b);break;case "number":this.serializeNumber_(a,b);break;case "boolean":b.push(a);break;case "undefined":b.push("null");break;case "object":if(null==a){b.push("null");break}if(goog.isArray(a)){this.serializeArray(a,b);break}this.serializeObject_(a,b);break;case "function":break;default:throw Error("Unknown type: "+typeof a);}};
goog.json.Serializer.charToJsonCharCache_={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\x0B":"\\u000b"};goog.json.Serializer.charsToReplace_=/\uffff/.test("\uffff")?/[\\\"\x00-\x1f\x7f-\uffff]/g:/[\\\"\x00-\x1f\x7f-\xff]/g;
goog.json.Serializer.prototype.serializeString_=function(a,b){b.push('"',a.replace(goog.json.Serializer.charsToReplace_,function(a){if(a in goog.json.Serializer.charToJsonCharCache_)return goog.json.Serializer.charToJsonCharCache_[a];var b=a.charCodeAt(0),e="\\u";16>b?e+="000":256>b?e+="00":4096>b&&(e+="0");return goog.json.Serializer.charToJsonCharCache_[a]=e+b.toString(16)}),'"')};goog.json.Serializer.prototype.serializeNumber_=function(a,b){b.push(isFinite(a)&&!isNaN(a)?a:"null")};
goog.json.Serializer.prototype.serializeArray=function(a,b){var c=a.length;b.push("[");for(var d="",e=0;e<c;e++)b.push(d),d=a[e],this.serialize_(this.replacer_?this.replacer_.call(a,String(e),d):d,b),d=",";b.push("]")};
goog.json.Serializer.prototype.serializeObject_=function(a,b){b.push("{");var c="",d;for(d in a)if(Object.prototype.hasOwnProperty.call(a,d)){var e=a[d];"function"!=typeof e&&(b.push(c),this.serializeString_(d,b),b.push(":"),this.serialize_(this.replacer_?this.replacer_.call(a,d,e):e,b),c=",")}b.push("}")};goog.net.XmlHttpFactory=function(){};goog.net.XmlHttpFactory.prototype.cachedOptions_=null;goog.net.XmlHttpFactory.prototype.getOptions=function(){return this.cachedOptions_||(this.cachedOptions_=this.internalGetOptions())};goog.net.WrapperXmlHttpFactory=function(a,b){goog.net.XmlHttpFactory.call(this);this.xhrFactory_=a;this.optionsFactory_=b};goog.inherits(goog.net.WrapperXmlHttpFactory,goog.net.XmlHttpFactory);goog.net.WrapperXmlHttpFactory.prototype.createInstance=function(){return this.xhrFactory_()};goog.net.WrapperXmlHttpFactory.prototype.getOptions=function(){return this.optionsFactory_()};goog.net.XmlHttp=function(){return goog.net.XmlHttp.factory_.createInstance()};goog.net.XmlHttp.ASSUME_NATIVE_XHR=!1;goog.net.XmlHttp.getOptions=function(){return goog.net.XmlHttp.factory_.getOptions()};goog.net.XmlHttp.OptionType={USE_NULL_FUNCTION:0,LOCAL_REQUEST_ERROR:1};goog.net.XmlHttp.ReadyState={UNINITIALIZED:0,LOADING:1,LOADED:2,INTERACTIVE:3,COMPLETE:4};goog.net.XmlHttp.setFactory=function(a,b){goog.net.XmlHttp.setGlobalFactory(new goog.net.WrapperXmlHttpFactory(a,b))};
goog.net.XmlHttp.setGlobalFactory=function(a){goog.net.XmlHttp.factory_=a};goog.net.DefaultXmlHttpFactory=function(){goog.net.XmlHttpFactory.call(this)};goog.inherits(goog.net.DefaultXmlHttpFactory,goog.net.XmlHttpFactory);goog.net.DefaultXmlHttpFactory.prototype.createInstance=function(){var a=this.getProgId_();return a?new ActiveXObject(a):new XMLHttpRequest};
goog.net.DefaultXmlHttpFactory.prototype.internalGetOptions=function(){var a={};this.getProgId_()&&(a[goog.net.XmlHttp.OptionType.USE_NULL_FUNCTION]=!0,a[goog.net.XmlHttp.OptionType.LOCAL_REQUEST_ERROR]=!0);return a};
goog.net.DefaultXmlHttpFactory.prototype.getProgId_=function(){if(goog.net.XmlHttp.ASSUME_NATIVE_XHR)return"";if(!this.ieProgId_&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var a=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],b=0;b<a.length;b++){var c=a[b];try{return new ActiveXObject(c),this.ieProgId_=c}catch(d){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed");}return this.ieProgId_};
goog.net.XmlHttp.setGlobalFactory(new goog.net.DefaultXmlHttpFactory);goog.net.EventType={COMPLETE:"complete",SUCCESS:"success",ERROR:"error",ABORT:"abort",READY:"ready",READY_STATE_CHANGE:"readystatechange",TIMEOUT:"timeout",INCREMENTAL_DATA:"incrementaldata",PROGRESS:"progress"};goog.net.ErrorCode={NO_ERROR:0,ACCESS_DENIED:1,FILE_NOT_FOUND:2,FF_SILENT_ERROR:3,CUSTOM_ERROR:4,EXCEPTION:5,HTTP_ERROR:6,ABORT:7,TIMEOUT:8,OFFLINE:9};
goog.net.ErrorCode.getDebugMessage=function(a){switch(a){case goog.net.ErrorCode.NO_ERROR:return"No Error";case goog.net.ErrorCode.ACCESS_DENIED:return"Access denied to content document";case goog.net.ErrorCode.FILE_NOT_FOUND:return"File not found";case goog.net.ErrorCode.FF_SILENT_ERROR:return"Firefox silently errored";case goog.net.ErrorCode.CUSTOM_ERROR:return"Application custom error";case goog.net.ErrorCode.EXCEPTION:return"An exception occurred";case goog.net.ErrorCode.HTTP_ERROR:return"Http response at 400 or 500 level";
case goog.net.ErrorCode.ABORT:return"Request was aborted";case goog.net.ErrorCode.TIMEOUT:return"Request timed out";case goog.net.ErrorCode.OFFLINE:return"The resource is not available offline";default:return"Unrecognized error code"}};goog.net.XhrIo=function(a){goog.events.EventTarget.call(this);this.headers=new goog.structs.Map;this.xmlHttpFactory_=a||null};goog.inherits(goog.net.XhrIo,goog.events.EventTarget);goog.net.XhrIo.ResponseType={DEFAULT:"",TEXT:"text",DOCUMENT:"document",BLOB:"blob",ARRAY_BUFFER:"arraybuffer"};goog.net.XhrIo.prototype.logger_=goog.debug.Logger.getLogger("goog.net.XhrIo");goog.net.XhrIo.CONTENT_TYPE_HEADER="Content-Type";goog.net.XhrIo.HTTP_SCHEME_PATTERN=/^https?$/i;
goog.net.XhrIo.FORM_CONTENT_TYPE="application/x-www-form-urlencoded;charset=utf-8";goog.net.XhrIo.sendInstances_=[];goog.net.XhrIo.send=function(a,b,c,d,e,f,g){var h=new goog.net.XhrIo;goog.net.XhrIo.sendInstances_.push(h);b&&goog.events.listen(h,goog.net.EventType.COMPLETE,b);goog.events.listen(h,goog.net.EventType.READY,goog.partial(goog.net.XhrIo.cleanupSend_,h));f&&h.setTimeoutInterval(f);g&&h.setWithCredentials(g);h.send(a,c,d,e)};goog.net.XhrIo.cleanup=function(){for(var a=goog.net.XhrIo.sendInstances_;a.length;)a.pop().dispose()};
goog.net.XhrIo.protectEntryPoints=function(a){goog.net.XhrIo.prototype.onReadyStateChangeEntryPoint_=a.protectEntryPoint(goog.net.XhrIo.prototype.onReadyStateChangeEntryPoint_)};goog.net.XhrIo.cleanupSend_=function(a){a.dispose();goog.array.remove(goog.net.XhrIo.sendInstances_,a)};goog.net.XhrIo.prototype.active_=!1;goog.net.XhrIo.prototype.xhr_=null;goog.net.XhrIo.prototype.xhrOptions_=null;goog.net.XhrIo.prototype.lastUri_="";goog.net.XhrIo.prototype.lastMethod_="";
goog.net.XhrIo.prototype.lastErrorCode_=goog.net.ErrorCode.NO_ERROR;goog.net.XhrIo.prototype.lastError_="";goog.net.XhrIo.prototype.errorDispatched_=!1;goog.net.XhrIo.prototype.inSend_=!1;goog.net.XhrIo.prototype.inOpen_=!1;goog.net.XhrIo.prototype.inAbort_=!1;goog.net.XhrIo.prototype.timeoutInterval_=0;goog.net.XhrIo.prototype.timeoutId_=null;goog.net.XhrIo.prototype.responseType_=goog.net.XhrIo.ResponseType.DEFAULT;goog.net.XhrIo.prototype.withCredentials_=!1;
goog.net.XhrIo.prototype.getTimeoutInterval=function(){return this.timeoutInterval_};goog.net.XhrIo.prototype.setTimeoutInterval=function(a){this.timeoutInterval_=Math.max(0,a)};goog.net.XhrIo.prototype.setResponseType=function(a){this.responseType_=a};goog.net.XhrIo.prototype.getResponseType=function(){return this.responseType_};goog.net.XhrIo.prototype.setWithCredentials=function(a){this.withCredentials_=a};goog.net.XhrIo.prototype.getWithCredentials=function(){return this.withCredentials_};
goog.net.XhrIo.prototype.send=function(a,b,c,d){if(this.xhr_)throw Error("[goog.net.XhrIo] Object is active with another request="+this.lastUri_+"; newUri="+a);b=b?b.toUpperCase():"GET";this.lastUri_=a;this.lastError_="";this.lastErrorCode_=goog.net.ErrorCode.NO_ERROR;this.lastMethod_=b;this.errorDispatched_=!1;this.active_=!0;this.xhr_=this.createXhr();this.xhrOptions_=this.xmlHttpFactory_?this.xmlHttpFactory_.getOptions():goog.net.XmlHttp.getOptions();this.xhr_.onreadystatechange=goog.bind(this.onReadyStateChange_,
this);try{this.logger_.fine(this.formatMsg_("Opening Xhr")),this.inOpen_=!0,this.xhr_.open(b,a,!0),this.inOpen_=!1}catch(e){this.logger_.fine(this.formatMsg_("Error opening Xhr: "+e.message));this.error_(goog.net.ErrorCode.EXCEPTION,e);return}a=c||"";var f=this.headers.clone();d&&goog.structs.forEach(d,function(a,b){f.set(b,a)});d=goog.array.find(f.getKeys(),goog.net.XhrIo.isContentTypeHeader_);c=goog.global.FormData&&a instanceof goog.global.FormData;"POST"!=b||d||c||f.set(goog.net.XhrIo.CONTENT_TYPE_HEADER,
goog.net.XhrIo.FORM_CONTENT_TYPE);goog.structs.forEach(f,function(a,b){this.xhr_.setRequestHeader(b,a)},this);this.responseType_&&(this.xhr_.responseType=this.responseType_);goog.object.containsKey(this.xhr_,"withCredentials")&&(this.xhr_.withCredentials=this.withCredentials_);try{this.timeoutId_&&(goog.Timer.defaultTimerObject.clearTimeout(this.timeoutId_),this.timeoutId_=null),0<this.timeoutInterval_&&(this.logger_.fine(this.formatMsg_("Will abort after "+this.timeoutInterval_+"ms if incomplete")),
this.timeoutId_=goog.Timer.defaultTimerObject.setTimeout(goog.bind(this.timeout_,this),this.timeoutInterval_)),this.logger_.fine(this.formatMsg_("Sending request")),this.inSend_=!0,this.xhr_.send(a),this.inSend_=!1}catch(g){this.logger_.fine(this.formatMsg_("Send error: "+g.message)),this.error_(goog.net.ErrorCode.EXCEPTION,g)}};goog.net.XhrIo.isContentTypeHeader_=function(a){return goog.string.caseInsensitiveEquals(goog.net.XhrIo.CONTENT_TYPE_HEADER,a)};
goog.net.XhrIo.prototype.createXhr=function(){return this.xmlHttpFactory_?this.xmlHttpFactory_.createInstance():goog.net.XmlHttp()};goog.net.XhrIo.prototype.timeout_=function(){"undefined"!=typeof goog&&this.xhr_&&(this.lastError_="Timed out after "+this.timeoutInterval_+"ms, aborting",this.lastErrorCode_=goog.net.ErrorCode.TIMEOUT,this.logger_.fine(this.formatMsg_(this.lastError_)),this.dispatchEvent(goog.net.EventType.TIMEOUT),this.abort(goog.net.ErrorCode.TIMEOUT))};
goog.net.XhrIo.prototype.error_=function(a,b){this.active_=!1;this.xhr_&&(this.inAbort_=!0,this.xhr_.abort(),this.inAbort_=!1);this.lastError_=b;this.lastErrorCode_=a;this.dispatchErrors_();this.cleanUpXhr_()};goog.net.XhrIo.prototype.dispatchErrors_=function(){this.errorDispatched_||(this.errorDispatched_=!0,this.dispatchEvent(goog.net.EventType.COMPLETE),this.dispatchEvent(goog.net.EventType.ERROR))};
goog.net.XhrIo.prototype.abort=function(a){this.xhr_&&this.active_&&(this.logger_.fine(this.formatMsg_("Aborting")),this.active_=!1,this.inAbort_=!0,this.xhr_.abort(),this.inAbort_=!1,this.lastErrorCode_=a||goog.net.ErrorCode.ABORT,this.dispatchEvent(goog.net.EventType.COMPLETE),this.dispatchEvent(goog.net.EventType.ABORT),this.cleanUpXhr_())};
goog.net.XhrIo.prototype.disposeInternal=function(){this.xhr_&&(this.active_&&(this.active_=!1,this.inAbort_=!0,this.xhr_.abort(),this.inAbort_=!1),this.cleanUpXhr_(!0));goog.net.XhrIo.superClass_.disposeInternal.call(this)};goog.net.XhrIo.prototype.onReadyStateChange_=function(){if(this.inOpen_||this.inSend_||this.inAbort_)this.onReadyStateChangeHelper_();else this.onReadyStateChangeEntryPoint_()};goog.net.XhrIo.prototype.onReadyStateChangeEntryPoint_=function(){this.onReadyStateChangeHelper_()};
goog.net.XhrIo.prototype.onReadyStateChangeHelper_=function(){if(this.active_&&"undefined"!=typeof goog)if(this.xhrOptions_[goog.net.XmlHttp.OptionType.LOCAL_REQUEST_ERROR]&&this.getReadyState()==goog.net.XmlHttp.ReadyState.COMPLETE&&2==this.getStatus())this.logger_.fine(this.formatMsg_("Local request error detected and ignored"));else if(this.inSend_&&this.getReadyState()==goog.net.XmlHttp.ReadyState.COMPLETE)goog.Timer.defaultTimerObject.setTimeout(goog.bind(this.onReadyStateChange_,this),0);else if(this.dispatchEvent(goog.net.EventType.READY_STATE_CHANGE),
this.isComplete()){this.logger_.fine(this.formatMsg_("Request complete"));this.active_=!1;try{this.isSuccess()?(this.dispatchEvent(goog.net.EventType.COMPLETE),this.dispatchEvent(goog.net.EventType.SUCCESS)):(this.lastErrorCode_=goog.net.ErrorCode.HTTP_ERROR,this.lastError_=this.getStatusText()+" ["+this.getStatus()+"]",this.dispatchErrors_())}finally{this.cleanUpXhr_()}}};
goog.net.XhrIo.prototype.cleanUpXhr_=function(a){if(this.xhr_){var b=this.xhr_,c=this.xhrOptions_[goog.net.XmlHttp.OptionType.USE_NULL_FUNCTION]?goog.nullFunction:null;this.xhrOptions_=this.xhr_=null;this.timeoutId_&&(goog.Timer.defaultTimerObject.clearTimeout(this.timeoutId_),this.timeoutId_=null);a||this.dispatchEvent(goog.net.EventType.READY);try{b.onreadystatechange=c}catch(d){this.logger_.severe("Problem encountered resetting onreadystatechange: "+d.message)}}};
goog.net.XhrIo.prototype.isActive=function(){return!!this.xhr_};goog.net.XhrIo.prototype.isComplete=function(){return this.getReadyState()==goog.net.XmlHttp.ReadyState.COMPLETE};goog.net.XhrIo.prototype.isSuccess=function(){var a=this.getStatus();return goog.net.HttpStatus.isSuccess(a)||0===a&&!this.isLastUriEffectiveSchemeHttp_()};goog.net.XhrIo.prototype.isLastUriEffectiveSchemeHttp_=function(){var a=goog.uri.utils.getEffectiveScheme(String(this.lastUri_));return goog.net.XhrIo.HTTP_SCHEME_PATTERN.test(a)};
goog.net.XhrIo.prototype.getReadyState=function(){return this.xhr_?this.xhr_.readyState:goog.net.XmlHttp.ReadyState.UNINITIALIZED};goog.net.XhrIo.prototype.getStatus=function(){try{return this.getReadyState()>goog.net.XmlHttp.ReadyState.LOADED?this.xhr_.status:-1}catch(a){return this.logger_.warning("Can not get status: "+a.message),-1}};
goog.net.XhrIo.prototype.getStatusText=function(){try{return this.getReadyState()>goog.net.XmlHttp.ReadyState.LOADED?this.xhr_.statusText:""}catch(a){return this.logger_.fine("Can not get status: "+a.message),""}};goog.net.XhrIo.prototype.getLastUri=function(){return String(this.lastUri_)};goog.net.XhrIo.prototype.getResponseText=function(){try{return this.xhr_?this.xhr_.responseText:""}catch(a){return this.logger_.fine("Can not get responseText: "+a.message),""}};
goog.net.XhrIo.prototype.getResponseBody=function(){try{if(this.xhr_&&"responseBody"in this.xhr_)return this.xhr_.responseBody}catch(a){this.logger_.fine("Can not get responseBody: "+a.message)}return null};goog.net.XhrIo.prototype.getResponseXml=function(){try{return this.xhr_?this.xhr_.responseXML:null}catch(a){return this.logger_.fine("Can not get responseXML: "+a.message),null}};
goog.net.XhrIo.prototype.getResponseJson=function(a){if(this.xhr_){var b=this.xhr_.responseText;a&&0==b.indexOf(a)&&(b=b.substring(a.length));return goog.json.parse(b)}};
goog.net.XhrIo.prototype.getResponse=function(){try{if(!this.xhr_)return null;if("response"in this.xhr_)return this.xhr_.response;switch(this.responseType_){case goog.net.XhrIo.ResponseType.DEFAULT:case goog.net.XhrIo.ResponseType.TEXT:return this.xhr_.responseText;case goog.net.XhrIo.ResponseType.ARRAY_BUFFER:if("mozResponseArrayBuffer"in this.xhr_)return this.xhr_.mozResponseArrayBuffer}this.logger_.severe("Response type "+this.responseType_+" is not supported on this browser");return null}catch(a){return this.logger_.fine("Can not get response: "+
a.message),null}};goog.net.XhrIo.prototype.getResponseHeader=function(a){return this.xhr_&&this.isComplete()?this.xhr_.getResponseHeader(a):void 0};goog.net.XhrIo.prototype.getAllResponseHeaders=function(){return this.xhr_&&this.isComplete()?this.xhr_.getAllResponseHeaders():""};goog.net.XhrIo.prototype.getLastErrorCode=function(){return this.lastErrorCode_};goog.net.XhrIo.prototype.getLastError=function(){return goog.isString(this.lastError_)?this.lastError_:String(this.lastError_)};
goog.net.XhrIo.prototype.formatMsg_=function(a){return a+" ["+this.lastMethod_+" "+this.lastUri_+" "+this.getStatus()+"]"};goog.debug.entryPointRegistry.register(function(a){goog.net.XhrIo.prototype.onReadyStateChangeEntryPoint_=a(goog.net.XhrIo.prototype.onReadyStateChangeEntryPoint_)});goog.dom={};goog.dom.classes={};goog.dom.classes.set=function(a,b){a.className=b};goog.dom.classes.get=function(a){a=a.className;return goog.isString(a)&&a.match(/\S+/g)||[]};goog.dom.classes.add=function(a,b){var c=goog.dom.classes.get(a),d=goog.array.slice(arguments,1),e=c.length+d.length;goog.dom.classes.add_(c,d);goog.dom.classes.set(a,c.join(" "));return c.length==e};
goog.dom.classes.remove=function(a,b){var c=goog.dom.classes.get(a),d=goog.array.slice(arguments,1),e=goog.dom.classes.getDifference_(c,d);goog.dom.classes.set(a,e.join(" "));return e.length==c.length-d.length};goog.dom.classes.add_=function(a,b){for(var c=0;c<b.length;c++)goog.array.contains(a,b[c])||a.push(b[c])};goog.dom.classes.getDifference_=function(a,b){return goog.array.filter(a,function(a){return!goog.array.contains(b,a)})};
goog.dom.classes.swap=function(a,b,c){for(var d=goog.dom.classes.get(a),e=!1,f=0;f<d.length;f++)d[f]==b&&(goog.array.splice(d,f--,1),e=!0);e&&(d.push(c),goog.dom.classes.set(a,d.join(" ")));return e};goog.dom.classes.addRemove=function(a,b,c){var d=goog.dom.classes.get(a);goog.isString(b)?goog.array.remove(d,b):goog.isArray(b)&&(d=goog.dom.classes.getDifference_(d,b));goog.isString(c)&&!goog.array.contains(d,c)?d.push(c):goog.isArray(c)&&goog.dom.classes.add_(d,c);goog.dom.classes.set(a,d.join(" "))};
goog.dom.classes.has=function(a,b){return goog.array.contains(goog.dom.classes.get(a),b)};goog.dom.classes.enable=function(a,b,c){c?goog.dom.classes.add(a,b):goog.dom.classes.remove(a,b)};goog.dom.classes.toggle=function(a,b){var c=!goog.dom.classes.has(a,b);goog.dom.classes.enable(a,b,c);return c};goog.dom.TagName={A:"A",ABBR:"ABBR",ACRONYM:"ACRONYM",ADDRESS:"ADDRESS",APPLET:"APPLET",AREA:"AREA",ARTICLE:"ARTICLE",ASIDE:"ASIDE",AUDIO:"AUDIO",B:"B",BASE:"BASE",BASEFONT:"BASEFONT",BDI:"BDI",BDO:"BDO",BIG:"BIG",BLOCKQUOTE:"BLOCKQUOTE",BODY:"BODY",BR:"BR",BUTTON:"BUTTON",CANVAS:"CANVAS",CAPTION:"CAPTION",CENTER:"CENTER",CITE:"CITE",CODE:"CODE",COL:"COL",COLGROUP:"COLGROUP",COMMAND:"COMMAND",DATA:"DATA",DATALIST:"DATALIST",DD:"DD",DEL:"DEL",DETAILS:"DETAILS",DFN:"DFN",DIALOG:"DIALOG",DIR:"DIR",DIV:"DIV",
DL:"DL",DT:"DT",EM:"EM",EMBED:"EMBED",FIELDSET:"FIELDSET",FIGCAPTION:"FIGCAPTION",FIGURE:"FIGURE",FONT:"FONT",FOOTER:"FOOTER",FORM:"FORM",FRAME:"FRAME",FRAMESET:"FRAMESET",H1:"H1",H2:"H2",H3:"H3",H4:"H4",H5:"H5",H6:"H6",HEAD:"HEAD",HEADER:"HEADER",HGROUP:"HGROUP",HR:"HR",HTML:"HTML",I:"I",IFRAME:"IFRAME",IMG:"IMG",INPUT:"INPUT",INS:"INS",ISINDEX:"ISINDEX",KBD:"KBD",KEYGEN:"KEYGEN",LABEL:"LABEL",LEGEND:"LEGEND",LI:"LI",LINK:"LINK",MAP:"MAP",MARK:"MARK",MATH:"MATH",MENU:"MENU",META:"META",METER:"METER",
NAV:"NAV",NOFRAMES:"NOFRAMES",NOSCRIPT:"NOSCRIPT",OBJECT:"OBJECT",OL:"OL",OPTGROUP:"OPTGROUP",OPTION:"OPTION",OUTPUT:"OUTPUT",P:"P",PARAM:"PARAM",PRE:"PRE",PROGRESS:"PROGRESS",Q:"Q",RP:"RP",RT:"RT",RUBY:"RUBY",S:"S",SAMP:"SAMP",SCRIPT:"SCRIPT",SECTION:"SECTION",SELECT:"SELECT",SMALL:"SMALL",SOURCE:"SOURCE",SPAN:"SPAN",STRIKE:"STRIKE",STRONG:"STRONG",STYLE:"STYLE",SUB:"SUB",SUMMARY:"SUMMARY",SUP:"SUP",SVG:"SVG",TABLE:"TABLE",TBODY:"TBODY",TD:"TD",TEXTAREA:"TEXTAREA",TFOOT:"TFOOT",TH:"TH",THEAD:"THEAD",
TIME:"TIME",TITLE:"TITLE",TR:"TR",TRACK:"TRACK",TT:"TT",U:"U",UL:"UL",VAR:"VAR",VIDEO:"VIDEO",WBR:"WBR"};goog.math={};goog.math.Size=function(a,b){this.width=a;this.height=b};goog.math.Size.equals=function(a,b){return a==b?!0:a&&b?a.width==b.width&&a.height==b.height:!1};goog.math.Size.prototype.clone=function(){return new goog.math.Size(this.width,this.height)};goog.DEBUG&&(goog.math.Size.prototype.toString=function(){return"("+this.width+" x "+this.height+")"});goog.math.Size.prototype.getLongest=function(){return Math.max(this.width,this.height)};
goog.math.Size.prototype.getShortest=function(){return Math.min(this.width,this.height)};goog.math.Size.prototype.area=function(){return this.width*this.height};goog.math.Size.prototype.perimeter=function(){return 2*(this.width+this.height)};goog.math.Size.prototype.aspectRatio=function(){return this.width/this.height};goog.math.Size.prototype.isEmpty=function(){return!this.area()};goog.math.Size.prototype.ceil=function(){this.width=Math.ceil(this.width);this.height=Math.ceil(this.height);return this};
goog.math.Size.prototype.fitsInside=function(a){return this.width<=a.width&&this.height<=a.height};goog.math.Size.prototype.floor=function(){this.width=Math.floor(this.width);this.height=Math.floor(this.height);return this};goog.math.Size.prototype.round=function(){this.width=Math.round(this.width);this.height=Math.round(this.height);return this};goog.math.Size.prototype.scale=function(a,b){var c=goog.isNumber(b)?b:a;this.width*=a;this.height*=c;return this};
goog.math.Size.prototype.scaleToFit=function(a){a=this.aspectRatio()>a.aspectRatio()?a.width/this.width:a.height/this.height;return this.scale(a)};goog.dom.BrowserFeature={CAN_ADD_NAME_OR_TYPE_ATTRIBUTES:!goog.userAgent.IE||goog.userAgent.isDocumentMode(9),CAN_USE_CHILDREN_ATTRIBUTE:!goog.userAgent.GECKO&&!goog.userAgent.IE||goog.userAgent.IE&&goog.userAgent.isDocumentMode(9)||goog.userAgent.GECKO&&goog.userAgent.isVersion("1.9.1"),CAN_USE_INNER_TEXT:goog.userAgent.IE&&!goog.userAgent.isVersion("9"),CAN_USE_PARENT_ELEMENT_PROPERTY:goog.userAgent.IE||goog.userAgent.OPERA||goog.userAgent.WEBKIT,INNER_HTML_NEEDS_SCOPED_ELEMENT:goog.userAgent.IE};goog.math.randomInt=function(a){return Math.floor(Math.random()*a)};goog.math.uniformRandom=function(a,b){return a+Math.random()*(b-a)};goog.math.clamp=function(a,b,c){return Math.min(Math.max(a,b),c)};goog.math.modulo=function(a,b){var c=a%b;return 0>c*b?c+b:c};goog.math.lerp=function(a,b,c){return a+c*(b-a)};goog.math.nearlyEquals=function(a,b,c){return Math.abs(a-b)<=(c||1E-6)};goog.math.standardAngle=function(a){return goog.math.modulo(a,360)};
goog.math.toRadians=function(a){return a*Math.PI/180};goog.math.toDegrees=function(a){return 180*a/Math.PI};goog.math.angleDx=function(a,b){return b*Math.cos(goog.math.toRadians(a))};goog.math.angleDy=function(a,b){return b*Math.sin(goog.math.toRadians(a))};goog.math.angle=function(a,b,c,d){return goog.math.standardAngle(goog.math.toDegrees(Math.atan2(d-b,c-a)))};goog.math.angleDifference=function(a,b){var c=goog.math.standardAngle(b)-goog.math.standardAngle(a);180<c?c-=360:-180>=c&&(c=360+c);return c};
goog.math.sign=function(a){return 0==a?0:0>a?-1:1};goog.math.longestCommonSubsequence=function(a,b,c,d){c=c||function(a,b){return a==b};d=d||function(b,c){return a[b]};for(var e=a.length,f=b.length,g=[],h=0;h<e+1;h++)g[h]=[],g[h][0]=0;for(var k=0;k<f+1;k++)g[0][k]=0;for(h=1;h<=e;h++)for(k=1;k<=e;k++)c(a[h-1],b[k-1])?g[h][k]=g[h-1][k-1]+1:g[h][k]=Math.max(g[h-1][k],g[h][k-1]);for(var l=[],h=e,k=f;0<h&&0<k;)c(a[h-1],b[k-1])?(l.unshift(d(h-1,k-1)),h--,k--):g[h-1][k]>g[h][k-1]?h--:k--;return l};
goog.math.sum=function(a){return goog.array.reduce(arguments,function(a,c){return a+c},0)};goog.math.average=function(a){return goog.math.sum.apply(null,arguments)/arguments.length};goog.math.standardDeviation=function(a){var b=arguments.length;if(2>b)return 0;var c=goog.math.average.apply(null,arguments),b=goog.math.sum.apply(null,goog.array.map(arguments,function(a){return Math.pow(a-c,2)}))/(b-1);return Math.sqrt(b)};goog.math.isInt=function(a){return isFinite(a)&&0==a%1};
goog.math.isFiniteNumber=function(a){return isFinite(a)&&!isNaN(a)};goog.math.safeFloor=function(a,b){goog.asserts.assert(!goog.isDef(b)||0<b);return Math.floor(a+(b||2E-15))};goog.math.safeCeil=function(a,b){goog.asserts.assert(!goog.isDef(b)||0<b);return Math.ceil(a-(b||2E-15))};goog.math.Coordinate=function(a,b){this.x=goog.isDef(a)?a:0;this.y=goog.isDef(b)?b:0};goog.math.Coordinate.prototype.clone=function(){return new goog.math.Coordinate(this.x,this.y)};goog.DEBUG&&(goog.math.Coordinate.prototype.toString=function(){return"("+this.x+", "+this.y+")"});goog.math.Coordinate.equals=function(a,b){return a==b?!0:a&&b?a.x==b.x&&a.y==b.y:!1};goog.math.Coordinate.distance=function(a,b){var c=a.x-b.x,d=a.y-b.y;return Math.sqrt(c*c+d*d)};
goog.math.Coordinate.magnitude=function(a){return Math.sqrt(a.x*a.x+a.y*a.y)};goog.math.Coordinate.azimuth=function(a){return goog.math.angle(0,0,a.x,a.y)};goog.math.Coordinate.squaredDistance=function(a,b){var c=a.x-b.x,d=a.y-b.y;return c*c+d*d};goog.math.Coordinate.difference=function(a,b){return new goog.math.Coordinate(a.x-b.x,a.y-b.y)};goog.math.Coordinate.sum=function(a,b){return new goog.math.Coordinate(a.x+b.x,a.y+b.y)};
goog.math.Coordinate.prototype.ceil=function(){this.x=Math.ceil(this.x);this.y=Math.ceil(this.y);return this};goog.math.Coordinate.prototype.floor=function(){this.x=Math.floor(this.x);this.y=Math.floor(this.y);return this};goog.math.Coordinate.prototype.round=function(){this.x=Math.round(this.x);this.y=Math.round(this.y);return this};goog.math.Coordinate.prototype.translate=function(a,b){a instanceof goog.math.Coordinate?(this.x+=a.x,this.y+=a.y):(this.x+=a,goog.isNumber(b)&&(this.y+=b));return this};
goog.math.Coordinate.prototype.scale=function(a,b){var c=goog.isNumber(b)?b:a;this.x*=a;this.y*=c;return this};goog.dom.ASSUME_QUIRKS_MODE=!1;goog.dom.ASSUME_STANDARDS_MODE=!1;goog.dom.COMPAT_MODE_KNOWN_=goog.dom.ASSUME_QUIRKS_MODE||goog.dom.ASSUME_STANDARDS_MODE;goog.dom.NodeType={ELEMENT:1,ATTRIBUTE:2,TEXT:3,CDATA_SECTION:4,ENTITY_REFERENCE:5,ENTITY:6,PROCESSING_INSTRUCTION:7,COMMENT:8,DOCUMENT:9,DOCUMENT_TYPE:10,DOCUMENT_FRAGMENT:11,NOTATION:12};goog.dom.getDomHelper=function(a){return a?new goog.dom.DomHelper(goog.dom.getOwnerDocument(a)):goog.dom.defaultDomHelper_||(goog.dom.defaultDomHelper_=new goog.dom.DomHelper)};
goog.dom.getDocument=function(){return document};goog.dom.getElement=function(a){return goog.isString(a)?document.getElementById(a):a};goog.dom.$=goog.dom.getElement;goog.dom.getElementsByTagNameAndClass=function(a,b,c){return goog.dom.getElementsByTagNameAndClass_(document,a,b,c)};
goog.dom.getElementsByClass=function(a,b){var c=b||document;return goog.dom.canUseQuerySelector_(c)?c.querySelectorAll("."+a):c.getElementsByClassName?c.getElementsByClassName(a):goog.dom.getElementsByTagNameAndClass_(document,"*",a,b)};goog.dom.getElementByClass=function(a,b){var c=b||document,d=null;return(d=goog.dom.canUseQuerySelector_(c)?c.querySelector("."+a):goog.dom.getElementsByClass(a,b)[0])||null};goog.dom.canUseQuerySelector_=function(a){return!(!a.querySelectorAll||!a.querySelector)};
goog.dom.getElementsByTagNameAndClass_=function(a,b,c,d){a=d||a;b=b&&"*"!=b?b.toUpperCase():"";if(goog.dom.canUseQuerySelector_(a)&&(b||c))return a.querySelectorAll(b+(c?"."+c:""));if(c&&a.getElementsByClassName){a=a.getElementsByClassName(c);if(b){d={};for(var e=0,f=0,g;g=a[f];f++)b==g.nodeName&&(d[e++]=g);d.length=e;return d}return a}a=a.getElementsByTagName(b||"*");if(c){d={};for(f=e=0;g=a[f];f++)b=g.className,"function"==typeof b.split&&goog.array.contains(b.split(/\s+/),c)&&(d[e++]=g);d.length=
e;return d}return a};goog.dom.$$=goog.dom.getElementsByTagNameAndClass;goog.dom.setProperties=function(a,b){goog.object.forEach(b,function(b,d){"style"==d?a.style.cssText=b:"class"==d?a.className=b:"for"==d?a.htmlFor=b:d in goog.dom.DIRECT_ATTRIBUTE_MAP_?a.setAttribute(goog.dom.DIRECT_ATTRIBUTE_MAP_[d],b):goog.string.startsWith(d,"aria-")||goog.string.startsWith(d,"data-")?a.setAttribute(d,b):a[d]=b})};
goog.dom.DIRECT_ATTRIBUTE_MAP_={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};goog.dom.getViewportSize=function(a){return goog.dom.getViewportSize_(a||window)};goog.dom.getViewportSize_=function(a){a=a.document;a=goog.dom.isCss1CompatMode_(a)?a.documentElement:a.body;return new goog.math.Size(a.clientWidth,a.clientHeight)};
goog.dom.getDocumentHeight=function(){return goog.dom.getDocumentHeight_(window)};goog.dom.getDocumentHeight_=function(a){var b=a.document,c=0;if(b){a=goog.dom.getViewportSize_(a).height;var c=b.body,d=b.documentElement;if(goog.dom.isCss1CompatMode_(b)&&d.scrollHeight)c=d.scrollHeight!=a?d.scrollHeight:d.offsetHeight;else{var b=d.scrollHeight,e=d.offsetHeight;d.clientHeight!=e&&(b=c.scrollHeight,e=c.offsetHeight);c=b>a?b>e?b:e:b<e?b:e}}return c};
goog.dom.getPageScroll=function(a){return goog.dom.getDomHelper((a||goog.global||window).document).getDocumentScroll()};goog.dom.getDocumentScroll=function(){return goog.dom.getDocumentScroll_(document)};
goog.dom.getDocumentScroll_=function(a){var b=goog.dom.getDocumentScrollElement_(a);a=goog.dom.getWindow_(a);return goog.userAgent.IE&&goog.userAgent.isVersion("10")&&a.pageYOffset!=b.scrollTop?new goog.math.Coordinate(b.scrollLeft,b.scrollTop):new goog.math.Coordinate(a.pageXOffset||b.scrollLeft,a.pageYOffset||b.scrollTop)};goog.dom.getDocumentScrollElement=function(){return goog.dom.getDocumentScrollElement_(document)};
goog.dom.getDocumentScrollElement_=function(a){return!goog.userAgent.WEBKIT&&goog.dom.isCss1CompatMode_(a)?a.documentElement:a.body};goog.dom.getWindow=function(a){return a?goog.dom.getWindow_(a):window};goog.dom.getWindow_=function(a){return a.parentWindow||a.defaultView};goog.dom.createDom=function(a,b,c){return goog.dom.createDom_(document,arguments)};
goog.dom.createDom_=function(a,b){var c=b[0],d=b[1];if(!goog.dom.BrowserFeature.CAN_ADD_NAME_OR_TYPE_ATTRIBUTES&&d&&(d.name||d.type)){c=["<",c];d.name&&c.push(' name="',goog.string.htmlEscape(d.name),'"');if(d.type){c.push(' type="',goog.string.htmlEscape(d.type),'"');var e={};goog.object.extend(e,d);delete e.type;d=e}c.push(">");c=c.join("")}c=a.createElement(c);d&&(goog.isString(d)?c.className=d:goog.isArray(d)?goog.dom.classes.add.apply(null,[c].concat(d)):goog.dom.setProperties(c,d));2<b.length&&
goog.dom.append_(a,c,b,2);return c};goog.dom.append_=function(a,b,c,d){function e(c){c&&b.appendChild(goog.isString(c)?a.createTextNode(c):c)}for(;d<c.length;d++){var f=c[d];goog.isArrayLike(f)&&!goog.dom.isNodeLike(f)?goog.array.forEach(goog.dom.isNodeList(f)?goog.array.toArray(f):f,e):e(f)}};goog.dom.$dom=goog.dom.createDom;goog.dom.createElement=function(a){return document.createElement(a)};goog.dom.createTextNode=function(a){return document.createTextNode(String(a))};
goog.dom.createTable=function(a,b,c){return goog.dom.createTable_(document,a,b,!!c)};goog.dom.createTable_=function(a,b,c,d){for(var e=["<tr>"],f=0;f<c;f++)e.push(d?"<td>&nbsp;</td>":"<td></td>");e.push("</tr>");e=e.join("");c=["<table>"];for(f=0;f<b;f++)c.push(e);c.push("</table>");a=a.createElement(goog.dom.TagName.DIV);a.innerHTML=c.join("");return a.removeChild(a.firstChild)};goog.dom.htmlToDocumentFragment=function(a){return goog.dom.htmlToDocumentFragment_(document,a)};
goog.dom.htmlToDocumentFragment_=function(a,b){var c=a.createElement("div");goog.dom.BrowserFeature.INNER_HTML_NEEDS_SCOPED_ELEMENT?(c.innerHTML="<br>"+b,c.removeChild(c.firstChild)):c.innerHTML=b;if(1==c.childNodes.length)return c.removeChild(c.firstChild);for(var d=a.createDocumentFragment();c.firstChild;)d.appendChild(c.firstChild);return d};goog.dom.getCompatMode=function(){return goog.dom.isCss1CompatMode()?"CSS1Compat":"BackCompat"};goog.dom.isCss1CompatMode=function(){return goog.dom.isCss1CompatMode_(document)};
goog.dom.isCss1CompatMode_=function(a){return goog.dom.COMPAT_MODE_KNOWN_?goog.dom.ASSUME_STANDARDS_MODE:"CSS1Compat"==a.compatMode};goog.dom.canHaveChildren=function(a){if(a.nodeType!=goog.dom.NodeType.ELEMENT)return!1;switch(a.tagName){case goog.dom.TagName.APPLET:case goog.dom.TagName.AREA:case goog.dom.TagName.BASE:case goog.dom.TagName.BR:case goog.dom.TagName.COL:case goog.dom.TagName.COMMAND:case goog.dom.TagName.EMBED:case goog.dom.TagName.FRAME:case goog.dom.TagName.HR:case goog.dom.TagName.IMG:case goog.dom.TagName.INPUT:case goog.dom.TagName.IFRAME:case goog.dom.TagName.ISINDEX:case goog.dom.TagName.KEYGEN:case goog.dom.TagName.LINK:case goog.dom.TagName.NOFRAMES:case goog.dom.TagName.NOSCRIPT:case goog.dom.TagName.META:case goog.dom.TagName.OBJECT:case goog.dom.TagName.PARAM:case goog.dom.TagName.SCRIPT:case goog.dom.TagName.SOURCE:case goog.dom.TagName.STYLE:case goog.dom.TagName.TRACK:case goog.dom.TagName.WBR:return!1}return!0};
goog.dom.appendChild=function(a,b){a.appendChild(b)};goog.dom.append=function(a,b){goog.dom.append_(goog.dom.getOwnerDocument(a),a,arguments,1)};goog.dom.removeChildren=function(a){for(var b;b=a.firstChild;)a.removeChild(b)};goog.dom.insertSiblingBefore=function(a,b){b.parentNode&&b.parentNode.insertBefore(a,b)};goog.dom.insertSiblingAfter=function(a,b){b.parentNode&&b.parentNode.insertBefore(a,b.nextSibling)};goog.dom.insertChildAt=function(a,b,c){a.insertBefore(b,a.childNodes[c]||null)};
goog.dom.removeNode=function(a){return a&&a.parentNode?a.parentNode.removeChild(a):null};goog.dom.replaceNode=function(a,b){var c=b.parentNode;c&&c.replaceChild(a,b)};goog.dom.flattenElement=function(a){var b,c=a.parentNode;if(c&&c.nodeType!=goog.dom.NodeType.DOCUMENT_FRAGMENT){if(a.removeNode)return a.removeNode(!1);for(;b=a.firstChild;)c.insertBefore(b,a);return goog.dom.removeNode(a)}};
goog.dom.getChildren=function(a){return goog.dom.BrowserFeature.CAN_USE_CHILDREN_ATTRIBUTE&&void 0!=a.children?a.children:goog.array.filter(a.childNodes,function(a){return a.nodeType==goog.dom.NodeType.ELEMENT})};goog.dom.getFirstElementChild=function(a){return void 0!=a.firstElementChild?a.firstElementChild:goog.dom.getNextElementNode_(a.firstChild,!0)};goog.dom.getLastElementChild=function(a){return void 0!=a.lastElementChild?a.lastElementChild:goog.dom.getNextElementNode_(a.lastChild,!1)};
goog.dom.getNextElementSibling=function(a){return void 0!=a.nextElementSibling?a.nextElementSibling:goog.dom.getNextElementNode_(a.nextSibling,!0)};goog.dom.getPreviousElementSibling=function(a){return void 0!=a.previousElementSibling?a.previousElementSibling:goog.dom.getNextElementNode_(a.previousSibling,!1)};goog.dom.getNextElementNode_=function(a,b){for(;a&&a.nodeType!=goog.dom.NodeType.ELEMENT;)a=b?a.nextSibling:a.previousSibling;return a};
goog.dom.getNextNode=function(a){if(!a)return null;if(a.firstChild)return a.firstChild;for(;a&&!a.nextSibling;)a=a.parentNode;return a?a.nextSibling:null};goog.dom.getPreviousNode=function(a){if(!a)return null;if(!a.previousSibling)return a.parentNode;for(a=a.previousSibling;a&&a.lastChild;)a=a.lastChild;return a};goog.dom.isNodeLike=function(a){return goog.isObject(a)&&0<a.nodeType};goog.dom.isElement=function(a){return goog.isObject(a)&&a.nodeType==goog.dom.NodeType.ELEMENT};
goog.dom.isWindow=function(a){return goog.isObject(a)&&a.window==a};goog.dom.getParentElement=function(a){if(goog.dom.BrowserFeature.CAN_USE_PARENT_ELEMENT_PROPERTY)return a.parentElement;a=a.parentNode;return goog.dom.isElement(a)?a:null};goog.dom.contains=function(a,b){if(a.contains&&b.nodeType==goog.dom.NodeType.ELEMENT)return a==b||a.contains(b);if("undefined"!=typeof a.compareDocumentPosition)return a==b||Boolean(a.compareDocumentPosition(b)&16);for(;b&&a!=b;)b=b.parentNode;return b==a};
goog.dom.compareNodeOrder=function(a,b){if(a==b)return 0;if(a.compareDocumentPosition)return a.compareDocumentPosition(b)&2?1:-1;if(goog.userAgent.IE&&!goog.userAgent.isDocumentMode(9)){if(a.nodeType==goog.dom.NodeType.DOCUMENT)return-1;if(b.nodeType==goog.dom.NodeType.DOCUMENT)return 1}if("sourceIndex"in a||a.parentNode&&"sourceIndex"in a.parentNode){var c=a.nodeType==goog.dom.NodeType.ELEMENT,d=b.nodeType==goog.dom.NodeType.ELEMENT;if(c&&d)return a.sourceIndex-b.sourceIndex;var e=a.parentNode,f=
b.parentNode;return e==f?goog.dom.compareSiblingOrder_(a,b):!c&&goog.dom.contains(e,b)?-1*goog.dom.compareParentsDescendantNodeIe_(a,b):!d&&goog.dom.contains(f,a)?goog.dom.compareParentsDescendantNodeIe_(b,a):(c?a.sourceIndex:e.sourceIndex)-(d?b.sourceIndex:f.sourceIndex)}d=goog.dom.getOwnerDocument(a);c=d.createRange();c.selectNode(a);c.collapse(!0);d=d.createRange();d.selectNode(b);d.collapse(!0);return c.compareBoundaryPoints(goog.global.Range.START_TO_END,d)};
goog.dom.compareParentsDescendantNodeIe_=function(a,b){var c=a.parentNode;if(c==b)return-1;for(var d=b;d.parentNode!=c;)d=d.parentNode;return goog.dom.compareSiblingOrder_(d,a)};goog.dom.compareSiblingOrder_=function(a,b){for(var c=b;c=c.previousSibling;)if(c==a)return-1;return 1};
goog.dom.findCommonAncestor=function(a){var b,c=arguments.length;if(!c)return null;if(1==c)return arguments[0];var d=[],e=Infinity;for(b=0;b<c;b++){for(var f=[],g=arguments[b];g;)f.unshift(g),g=g.parentNode;d.push(f);e=Math.min(e,f.length)}f=null;for(b=0;b<e;b++){for(var g=d[0][b],h=1;h<c;h++)if(g!=d[h][b])return f;f=g}return f};goog.dom.getOwnerDocument=function(a){return a.nodeType==goog.dom.NodeType.DOCUMENT?a:a.ownerDocument||a.document};
goog.dom.getFrameContentDocument=function(a){return a.contentDocument||a.contentWindow.document};goog.dom.getFrameContentWindow=function(a){return a.contentWindow||goog.dom.getWindow_(goog.dom.getFrameContentDocument(a))};
goog.dom.setTextContent=function(a,b){if("textContent"in a)a.textContent=b;else if(a.firstChild&&a.firstChild.nodeType==goog.dom.NodeType.TEXT){for(;a.lastChild!=a.firstChild;)a.removeChild(a.lastChild);a.firstChild.data=b}else{goog.dom.removeChildren(a);var c=goog.dom.getOwnerDocument(a);a.appendChild(c.createTextNode(String(b)))}};goog.dom.getOuterHtml=function(a){if("outerHTML"in a)return a.outerHTML;var b=goog.dom.getOwnerDocument(a).createElement("div");b.appendChild(a.cloneNode(!0));return b.innerHTML};
goog.dom.findNode=function(a,b){var c=[];return goog.dom.findNodes_(a,b,c,!0)?c[0]:void 0};goog.dom.findNodes=function(a,b){var c=[];goog.dom.findNodes_(a,b,c,!1);return c};goog.dom.findNodes_=function(a,b,c,d){if(null!=a)for(a=a.firstChild;a;){if(b(a)&&(c.push(a),d)||goog.dom.findNodes_(a,b,c,d))return!0;a=a.nextSibling}return!1};goog.dom.TAGS_TO_IGNORE_={SCRIPT:1,STYLE:1,HEAD:1,IFRAME:1,OBJECT:1};goog.dom.PREDEFINED_TAG_VALUES_={IMG:" ",BR:"\n"};
goog.dom.isFocusableTabIndex=function(a){var b=a.getAttributeNode("tabindex");return b&&b.specified?(a=a.tabIndex,goog.isNumber(a)&&0<=a&&32768>a):!1};goog.dom.setFocusableTabIndex=function(a,b){b?a.tabIndex=0:(a.tabIndex=-1,a.removeAttribute("tabIndex"))};
goog.dom.getTextContent=function(a){if(goog.dom.BrowserFeature.CAN_USE_INNER_TEXT&&"innerText"in a)a=goog.string.canonicalizeNewlines(a.innerText);else{var b=[];goog.dom.getTextContent_(a,b,!0);a=b.join("")}a=a.replace(/ \xAD /g," ").replace(/\xAD/g,"");a=a.replace(/\u200B/g,"");goog.dom.BrowserFeature.CAN_USE_INNER_TEXT||(a=a.replace(/ +/g," "));" "!=a&&(a=a.replace(/^\s*/,""));return a};goog.dom.getRawTextContent=function(a){var b=[];goog.dom.getTextContent_(a,b,!1);return b.join("")};
goog.dom.getTextContent_=function(a,b,c){if(!(a.nodeName in goog.dom.TAGS_TO_IGNORE_))if(a.nodeType==goog.dom.NodeType.TEXT)c?b.push(String(a.nodeValue).replace(/(\r\n|\r|\n)/g,"")):b.push(a.nodeValue);else if(a.nodeName in goog.dom.PREDEFINED_TAG_VALUES_)b.push(goog.dom.PREDEFINED_TAG_VALUES_[a.nodeName]);else for(a=a.firstChild;a;)goog.dom.getTextContent_(a,b,c),a=a.nextSibling};goog.dom.getNodeTextLength=function(a){return goog.dom.getTextContent(a).length};
goog.dom.getNodeTextOffset=function(a,b){for(var c=b||goog.dom.getOwnerDocument(a).body,d=[];a&&a!=c;){for(var e=a;e=e.previousSibling;)d.unshift(goog.dom.getTextContent(e));a=a.parentNode}return goog.string.trimLeft(d.join("")).replace(/ +/g," ").length};
goog.dom.getNodeAtOffset=function(a,b,c){a=[a];for(var d=0,e=null;0<a.length&&d<b;)if(e=a.pop(),!(e.nodeName in goog.dom.TAGS_TO_IGNORE_))if(e.nodeType==goog.dom.NodeType.TEXT)var f=e.nodeValue.replace(/(\r\n|\r|\n)/g,"").replace(/ +/g," "),d=d+f.length;else if(e.nodeName in goog.dom.PREDEFINED_TAG_VALUES_)d+=goog.dom.PREDEFINED_TAG_VALUES_[e.nodeName].length;else for(f=e.childNodes.length-1;0<=f;f--)a.push(e.childNodes[f]);goog.isObject(c)&&(c.remainder=e?e.nodeValue.length+b-d-1:0,c.node=e);return e};
goog.dom.isNodeList=function(a){if(a&&"number"==typeof a.length){if(goog.isObject(a))return"function"==typeof a.item||"string"==typeof a.item;if(goog.isFunction(a))return"function"==typeof a.item}return!1};goog.dom.getAncestorByTagNameAndClass=function(a,b,c){if(!b&&!c)return null;var d=b?b.toUpperCase():null;return goog.dom.getAncestor(a,function(a){return(!d||a.nodeName==d)&&(!c||goog.dom.classes.has(a,c))},!0)};
goog.dom.getAncestorByClass=function(a,b){return goog.dom.getAncestorByTagNameAndClass(a,null,b)};goog.dom.getAncestor=function(a,b,c,d){c||(a=a.parentNode);c=null==d;for(var e=0;a&&(c||e<=d);){if(b(a))return a;a=a.parentNode;e++}return null};goog.dom.getActiveElement=function(a){try{return a&&a.activeElement}catch(b){}return null};goog.dom.DomHelper=function(a){this.document_=a||goog.global.document||document};goog.dom.DomHelper.prototype.getDomHelper=goog.dom.getDomHelper;
goog.dom.DomHelper.prototype.setDocument=function(a){this.document_=a};goog.dom.DomHelper.prototype.getDocument=function(){return this.document_};goog.dom.DomHelper.prototype.getElement=function(a){return goog.isString(a)?this.document_.getElementById(a):a};goog.dom.DomHelper.prototype.$=goog.dom.DomHelper.prototype.getElement;goog.dom.DomHelper.prototype.getElementsByTagNameAndClass=function(a,b,c){return goog.dom.getElementsByTagNameAndClass_(this.document_,a,b,c)};
goog.dom.DomHelper.prototype.getElementsByClass=function(a,b){return goog.dom.getElementsByClass(a,b||this.document_)};goog.dom.DomHelper.prototype.getElementByClass=function(a,b){return goog.dom.getElementByClass(a,b||this.document_)};goog.dom.DomHelper.prototype.$$=goog.dom.DomHelper.prototype.getElementsByTagNameAndClass;goog.dom.DomHelper.prototype.setProperties=goog.dom.setProperties;goog.dom.DomHelper.prototype.getViewportSize=function(a){return goog.dom.getViewportSize(a||this.getWindow())};
goog.dom.DomHelper.prototype.getDocumentHeight=function(){return goog.dom.getDocumentHeight_(this.getWindow())};goog.dom.DomHelper.prototype.createDom=function(a,b,c){return goog.dom.createDom_(this.document_,arguments)};goog.dom.DomHelper.prototype.$dom=goog.dom.DomHelper.prototype.createDom;goog.dom.DomHelper.prototype.createElement=function(a){return this.document_.createElement(a)};goog.dom.DomHelper.prototype.createTextNode=function(a){return this.document_.createTextNode(String(a))};
goog.dom.DomHelper.prototype.createTable=function(a,b,c){return goog.dom.createTable_(this.document_,a,b,!!c)};goog.dom.DomHelper.prototype.htmlToDocumentFragment=function(a){return goog.dom.htmlToDocumentFragment_(this.document_,a)};goog.dom.DomHelper.prototype.getCompatMode=function(){return this.isCss1CompatMode()?"CSS1Compat":"BackCompat"};goog.dom.DomHelper.prototype.isCss1CompatMode=function(){return goog.dom.isCss1CompatMode_(this.document_)};goog.dom.DomHelper.prototype.getWindow=function(){return goog.dom.getWindow_(this.document_)};
goog.dom.DomHelper.prototype.getDocumentScrollElement=function(){return goog.dom.getDocumentScrollElement_(this.document_)};goog.dom.DomHelper.prototype.getDocumentScroll=function(){return goog.dom.getDocumentScroll_(this.document_)};goog.dom.DomHelper.prototype.getActiveElement=function(a){return goog.dom.getActiveElement(a||this.document_)};goog.dom.DomHelper.prototype.appendChild=goog.dom.appendChild;goog.dom.DomHelper.prototype.append=goog.dom.append;
goog.dom.DomHelper.prototype.canHaveChildren=goog.dom.canHaveChildren;goog.dom.DomHelper.prototype.removeChildren=goog.dom.removeChildren;goog.dom.DomHelper.prototype.insertSiblingBefore=goog.dom.insertSiblingBefore;goog.dom.DomHelper.prototype.insertSiblingAfter=goog.dom.insertSiblingAfter;goog.dom.DomHelper.prototype.insertChildAt=goog.dom.insertChildAt;goog.dom.DomHelper.prototype.removeNode=goog.dom.removeNode;goog.dom.DomHelper.prototype.replaceNode=goog.dom.replaceNode;
goog.dom.DomHelper.prototype.flattenElement=goog.dom.flattenElement;goog.dom.DomHelper.prototype.getChildren=goog.dom.getChildren;goog.dom.DomHelper.prototype.getFirstElementChild=goog.dom.getFirstElementChild;goog.dom.DomHelper.prototype.getLastElementChild=goog.dom.getLastElementChild;goog.dom.DomHelper.prototype.getNextElementSibling=goog.dom.getNextElementSibling;goog.dom.DomHelper.prototype.getPreviousElementSibling=goog.dom.getPreviousElementSibling;
goog.dom.DomHelper.prototype.getNextNode=goog.dom.getNextNode;goog.dom.DomHelper.prototype.getPreviousNode=goog.dom.getPreviousNode;goog.dom.DomHelper.prototype.isNodeLike=goog.dom.isNodeLike;goog.dom.DomHelper.prototype.isElement=goog.dom.isElement;goog.dom.DomHelper.prototype.isWindow=goog.dom.isWindow;goog.dom.DomHelper.prototype.getParentElement=goog.dom.getParentElement;goog.dom.DomHelper.prototype.contains=goog.dom.contains;goog.dom.DomHelper.prototype.compareNodeOrder=goog.dom.compareNodeOrder;
goog.dom.DomHelper.prototype.findCommonAncestor=goog.dom.findCommonAncestor;goog.dom.DomHelper.prototype.getOwnerDocument=goog.dom.getOwnerDocument;goog.dom.DomHelper.prototype.getFrameContentDocument=goog.dom.getFrameContentDocument;goog.dom.DomHelper.prototype.getFrameContentWindow=goog.dom.getFrameContentWindow;goog.dom.DomHelper.prototype.setTextContent=goog.dom.setTextContent;goog.dom.DomHelper.prototype.getOuterHtml=goog.dom.getOuterHtml;goog.dom.DomHelper.prototype.findNode=goog.dom.findNode;
goog.dom.DomHelper.prototype.findNodes=goog.dom.findNodes;goog.dom.DomHelper.prototype.isFocusableTabIndex=goog.dom.isFocusableTabIndex;goog.dom.DomHelper.prototype.setFocusableTabIndex=goog.dom.setFocusableTabIndex;goog.dom.DomHelper.prototype.getTextContent=goog.dom.getTextContent;goog.dom.DomHelper.prototype.getNodeTextLength=goog.dom.getNodeTextLength;goog.dom.DomHelper.prototype.getNodeTextOffset=goog.dom.getNodeTextOffset;goog.dom.DomHelper.prototype.getNodeAtOffset=goog.dom.getNodeAtOffset;
goog.dom.DomHelper.prototype.isNodeList=goog.dom.isNodeList;goog.dom.DomHelper.prototype.getAncestorByTagNameAndClass=goog.dom.getAncestorByTagNameAndClass;goog.dom.DomHelper.prototype.getAncestorByClass=goog.dom.getAncestorByClass;goog.dom.DomHelper.prototype.getAncestor=goog.dom.getAncestor;goog.net.IframeIo=function(){goog.events.EventTarget.call(this);this.name_=goog.net.IframeIo.getNextName_();this.iframesForDisposal_=[];goog.net.IframeIo.instances_[this.name_]=this};goog.inherits(goog.net.IframeIo,goog.events.EventTarget);goog.net.IframeIo.instances_={};goog.net.IframeIo.FRAME_NAME_PREFIX="closure_frame";goog.net.IframeIo.INNER_FRAME_SUFFIX="_inner";goog.net.IframeIo.IFRAME_DISPOSE_DELAY_MS=2E3;goog.net.IframeIo.counter_=0;
goog.net.IframeIo.send=function(a,b,c,d,e){var f=new goog.net.IframeIo;goog.events.listen(f,goog.net.EventType.READY,f.dispose,!1,f);b&&goog.events.listen(f,goog.net.EventType.COMPLETE,b);f.send(a,c,d,e)};goog.net.IframeIo.getIframeByName=function(a){return window.frames[a]};goog.net.IframeIo.getInstanceByName=function(a){return goog.net.IframeIo.instances_[a]};
goog.net.IframeIo.handleIncrementalData=function(a,b){var c=goog.string.endsWith(a.name,goog.net.IframeIo.INNER_FRAME_SUFFIX)?a.parent.name:a.name,d=c.substring(0,c.lastIndexOf("_"));(d=goog.net.IframeIo.getInstanceByName(d))&&c==d.iframeName_?d.handleIncrementalData_(b):goog.debug.Logger.getLogger("goog.net.IframeIo").info("Incremental iframe data routed for unknown iframe")};goog.net.IframeIo.getNextName_=function(){return goog.net.IframeIo.FRAME_NAME_PREFIX+goog.net.IframeIo.counter_++};
goog.net.IframeIo.getForm_=function(){if(!goog.net.IframeIo.form_){goog.net.IframeIo.form_=goog.dom.createDom("form");goog.net.IframeIo.form_.acceptCharset="utf-8";var a=goog.net.IframeIo.form_.style;a.position="absolute";a.visibility="hidden";a.top=a.left="-10px";a.width=a.height="10px";a.overflow="hidden";goog.dom.getDocument().body.appendChild(goog.net.IframeIo.form_)}return goog.net.IframeIo.form_};
goog.net.IframeIo.addFormInputs_=function(a,b){var c=goog.dom.getDomHelper(a);goog.structs.forEach(b,function(b,e){var f=c.createDom("input",{type:"hidden",name:e,value:b});a.appendChild(f)})};goog.net.IframeIo.prototype.logger_=goog.debug.Logger.getLogger("goog.net.IframeIo");goog.net.IframeIo.prototype.form_=null;goog.net.IframeIo.prototype.iframe_=null;goog.net.IframeIo.prototype.iframeName_=null;goog.net.IframeIo.prototype.nextIframeId_=0;goog.net.IframeIo.prototype.active_=!1;
goog.net.IframeIo.prototype.complete_=!1;goog.net.IframeIo.prototype.success_=!1;goog.net.IframeIo.prototype.lastUri_=null;goog.net.IframeIo.prototype.lastContent_=null;goog.net.IframeIo.prototype.lastErrorCode_=goog.net.ErrorCode.NO_ERROR;goog.net.IframeIo.prototype.timeoutInterval_=0;goog.net.IframeIo.prototype.timeoutId_=null;goog.net.IframeIo.prototype.firefoxSilentErrorTimeout_=null;goog.net.IframeIo.prototype.iframeDisposalTimer_=null;goog.net.IframeIo.prototype.ignoreResponse_=!1;
goog.net.IframeIo.prototype.send=function(a,b,c,d){if(this.active_)throw Error("[goog.net.IframeIo] Unable to send, already active.");this.lastUri_=a=new goog.Uri(a);b=b?b.toUpperCase():"GET";c&&a.makeUnique();this.logger_.info("Sending iframe request: "+a+" ["+b+"]");this.form_=goog.net.IframeIo.getForm_();"GET"==b&&goog.net.IframeIo.addFormInputs_(this.form_,a.getQueryData());d&&goog.net.IframeIo.addFormInputs_(this.form_,d);this.form_.action=a.toString();this.form_.method=b;this.sendFormInternal_()};
goog.net.IframeIo.prototype.sendFromForm=function(a,b,c){if(this.active_)throw Error("[goog.net.IframeIo] Unable to send, already active.");b=new goog.Uri(b||a.action);c&&b.makeUnique();this.logger_.info("Sending iframe request from form: "+b);this.lastUri_=b;this.form_=a;this.form_.action=b.toString();this.sendFormInternal_()};
goog.net.IframeIo.prototype.abort=function(a){this.active_&&(this.logger_.info("Request aborted"),goog.events.removeAll(this.getRequestIframe()),this.success_=this.active_=this.complete_=!1,this.lastErrorCode_=a||goog.net.ErrorCode.ABORT,this.dispatchEvent(goog.net.EventType.ABORT),this.makeReady_())};
goog.net.IframeIo.prototype.disposeInternal=function(){this.logger_.fine("Disposing iframeIo instance");this.active_&&(this.logger_.fine("Aborting active request"),this.abort());goog.net.IframeIo.superClass_.disposeInternal.call(this);this.iframe_&&this.scheduleIframeDisposal_();this.disposeForm_();delete this.errorChecker_;this.lastUri_=this.lastCustomError_=this.lastContent_=this.lastContentHtml_=this.form_=null;this.lastErrorCode_=goog.net.ErrorCode.NO_ERROR;delete goog.net.IframeIo.instances_[this.name_]};
goog.net.IframeIo.prototype.isComplete=function(){return this.complete_};goog.net.IframeIo.prototype.isSuccess=function(){return this.success_};goog.net.IframeIo.prototype.isActive=function(){return this.active_};goog.net.IframeIo.prototype.getResponseText=function(){return this.lastContent_};goog.net.IframeIo.prototype.getResponseHtml=function(){return this.lastContentHtml_};goog.net.IframeIo.prototype.getResponseJson=function(){return goog.json.parse(this.lastContent_)};
goog.net.IframeIo.prototype.getResponseXml=function(){return this.iframe_?this.getContentDocument_():null};goog.net.IframeIo.prototype.getLastUri=function(){return this.lastUri_};goog.net.IframeIo.prototype.getLastErrorCode=function(){return this.lastErrorCode_};goog.net.IframeIo.prototype.getLastError=function(){return goog.net.ErrorCode.getDebugMessage(this.lastErrorCode_)};goog.net.IframeIo.prototype.getLastCustomError=function(){return this.lastCustomError_};
goog.net.IframeIo.prototype.setErrorChecker=function(a){this.errorChecker_=a};goog.net.IframeIo.prototype.getErrorChecker=function(){return this.errorChecker_};goog.net.IframeIo.prototype.getTimeoutInterval=function(){return this.timeoutInterval_};goog.net.IframeIo.prototype.setTimeoutInterval=function(a){this.timeoutInterval_=Math.max(0,a)};goog.net.IframeIo.prototype.isIgnoringResponse=function(){return this.ignoreResponse_};
goog.net.IframeIo.prototype.setIgnoreResponse=function(a){this.ignoreResponse_=a};
goog.net.IframeIo.prototype.sendFormInternal_=function(){this.active_=!0;this.complete_=!1;this.lastErrorCode_=goog.net.ErrorCode.NO_ERROR;this.createIframe_();if(goog.userAgent.IE){this.form_.target=this.iframeName_||"";this.appendIframe_();this.ignoreResponse_||goog.events.listen(this.iframe_,goog.events.EventType.READYSTATECHANGE,this.onIeReadyStateChange_,!1,this);try{this.errorHandled_=!1,this.form_.submit()}catch(a){this.ignoreResponse_||goog.events.unlisten(this.iframe_,goog.events.EventType.READYSTATECHANGE,
this.onIeReadyStateChange_,!1,this),this.handleError_(goog.net.ErrorCode.ACCESS_DENIED)}}else{this.logger_.fine("Setting up iframes and cloning form");this.appendIframe_();var b=this.iframeName_+goog.net.IframeIo.INNER_FRAME_SUFFIX,c=goog.dom.getFrameContentDocument(this.iframe_),d="<body><iframe id="+b+" name="+b+"></iframe>";document.baseURI&&(d='<head><base href="'+goog.string.htmlEscape(document.baseURI)+'"></head>'+d);goog.userAgent.OPERA?c.documentElement.innerHTML=d:c.write(d);this.ignoreResponse_||
goog.events.listen(c.getElementById(b),goog.events.EventType.LOAD,this.onIframeLoaded_,!1,this);for(var e=this.form_.getElementsByTagName("textarea"),d=0,f=e.length;d<f;d++){var g=e[d].value;goog.dom.getRawTextContent(e[d])!=g&&(goog.dom.setTextContent(e[d],g),e[d].value=g)}e=c.importNode(this.form_,!0);e.target=b;e.action=this.form_.action;c.body.appendChild(e);for(var g=this.form_.getElementsByTagName("select"),h=e.getElementsByTagName("select"),d=0,f=g.length;d<f;d++)for(var k=g[d].getElementsByTagName("option"),
l=h[d].getElementsByTagName("option"),m=0,n=k.length;m<n;m++)l[m].selected=k[m].selected;g=this.form_.getElementsByTagName("input");h=e.getElementsByTagName("input");d=0;for(f=g.length;d<f;d++)if("file"==g[d].type&&g[d].value!=h[d].value){this.logger_.fine("File input value not cloned properly.  Will submit using original form.");this.form_.target=b;e=this.form_;break}this.logger_.fine("Submitting form");try{this.errorHandled_=!1,e.submit(),c.close(),goog.userAgent.GECKO&&(this.firefoxSilentErrorTimeout_=
goog.Timer.callOnce(this.testForFirefoxSilentError_,250,this))}catch(p){this.logger_.severe("Error when submitting form: "+goog.debug.exposeException(p)),this.ignoreResponse_||goog.events.unlisten(c.getElementById(b),goog.events.EventType.LOAD,this.onIframeLoaded_,!1,this),c.close(),this.handleError_(goog.net.ErrorCode.FILE_NOT_FOUND)}}};
goog.net.IframeIo.prototype.onIeReadyStateChange_=function(a){if("complete"==this.iframe_.readyState){goog.events.unlisten(this.iframe_,goog.events.EventType.READYSTATECHANGE,this.onIeReadyStateChange_,!1,this);var b;try{if(b=goog.dom.getFrameContentDocument(this.iframe_),goog.userAgent.IE&&"about:blank"==b.location&&!navigator.onLine){this.handleError_(goog.net.ErrorCode.OFFLINE);return}}catch(c){this.handleError_(goog.net.ErrorCode.ACCESS_DENIED);return}this.handleLoad_(b)}};
goog.net.IframeIo.prototype.onIframeLoaded_=function(a){goog.userAgent.OPERA&&"about:blank"==this.getContentDocument_().location||(goog.events.unlisten(this.getRequestIframe(),goog.events.EventType.LOAD,this.onIframeLoaded_,!1,this),this.handleLoad_(this.getContentDocument_()))};
goog.net.IframeIo.prototype.handleLoad_=function(a){this.logger_.fine("Iframe loaded");this.complete_=!0;this.active_=!1;var b;try{var c=a.body;this.lastContent_=c.textContent||c.innerText;this.lastContentHtml_=c.innerHTML}catch(d){b=goog.net.ErrorCode.ACCESS_DENIED}var e;!b&&"function"==typeof this.errorChecker_&&(e=this.errorChecker_(a))&&(b=goog.net.ErrorCode.CUSTOM_ERROR);this.logger_.finer("Last content: "+this.lastContent_);this.logger_.finer("Last uri: "+this.lastUri_);b?(this.logger_.fine("Load event occurred but failed"),
this.handleError_(b,e)):(this.logger_.fine("Load succeeded"),this.success_=!0,this.lastErrorCode_=goog.net.ErrorCode.NO_ERROR,this.dispatchEvent(goog.net.EventType.COMPLETE),this.dispatchEvent(goog.net.EventType.SUCCESS),this.makeReady_())};
goog.net.IframeIo.prototype.handleError_=function(a,b){this.errorHandled_||(this.active_=this.success_=!1,this.complete_=!0,this.lastErrorCode_=a,a==goog.net.ErrorCode.CUSTOM_ERROR&&(this.lastCustomError_=b),this.dispatchEvent(goog.net.EventType.COMPLETE),this.dispatchEvent(goog.net.EventType.ERROR),this.makeReady_(),this.errorHandled_=!0)};goog.net.IframeIo.prototype.handleIncrementalData_=function(a){this.dispatchEvent(new goog.net.IframeIo.IncrementalDataEvent(a))};
goog.net.IframeIo.prototype.makeReady_=function(){this.logger_.info("Ready for new requests");this.scheduleIframeDisposal_();this.disposeForm_();this.dispatchEvent(goog.net.EventType.READY)};
goog.net.IframeIo.prototype.createIframe_=function(){this.logger_.fine("Creating iframe");this.iframeName_=this.name_+"_"+(this.nextIframeId_++).toString(36);var a={name:this.iframeName_,id:this.iframeName_};goog.userAgent.IE&&7>goog.userAgent.VERSION&&(a.src='javascript:""');this.iframe_=goog.dom.getDomHelper(this.form_).createDom("iframe",a);a=this.iframe_.style;a.visibility="hidden";a.width=a.height="10px";a.display="none";goog.userAgent.WEBKIT?a.marginTop=a.marginLeft="-10px":(a.position="absolute",
a.top=a.left="-10px")};goog.net.IframeIo.prototype.appendIframe_=function(){goog.dom.getDomHelper(this.form_).getDocument().body.appendChild(this.iframe_)};
goog.net.IframeIo.prototype.scheduleIframeDisposal_=function(){var a=this.iframe_;a&&(a.onreadystatechange=null,a.onload=null,a.onerror=null,this.iframesForDisposal_.push(a));this.iframeDisposalTimer_&&(goog.Timer.clear(this.iframeDisposalTimer_),this.iframeDisposalTimer_=null);goog.userAgent.GECKO||goog.userAgent.OPERA?this.iframeDisposalTimer_=goog.Timer.callOnce(this.disposeIframes_,goog.net.IframeIo.IFRAME_DISPOSE_DELAY_MS,this):this.disposeIframes_();this.iframeName_=this.iframe_=null};
goog.net.IframeIo.prototype.disposeIframes_=function(){this.iframeDisposalTimer_&&(goog.Timer.clear(this.iframeDisposalTimer_),this.iframeDisposalTimer_=null);for(;0!=this.iframesForDisposal_.length;){var a=this.iframesForDisposal_.pop();this.logger_.info("Disposing iframe");goog.dom.removeNode(a)}};goog.net.IframeIo.prototype.disposeForm_=function(){this.form_&&this.form_==goog.net.IframeIo.form_&&goog.dom.removeChildren(this.form_);this.form_=null};
goog.net.IframeIo.prototype.getContentDocument_=function(){return this.iframe_?goog.dom.getFrameContentDocument(this.getRequestIframe()):null};goog.net.IframeIo.prototype.getRequestIframe=function(){return this.iframe_?goog.userAgent.IE?this.iframe_:goog.dom.getFrameContentDocument(this.iframe_).getElementById(this.iframeName_+goog.net.IframeIo.INNER_FRAME_SUFFIX):null};
goog.net.IframeIo.prototype.testForFirefoxSilentError_=function(){if(this.active_){var a=this.getContentDocument_();a&&!goog.reflect.canAccessProperty(a,"documentUri")?(this.ignoreResponse_||goog.events.unlisten(this.getRequestIframe(),goog.events.EventType.LOAD,this.onIframeLoaded_,!1,this),navigator.onLine?(this.logger_.warning("Silent Firefox error detected"),this.handleError_(goog.net.ErrorCode.FF_SILENT_ERROR)):(this.logger_.warning("Firefox is offline so report offline error instead of silent error"),
this.handleError_(goog.net.ErrorCode.OFFLINE))):this.firefoxSilentErrorTimeout_=goog.Timer.callOnce(this.testForFirefoxSilentError_,250,this)}};goog.net.IframeIo.IncrementalDataEvent=function(a){goog.events.Event.call(this,goog.net.EventType.INCREMENTAL_DATA);this.data=a};goog.inherits(goog.net.IframeIo.IncrementalDataEvent,goog.events.Event);goog.net.xpc={};goog.net.xpc.TransportTypes={NATIVE_MESSAGING:1,FRAME_ELEMENT_METHOD:2,IFRAME_RELAY:3,IFRAME_POLLING:4,FLASH:5,NIX:6};goog.net.xpc.TransportNames={1:"NativeMessagingTransport",2:"FrameElementMethodTransport",3:"IframeRelayTransport",4:"IframePollingTransport",5:"FlashTransport",6:"NixTransport"};
goog.net.xpc.CfgFields={CHANNEL_NAME:"cn",AUTH_TOKEN:"at",REMOTE_AUTH_TOKEN:"rat",PEER_URI:"pu",IFRAME_ID:"ifrid",TRANSPORT:"tp",LOCAL_RELAY_URI:"lru",PEER_RELAY_URI:"pru",LOCAL_POLL_URI:"lpu",PEER_POLL_URI:"ppu",PEER_HOSTNAME:"ph",ONE_SIDED_HANDSHAKE:"osh",ROLE:"role",NATIVE_TRANSPORT_PROTOCOL_VERSION:"nativeProtocolVersion"};
goog.net.xpc.UriCfgFields=[goog.net.xpc.CfgFields.PEER_URI,goog.net.xpc.CfgFields.LOCAL_RELAY_URI,goog.net.xpc.CfgFields.PEER_RELAY_URI,goog.net.xpc.CfgFields.LOCAL_POLL_URI,goog.net.xpc.CfgFields.PEER_POLL_URI];goog.net.xpc.ChannelStates={NOT_CONNECTED:1,CONNECTED:2,CLOSED:3};goog.net.xpc.TRANSPORT_SERVICE_="tp";goog.net.xpc.SETUP="SETUP";goog.net.xpc.SETUP_NTPV2="SETUP_NTPV2";goog.net.xpc.SETUP_ACK_="SETUP_ACK";goog.net.xpc.SETUP_ACK_NTPV2="SETUP_ACK_NTPV2";goog.net.xpc.channels={};
goog.net.xpc.getRandomString=function(a,b){for(var c=b||goog.net.xpc.randomStringCharacters_,d=c.length,e="";0<a--;)e+=c.charAt(Math.floor(Math.random()*d));return e};goog.net.xpc.randomStringCharacters_="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";goog.net.xpc.logger=goog.debug.Logger.getLogger("goog.net.xpc");goog.net.xpc.CrossPageChannelRole={OUTER:0,INNER:1};goog.net.xpc.Transport=function(a){goog.Disposable.call(this);this.domHelper_=a||goog.dom.getDomHelper()};goog.inherits(goog.net.xpc.Transport,goog.Disposable);goog.net.xpc.Transport.prototype.transportType=0;goog.net.xpc.Transport.prototype.getType=function(){return this.transportType};goog.net.xpc.Transport.prototype.getWindow=function(){return this.domHelper_.getWindow()};goog.net.xpc.Transport.prototype.getName=function(){return goog.net.xpc.TransportNames[this.transportType]||""};goog.net.xpc.IframePollingTransport=function(a,b){goog.net.xpc.Transport.call(this,b);this.channel_=a;this.sendUri_=this.channel_.getConfig()[goog.net.xpc.CfgFields.PEER_POLL_URI];this.rcvUri_=this.channel_.getConfig()[goog.net.xpc.CfgFields.LOCAL_POLL_URI];this.sendQueue_=[]};goog.inherits(goog.net.xpc.IframePollingTransport,goog.net.xpc.Transport);goog.net.xpc.IframePollingTransport.prototype.pollsBeforeReconnect_=5;goog.net.xpc.IframePollingTransport.prototype.transportType=goog.net.xpc.TransportTypes.IFRAME_POLLING;
goog.net.xpc.IframePollingTransport.prototype.sequence_=0;goog.net.xpc.IframePollingTransport.prototype.waitForAck_=!1;goog.net.xpc.IframePollingTransport.prototype.initialized_=!1;goog.net.xpc.IframePollingTransport.prototype.reconnectFrame_=null;goog.net.xpc.IframePollingTransport.IFRAME_PREFIX="googlexpc";goog.net.xpc.IframePollingTransport.prototype.getMsgFrameName_=function(){return goog.net.xpc.IframePollingTransport.IFRAME_PREFIX+"_"+this.channel_.name+"_msg"};
goog.net.xpc.IframePollingTransport.prototype.getAckFrameName_=function(){return goog.net.xpc.IframePollingTransport.IFRAME_PREFIX+"_"+this.channel_.name+"_ack"};goog.net.xpc.IframePollingTransport.prototype.isChannelAvailable=function(){return!this.isDisposed()&&this.channel_.isPeerAvailable()};goog.net.xpc.IframePollingTransport.prototype.getPeerFrames_=function(){try{if(this.isChannelAvailable())return this.channel_.getPeerWindowObject().frames||{}}catch(a){goog.net.xpc.logger.fine("error retrieving peer frames")}return{}};
goog.net.xpc.IframePollingTransport.prototype.getPeerFrame_=function(a){return this.getPeerFrames_()[a]};goog.net.xpc.IframePollingTransport.prototype.connect=function(){this.isChannelAvailable()&&(goog.net.xpc.logger.fine("transport connect called"),this.initialized_||(goog.net.xpc.logger.fine("initializing..."),this.constructSenderFrames_(),this.initialized_=!0),this.checkForeignFramesReady_())};
goog.net.xpc.IframePollingTransport.prototype.constructSenderFrames_=function(){var a=this.getMsgFrameName_();this.msgIframeElm_=this.constructSenderFrame_(a);this.msgWinObj_=this.getWindow().frames[a];a=this.getAckFrameName_();this.ackIframeElm_=this.constructSenderFrame_(a);this.ackWinObj_=this.getWindow().frames[a]};
goog.net.xpc.IframePollingTransport.prototype.constructSenderFrame_=function(a){goog.net.xpc.logger.finest("constructing sender frame: "+a);var b=goog.dom.createElement("iframe"),c=b.style;c.position="absolute";c.top="-10px";c.left="10px";c.width="1px";c.height="1px";b.id=b.name=a;b.src=this.sendUri_+"#INITIAL";this.getWindow().document.body.appendChild(b);return b};
goog.net.xpc.IframePollingTransport.prototype.maybeInnerPeerReconnect_=function(){this.reconnectFrame_||0<this.pollsBeforeReconnect_--||(goog.net.xpc.logger.finest("Inner peer reconnect triggered."),this.channel_.name=goog.net.xpc.getRandomString(10),goog.net.xpc.logger.finest("switching channels: "+this.channel_.name),this.deconstructSenderFrames_(),this.initialized_=!1,this.reconnectFrame_=this.constructSenderFrame_(goog.net.xpc.IframePollingTransport.IFRAME_PREFIX+"_reconnect_"+this.channel_.name))};
goog.net.xpc.IframePollingTransport.prototype.outerPeerReconnect_=function(){goog.net.xpc.logger.finest("outerPeerReconnect called");for(var a=this.getPeerFrames_(),b=a.length,c=0;c<b;c++){var d;try{a[c]&&a[c].name&&(d=a[c].name)}catch(e){}if(d){var f=d.split("_");if(3==f.length&&f[0]==goog.net.xpc.IframePollingTransport.IFRAME_PREFIX&&"reconnect"==f[1]){this.channel_.name=f[2];this.deconstructSenderFrames_();this.initialized_=!1;break}}}};
goog.net.xpc.IframePollingTransport.prototype.deconstructSenderFrames_=function(){goog.net.xpc.logger.finest("deconstructSenderFrames called");this.msgIframeElm_&&(this.msgIframeElm_.parentNode.removeChild(this.msgIframeElm_),this.msgWinObj_=this.msgIframeElm_=null);this.ackIframeElm_&&(this.ackIframeElm_.parentNode.removeChild(this.ackIframeElm_),this.ackWinObj_=this.ackIframeElm_=null)};
goog.net.xpc.IframePollingTransport.prototype.checkForeignFramesReady_=function(){this.isRcvFrameReady_(this.getMsgFrameName_())&&this.isRcvFrameReady_(this.getAckFrameName_())?(goog.net.xpc.logger.fine("foreign frames present"),this.msgReceiver_=new goog.net.xpc.IframePollingTransport.Receiver(this,this.getPeerFrame_(this.getMsgFrameName_()),goog.bind(this.processIncomingMsg,this)),this.ackReceiver_=new goog.net.xpc.IframePollingTransport.Receiver(this,this.getPeerFrame_(this.getAckFrameName_()),
goog.bind(this.processIncomingAck,this)),this.checkLocalFramesPresent_()):(goog.net.xpc.logger.finest("foreign frames not (yet) present"),this.channel_.getRole()==goog.net.xpc.CrossPageChannelRole.INNER?this.maybeInnerPeerReconnect_():this.channel_.getRole()==goog.net.xpc.CrossPageChannelRole.OUTER&&this.outerPeerReconnect_(),this.getWindow().setTimeout(goog.bind(this.connect,this),100))};
goog.net.xpc.IframePollingTransport.prototype.isRcvFrameReady_=function(a){goog.net.xpc.logger.finest("checking for receive frame: "+a);try{var b=this.getPeerFrame_(a);if(!b||0!=b.location.href.indexOf(this.rcvUri_))return!1}catch(c){return!1}return!0};
goog.net.xpc.IframePollingTransport.prototype.checkLocalFramesPresent_=function(){var a=this.getPeerFrames_();a[this.getAckFrameName_()]&&a[this.getMsgFrameName_()]?(this.msgSender_=new goog.net.xpc.IframePollingTransport.Sender(this.sendUri_,this.msgWinObj_),this.ackSender_=new goog.net.xpc.IframePollingTransport.Sender(this.sendUri_,this.ackWinObj_),goog.net.xpc.logger.fine("local frames ready"),this.getWindow().setTimeout(goog.bind(function(){this.msgSender_.send(goog.net.xpc.SETUP);this.waitForAck_=
this.sentConnectionSetup_=!0;goog.net.xpc.logger.fine("SETUP sent")},this),100)):(this.checkLocalFramesPresentCb_||(this.checkLocalFramesPresentCb_=goog.bind(this.checkLocalFramesPresent_,this)),this.getWindow().setTimeout(this.checkLocalFramesPresentCb_,100),goog.net.xpc.logger.fine("local frames not (yet) present"))};
goog.net.xpc.IframePollingTransport.prototype.checkIfConnected_=function(){if(this.sentConnectionSetupAck_&&this.rcvdConnectionSetupAck_){if(this.channel_.notifyConnected(),this.deliveryQueue_){goog.net.xpc.logger.fine("delivering queued messages ("+this.deliveryQueue_.length+")");for(var a=0,b;a<this.deliveryQueue_.length;a++)b=this.deliveryQueue_[a],this.channel_.xpcDeliver(b.service,b.payload);delete this.deliveryQueue_}}else goog.net.xpc.logger.finest("checking if connected: ack sent:"+this.sentConnectionSetupAck_+
", ack rcvd: "+this.rcvdConnectionSetupAck_)};
goog.net.xpc.IframePollingTransport.prototype.processIncomingMsg=function(a){goog.net.xpc.logger.finest("msg received: "+a);if(a==goog.net.xpc.SETUP)this.ackSender_&&(this.ackSender_.send(goog.net.xpc.SETUP_ACK_),goog.net.xpc.logger.finest("SETUP_ACK sent"),this.sentConnectionSetupAck_=!0,this.checkIfConnected_());else if(this.channel_.isConnected()||this.sentConnectionSetupAck_){var b=a.indexOf("|"),c=a.substring(0,b);a=a.substring(b+1);b=c.indexOf(",");if(-1==b){var d;this.ackSender_.send("ACK:"+
c);this.deliverPayload_(a)}else d=c.substring(0,b),this.ackSender_.send("ACK:"+d),c=c.substring(b+1).split("/"),b=parseInt(c[0],10),c=parseInt(c[1],10),1==b&&(this.parts_=[]),this.parts_.push(a),b==c&&(this.deliverPayload_(this.parts_.join("")),delete this.parts_)}else goog.net.xpc.logger.warning("received msg, but channel is not connected")};
goog.net.xpc.IframePollingTransport.prototype.processIncomingAck=function(a){goog.net.xpc.logger.finest("ack received: "+a);a==goog.net.xpc.SETUP_ACK_?(this.waitForAck_=!1,this.rcvdConnectionSetupAck_=!0,this.checkIfConnected_()):this.channel_.isConnected()?this.waitForAck_?parseInt(a.split(":")[1],10)==this.sequence_?(this.waitForAck_=!1,this.sendNextFrame_()):goog.net.xpc.logger.warning("got ack with wrong sequence"):goog.net.xpc.logger.warning("got unexpected ack"):goog.net.xpc.logger.warning("received ack, but channel not connected")};
goog.net.xpc.IframePollingTransport.prototype.sendNextFrame_=function(){if(!this.waitForAck_&&this.sendQueue_.length){var a=this.sendQueue_.shift();++this.sequence_;this.msgSender_.send(this.sequence_+a);goog.net.xpc.logger.finest("msg sent: "+this.sequence_+a);this.waitForAck_=!0}};
goog.net.xpc.IframePollingTransport.prototype.deliverPayload_=function(a){var b=a.indexOf(":"),c=a.substr(0,b);a=a.substring(b+1);this.channel_.isConnected()?this.channel_.xpcDeliver(c,a):((this.deliveryQueue_||(this.deliveryQueue_=[])).push({service:c,payload:a}),goog.net.xpc.logger.finest("queued delivery"))};goog.net.xpc.IframePollingTransport.prototype.MAX_FRAME_LENGTH_=3800;
goog.net.xpc.IframePollingTransport.prototype.send=function(a,b){var c=a+":"+b;if(!goog.userAgent.IE||b.length<=this.MAX_FRAME_LENGTH_)this.sendQueue_.push("|"+c);else for(var d=b.length,e=Math.ceil(d/this.MAX_FRAME_LENGTH_),f=0,g=1;f<d;)this.sendQueue_.push(","+g+"/"+e+"|"+c.substr(f,this.MAX_FRAME_LENGTH_)),g++,f+=this.MAX_FRAME_LENGTH_;this.sendNextFrame_()};
goog.net.xpc.IframePollingTransport.prototype.disposeInternal=function(){goog.net.xpc.IframePollingTransport.superClass_.disposeInternal.call(this);var a=goog.net.xpc.IframePollingTransport.receivers_;goog.array.remove(a,this.msgReceiver_);goog.array.remove(a,this.ackReceiver_);this.msgReceiver_=this.ackReceiver_=null;goog.dom.removeNode(this.msgIframeElm_);goog.dom.removeNode(this.ackIframeElm_);this.msgWinObj_=this.ackWinObj_=this.msgIframeElm_=this.ackIframeElm_=null};
goog.net.xpc.IframePollingTransport.receivers_=[];goog.net.xpc.IframePollingTransport.TIME_POLL_SHORT_=10;goog.net.xpc.IframePollingTransport.TIME_POLL_LONG_=100;goog.net.xpc.IframePollingTransport.TIME_SHORT_POLL_AFTER_ACTIVITY_=1E3;
goog.net.xpc.IframePollingTransport.receive_=function(){var a=goog.net.xpc.IframePollingTransport.receivers_,b,c=!1;try{for(var d=0;b=a[d];d++)c=c||b.receive()}catch(e){if(goog.net.xpc.logger.info("receive_() failed: "+e),b.transport_.channel_.notifyTransportError(),!a.length)return}a=goog.now();c&&(goog.net.xpc.IframePollingTransport.lastActivity_=a);goog.net.xpc.IframePollingTransport.rcvTimer_=window.setTimeout(goog.net.xpc.IframePollingTransport.receiveCb_,a-goog.net.xpc.IframePollingTransport.lastActivity_<
goog.net.xpc.IframePollingTransport.TIME_SHORT_POLL_AFTER_ACTIVITY_?goog.net.xpc.IframePollingTransport.TIME_POLL_SHORT_:goog.net.xpc.IframePollingTransport.TIME_POLL_LONG_)};goog.net.xpc.IframePollingTransport.receiveCb_=goog.bind(goog.net.xpc.IframePollingTransport.receive_,goog.net.xpc.IframePollingTransport);
goog.net.xpc.IframePollingTransport.startRcvTimer_=function(){goog.net.xpc.logger.fine("starting receive-timer");goog.net.xpc.IframePollingTransport.lastActivity_=goog.now();goog.net.xpc.IframePollingTransport.rcvTimer_&&window.clearTimeout(goog.net.xpc.IframePollingTransport.rcvTimer_);goog.net.xpc.IframePollingTransport.rcvTimer_=window.setTimeout(goog.net.xpc.IframePollingTransport.receiveCb_,goog.net.xpc.IframePollingTransport.TIME_POLL_SHORT_)};
goog.net.xpc.IframePollingTransport.Sender=function(a,b){this.sendUri_=a;this.sendFrame_=b;this.cycle_=0};goog.net.xpc.IframePollingTransport.Sender.prototype.send=function(a){this.cycle_=++this.cycle_%2;a=this.sendUri_+"#"+this.cycle_+encodeURIComponent(a);try{goog.userAgent.WEBKIT?this.sendFrame_.location.href=a:this.sendFrame_.location.replace(a)}catch(b){goog.net.xpc.logger.severe("sending failed",b)}goog.net.xpc.IframePollingTransport.startRcvTimer_()};
goog.net.xpc.IframePollingTransport.Receiver=function(a,b,c){this.transport_=a;this.rcvFrame_=b;this.cb_=c;this.currentLoc_=this.rcvFrame_.location.href.split("#")[0]+"#INITIAL";goog.net.xpc.IframePollingTransport.receivers_.push(this);goog.net.xpc.IframePollingTransport.startRcvTimer_()};
goog.net.xpc.IframePollingTransport.Receiver.prototype.receive=function(){var a=this.rcvFrame_.location.href;if(a!=this.currentLoc_){this.currentLoc_=a;if(a=a.split("#")[1])a=a.substr(1),this.cb_(decodeURIComponent(a));return!0}return!1};goog.net.xpc.FrameElementMethodTransport=function(a,b){goog.net.xpc.Transport.call(this,b);this.channel_=a;this.queue_=[];this.deliverQueuedCb_=goog.bind(this.deliverQueued_,this)};goog.inherits(goog.net.xpc.FrameElementMethodTransport,goog.net.xpc.Transport);goog.net.xpc.FrameElementMethodTransport.prototype.transportType=goog.net.xpc.TransportTypes.FRAME_ELEMENT_METHOD;goog.net.xpc.FrameElementMethodTransport.prototype.recursive_=!1;goog.net.xpc.FrameElementMethodTransport.prototype.timer_=0;
goog.net.xpc.FrameElementMethodTransport.outgoing_=null;goog.net.xpc.FrameElementMethodTransport.prototype.connect=function(){this.channel_.getRole()==goog.net.xpc.CrossPageChannelRole.OUTER?(this.iframeElm_=this.channel_.getIframeElement(),this.iframeElm_.XPC_toOuter=goog.bind(this.incoming_,this)):this.attemptSetup_()};
goog.net.xpc.FrameElementMethodTransport.prototype.attemptSetup_=function(){var a=!0;try{this.iframeElm_||(this.iframeElm_=this.getWindow().frameElement),this.iframeElm_&&this.iframeElm_.XPC_toOuter&&(this.outgoing_=this.iframeElm_.XPC_toOuter,this.iframeElm_.XPC_toOuter.XPC_toInner=goog.bind(this.incoming_,this),a=!1,this.send(goog.net.xpc.TRANSPORT_SERVICE_,goog.net.xpc.SETUP_ACK_),this.channel_.notifyConnected())}catch(b){goog.net.xpc.logger.severe("exception caught while attempting setup: "+b)}a&&
(this.attemptSetupCb_||(this.attemptSetupCb_=goog.bind(this.attemptSetup_,this)),this.getWindow().setTimeout(this.attemptSetupCb_,100))};goog.net.xpc.FrameElementMethodTransport.prototype.transportServiceHandler=function(a){if(this.channel_.getRole()!=goog.net.xpc.CrossPageChannelRole.OUTER||this.channel_.isConnected()||a!=goog.net.xpc.SETUP_ACK_)throw Error("Got unexpected transport message.");this.outgoing_=this.iframeElm_.XPC_toOuter.XPC_toInner;this.channel_.notifyConnected()};
goog.net.xpc.FrameElementMethodTransport.prototype.incoming_=function(a,b){this.recursive_||0!=this.queue_.length?(this.queue_.push({serviceName:a,payload:b}),1==this.queue_.length&&(this.timer_=this.getWindow().setTimeout(this.deliverQueuedCb_,1))):this.channel_.xpcDeliver(a,b)};goog.net.xpc.FrameElementMethodTransport.prototype.deliverQueued_=function(){for(;this.queue_.length;){var a=this.queue_.shift();this.channel_.xpcDeliver(a.serviceName,a.payload)}};
goog.net.xpc.FrameElementMethodTransport.prototype.send=function(a,b){this.recursive_=!0;this.outgoing_(a,b);this.recursive_=!1};goog.net.xpc.FrameElementMethodTransport.prototype.disposeInternal=function(){goog.net.xpc.FrameElementMethodTransport.superClass_.disposeInternal.call(this);this.iframeElm_=this.outgoing_=null};goog.net.xpc.NixTransport=function(a,b){goog.net.xpc.Transport.call(this,b);this.channel_=a;this.authToken_=a[goog.net.xpc.CfgFields.AUTH_TOKEN]||"";this.remoteAuthToken_=a[goog.net.xpc.CfgFields.REMOTE_AUTH_TOKEN]||"";goog.net.xpc.NixTransport.conductGlobalSetup_(this.getWindow());this[goog.net.xpc.NixTransport.NIX_HANDLE_MESSAGE]=this.handleMessage_;this[goog.net.xpc.NixTransport.NIX_CREATE_CHANNEL]=this.createChannel_};goog.inherits(goog.net.xpc.NixTransport,goog.net.xpc.Transport);
goog.net.xpc.NixTransport.NIX_WRAPPER="GCXPC____NIXVBS_wrapper";goog.net.xpc.NixTransport.NIX_GET_WRAPPER="GCXPC____NIXVBS_get_wrapper";goog.net.xpc.NixTransport.NIX_HANDLE_MESSAGE="GCXPC____NIXJS_handle_message";goog.net.xpc.NixTransport.NIX_CREATE_CHANNEL="GCXPC____NIXJS_create_channel";goog.net.xpc.NixTransport.NIX_ID_FIELD="GCXPC____NIXVBS_container";
goog.net.xpc.NixTransport.isNixSupported=function(){var a=!1;try{var b=window.opener;window.opener={};a=goog.reflect.canAccessProperty(window,"opener");window.opener=b}catch(c){}return a};
goog.net.xpc.NixTransport.conductGlobalSetup_=function(a){if(!a.nix_setup_complete){var b="Class "+goog.net.xpc.NixTransport.NIX_WRAPPER+"\n Private m_Transport\nPrivate m_Auth\nPublic Sub SetTransport(transport)\nIf isEmpty(m_Transport) Then\nSet m_Transport = transport\nEnd If\nEnd Sub\nPublic Sub SetAuth(auth)\nIf isEmpty(m_Auth) Then\nm_Auth = auth\nEnd If\nEnd Sub\nPublic Function GetAuthToken()\n GetAuthToken = m_Auth\nEnd Function\nPublic Sub SendMessage(service, payload)\n Call m_Transport."+goog.net.xpc.NixTransport.NIX_HANDLE_MESSAGE+
"(service, payload)\nEnd Sub\nPublic Sub CreateChannel(channel)\n Call m_Transport."+goog.net.xpc.NixTransport.NIX_CREATE_CHANNEL+"(channel)\nEnd Sub\nPublic Sub "+goog.net.xpc.NixTransport.NIX_ID_FIELD+"()\n End Sub\nEnd Class\n Function "+goog.net.xpc.NixTransport.NIX_GET_WRAPPER+"(transport, auth)\nDim wrap\nSet wrap = New "+goog.net.xpc.NixTransport.NIX_WRAPPER+"\nwrap.SetTransport transport\nwrap.SetAuth auth\nSet "+goog.net.xpc.NixTransport.NIX_GET_WRAPPER+" = wrap\nEnd Function";try{a.execScript(b,
"vbscript"),a.nix_setup_complete=!0}catch(c){goog.net.xpc.logger.severe("exception caught while attempting global setup: "+c)}}};goog.net.xpc.NixTransport.prototype.transportType=goog.net.xpc.TransportTypes.NIX;goog.net.xpc.NixTransport.prototype.localSetupCompleted_=!1;goog.net.xpc.NixTransport.prototype.nixChannel_=null;goog.net.xpc.NixTransport.prototype.connect=function(){this.channel_.getRole()==goog.net.xpc.CrossPageChannelRole.OUTER?this.attemptOuterSetup_():this.attemptInnerSetup_()};
goog.net.xpc.NixTransport.prototype.attemptOuterSetup_=function(){if(!this.localSetupCompleted_){var a=this.channel_.getIframeElement();try{var b=this.getWindow()[goog.net.xpc.NixTransport.NIX_GET_WRAPPER];a.contentWindow.opener=b(this,this.authToken_);this.localSetupCompleted_=!0}catch(c){goog.net.xpc.logger.severe("exception caught while attempting setup: "+c)}this.localSetupCompleted_||this.getWindow().setTimeout(goog.bind(this.attemptOuterSetup_,this),100)}};
goog.net.xpc.NixTransport.prototype.attemptInnerSetup_=function(){if(!this.localSetupCompleted_){try{var a=this.getWindow().opener;if(a&&goog.net.xpc.NixTransport.NIX_ID_FIELD in a){this.nixChannel_=a;if(this.nixChannel_.GetAuthToken()!=this.remoteAuthToken_){goog.net.xpc.logger.severe("Invalid auth token from other party");return}var b=this.getWindow()[goog.net.xpc.NixTransport.NIX_GET_WRAPPER];this.nixChannel_.CreateChannel(b(this,this.authToken_));this.localSetupCompleted_=!0;this.channel_.notifyConnected()}}catch(c){goog.net.xpc.logger.severe("exception caught while attempting setup: "+
c);return}this.localSetupCompleted_||this.getWindow().setTimeout(goog.bind(this.attemptInnerSetup_,this),100)}};goog.net.xpc.NixTransport.prototype.createChannel_=function(a){"unknown"==typeof a&&goog.net.xpc.NixTransport.NIX_ID_FIELD in a||goog.net.xpc.logger.severe("Invalid NIX channel given to createChannel_");this.nixChannel_=a;this.nixChannel_.GetAuthToken()!=this.remoteAuthToken_?goog.net.xpc.logger.severe("Invalid auth token from other party"):this.channel_.notifyConnected()};
goog.net.xpc.NixTransport.prototype.handleMessage_=function(a,b){this.getWindow().setTimeout(goog.bind(function(){this.channel_.xpcDeliver(a,b)},this),1)};goog.net.xpc.NixTransport.prototype.send=function(a,b){"unknown"!==typeof this.nixChannel_&&goog.net.xpc.logger.severe("NIX channel not connected");this.nixChannel_.SendMessage(a,b)};goog.net.xpc.NixTransport.prototype.disposeInternal=function(){goog.net.xpc.NixTransport.superClass_.disposeInternal.call(this);this.nixChannel_=null};goog.events.EventWrapper=function(){};goog.events.EventWrapper.prototype.listen=function(a,b,c,d,e){};goog.events.EventWrapper.prototype.unlisten=function(a,b,c,d,e){};goog.events.EventHandler=function(a){goog.Disposable.call(this);this.handler_=a;this.keys_=[]};goog.inherits(goog.events.EventHandler,goog.Disposable);goog.events.EventHandler.typeArray_=[];goog.events.EventHandler.prototype.listen=function(a,b,c,d,e){goog.isArray(b)||(goog.events.EventHandler.typeArray_[0]=b,b=goog.events.EventHandler.typeArray_);for(var f=0;f<b.length;f++){var g=goog.events.listen(a,b[f],c||this,d||!1,e||this.handler_||this);this.keys_.push(g)}return this};
goog.events.EventHandler.prototype.listenOnce=function(a,b,c,d,e){if(goog.isArray(b))for(var f=0;f<b.length;f++)this.listenOnce(a,b[f],c,d,e);else a=goog.events.listenOnce(a,b,c||this,d,e||this.handler_||this),this.keys_.push(a);return this};goog.events.EventHandler.prototype.listenWithWrapper=function(a,b,c,d,e){b.listen(a,c,d,e||this.handler_||this,this);return this};goog.events.EventHandler.prototype.getListenerCount=function(){return this.keys_.length};
goog.events.EventHandler.prototype.unlisten=function(a,b,c,d,e){if(goog.isArray(b))for(var f=0;f<b.length;f++)this.unlisten(a,b[f],c,d,e);else if(a=goog.events.getListener(a,b,c||this,d,e||this.handler_||this))a=a.key,goog.events.unlistenByKey(a),goog.array.remove(this.keys_,a);return this};goog.events.EventHandler.prototype.unlistenWithWrapper=function(a,b,c,d,e){b.unlisten(a,c,d,e||this.handler_||this,this);return this};
goog.events.EventHandler.prototype.removeAll=function(){goog.array.forEach(this.keys_,goog.events.unlistenByKey);this.keys_.length=0};goog.events.EventHandler.prototype.disposeInternal=function(){goog.events.EventHandler.superClass_.disposeInternal.call(this);this.removeAll()};goog.events.EventHandler.prototype.handleEvent=function(a){throw Error("EventHandler.handleEvent not implemented");};goog.net.xpc.IframeRelayTransport=function(a,b){goog.net.xpc.Transport.call(this,b);this.channel_=a;this.peerRelayUri_=this.channel_.getConfig()[goog.net.xpc.CfgFields.PEER_RELAY_URI];this.peerIframeId_=this.channel_.getConfig()[goog.net.xpc.CfgFields.IFRAME_ID];goog.userAgent.WEBKIT&&goog.net.xpc.IframeRelayTransport.startCleanupTimer_()};goog.inherits(goog.net.xpc.IframeRelayTransport,goog.net.xpc.Transport);
goog.userAgent.WEBKIT&&(goog.net.xpc.IframeRelayTransport.iframeRefs_=[],goog.net.xpc.IframeRelayTransport.CLEANUP_INTERVAL_=1E3,goog.net.xpc.IframeRelayTransport.IFRAME_MAX_AGE_=3E3,goog.net.xpc.IframeRelayTransport.cleanupTimer_=0,goog.net.xpc.IframeRelayTransport.startCleanupTimer_=function(){goog.net.xpc.IframeRelayTransport.cleanupTimer_||(goog.net.xpc.IframeRelayTransport.cleanupTimer_=window.setTimeout(function(){goog.net.xpc.IframeRelayTransport.cleanup_()},goog.net.xpc.IframeRelayTransport.CLEANUP_INTERVAL_))},
goog.net.xpc.IframeRelayTransport.cleanup_=function(a){var b=goog.now();for(a=a||goog.net.xpc.IframeRelayTransport.IFRAME_MAX_AGE_;goog.net.xpc.IframeRelayTransport.iframeRefs_.length&&b-goog.net.xpc.IframeRelayTransport.iframeRefs_[0].timestamp>=a;){var c=goog.net.xpc.IframeRelayTransport.iframeRefs_.shift().iframeElement;goog.dom.removeNode(c);goog.net.xpc.logger.finest("iframe removed")}goog.net.xpc.IframeRelayTransport.cleanupTimer_=window.setTimeout(goog.net.xpc.IframeRelayTransport.cleanupCb_,
goog.net.xpc.IframeRelayTransport.CLEANUP_INTERVAL_)},goog.net.xpc.IframeRelayTransport.cleanupCb_=function(){goog.net.xpc.IframeRelayTransport.cleanup_()});goog.net.xpc.IframeRelayTransport.IE_PAYLOAD_MAX_SIZE_=1800;goog.net.xpc.IframeRelayTransport.fragmentMap_={};goog.net.xpc.IframeRelayTransport.prototype.transportType=goog.net.xpc.TransportTypes.IFRAME_RELAY;
goog.net.xpc.IframeRelayTransport.prototype.connect=function(){this.getWindow().xpcRelay||(this.getWindow().xpcRelay=goog.net.xpc.IframeRelayTransport.receiveMessage_);this.send(goog.net.xpc.TRANSPORT_SERVICE_,goog.net.xpc.SETUP)};
goog.net.xpc.IframeRelayTransport.receiveMessage_=function(a,b){var c=b.indexOf(":"),d=b.substr(0,c),e=b.substr(c+1);if(goog.userAgent.IE&&-1!=(c=d.indexOf("|"))){var f=d.substr(0,c),d=d.substr(c+1),c=d.indexOf("+"),g=d.substr(0,c),c=parseInt(d.substr(c+1),10),h=goog.net.xpc.IframeRelayTransport.fragmentMap_[g];h||(h=goog.net.xpc.IframeRelayTransport.fragmentMap_[g]={fragments:[],received:0,expected:0});goog.string.contains(d,"++")&&(h.expected=c+1);h.fragments[c]=e;h.received++;if(h.received!=h.expected)return;
e=h.fragments.join("");delete goog.net.xpc.IframeRelayTransport.fragmentMap_[g]}else var f=d;goog.net.xpc.channels[a].xpcDeliver(f,decodeURIComponent(e))};goog.net.xpc.IframeRelayTransport.prototype.transportServiceHandler=function(a){a==goog.net.xpc.SETUP?(this.send(goog.net.xpc.TRANSPORT_SERVICE_,goog.net.xpc.SETUP_ACK_),this.channel_.notifyConnected()):a==goog.net.xpc.SETUP_ACK_&&this.channel_.notifyConnected()};
goog.net.xpc.IframeRelayTransport.prototype.send=function(a,b){var c=encodeURIComponent(b),d=c.length,e=goog.net.xpc.IframeRelayTransport.IE_PAYLOAD_MAX_SIZE_;if(goog.userAgent.IE&&d>e)for(var f=goog.string.getRandomString(),g=0,h=0;g<d;h++){var k=c.substr(g,e),g=g+e;this.send_(a,k,f+(g>=d?"++":"+")+h)}else this.send_(a,c)};
goog.net.xpc.IframeRelayTransport.prototype.send_=function(a,b,c){if(goog.userAgent.IE){var d=this.getWindow().document.createElement("div");d.innerHTML='<iframe onload="this.xpcOnload()"></iframe>';d=d.childNodes[0];d.xpcOnload=goog.net.xpc.IframeRelayTransport.iframeLoadHandler_}else d=this.getWindow().document.createElement("iframe"),goog.userAgent.WEBKIT?goog.net.xpc.IframeRelayTransport.iframeRefs_.push({timestamp:goog.now(),iframeElement:d}):goog.events.listen(d,"load",goog.net.xpc.IframeRelayTransport.iframeLoadHandler_);
var e=d.style;e.visibility="hidden";e.width=d.style.height="0px";e.position="absolute";e=this.peerRelayUri_;e+="#"+this.channel_.name;this.peerIframeId_&&(e+=","+this.peerIframeId_);e+="|"+a;c&&(e+="|"+c);e+=":"+b;d.src=e;this.getWindow().document.body.appendChild(d);goog.net.xpc.logger.finest("msg sent: "+e)};goog.net.xpc.IframeRelayTransport.iframeLoadHandler_=function(){goog.net.xpc.logger.finest("iframe-load");goog.dom.removeNode(this);this.xpcOnload=null};
goog.net.xpc.IframeRelayTransport.prototype.disposeInternal=function(){goog.net.xpc.IframeRelayTransport.superClass_.disposeInternal.call(this);goog.userAgent.WEBKIT&&goog.net.xpc.IframeRelayTransport.cleanup_(0)};/*
 Portions of this code are from MochiKit, received by
 The Closure Authors under the MIT license. All other code is Copyright
 2005-2009 The Closure Authors. All Rights Reserved.
*/
goog.async={};goog.async.Deferred=function(a,b){this.sequence_=[];this.onCancelFunction_=a;this.defaultScope_=b||null};goog.async.Deferred.setTimeout_=goog.global.setTimeout;goog.async.Deferred.prototype.fired_=!1;goog.async.Deferred.prototype.hadError_=!1;goog.async.Deferred.prototype.blocked_=!1;goog.async.Deferred.prototype.blocking_=!1;goog.async.Deferred.prototype.silentlyCancelled_=!1;goog.async.Deferred.prototype.branches_=0;
goog.async.Deferred.prototype.cancel=function(a){if(this.hasFired())this.result_ instanceof goog.async.Deferred&&this.result_.cancel();else{if(this.parent_){var b=this.parent_;delete this.parent_;a?b.cancel(a):b.branchCancel_()}this.onCancelFunction_?this.onCancelFunction_.call(this.defaultScope_,this):this.silentlyCancelled_=!0;this.hasFired()||this.errback(new goog.async.Deferred.CancelledError(this))}};goog.async.Deferred.prototype.branchCancel_=function(){this.branches_--;0>=this.branches_&&this.cancel()};
goog.async.Deferred.prototype.continue_=function(a,b){this.blocked_=!1;this.updateResult_(a,b)};goog.async.Deferred.prototype.updateResult_=function(a,b){this.fired_=!0;this.result_=b;this.hadError_=!a;this.fire_()};goog.async.Deferred.prototype.check_=function(){if(this.hasFired()){if(!this.silentlyCancelled_)throw new goog.async.Deferred.AlreadyCalledError(this);this.silentlyCancelled_=!1}};
goog.async.Deferred.prototype.callback=function(a){this.check_();this.assertNotDeferred_(a);this.updateResult_(!0,a)};goog.async.Deferred.prototype.errback=function(a){this.check_();this.assertNotDeferred_(a);this.updateResult_(!1,a)};goog.async.Deferred.prototype.assertNotDeferred_=function(a){goog.asserts.assert(!(a instanceof goog.async.Deferred),"An execution sequence may not be initiated with a blocking Deferred.")};
goog.async.Deferred.prototype.addCallback=function(a,b){return this.addCallbacks(a,null,b)};goog.async.Deferred.prototype.addErrback=function(a,b){return this.addCallbacks(null,a,b)};goog.async.Deferred.prototype.addBoth=function(a,b){return this.addCallbacks(a,a,b)};goog.async.Deferred.prototype.addCallbacks=function(a,b,c){goog.asserts.assert(!this.blocking_,"Blocking Deferreds can not be re-used");this.sequence_.push([a,b,c]);this.hasFired()&&this.fire_();return this};
goog.async.Deferred.prototype.chainDeferred=function(a){this.addCallbacks(a.callback,a.errback,a);return this};goog.async.Deferred.prototype.awaitDeferred=function(a){return this.addCallback(goog.bind(a.branch,a))};goog.async.Deferred.prototype.branch=function(a){var b=new goog.async.Deferred;this.chainDeferred(b);a&&(b.parent_=this,this.branches_++);return b};goog.async.Deferred.prototype.hasFired=function(){return this.fired_};
goog.async.Deferred.prototype.isError=function(a){return a instanceof Error};goog.async.Deferred.prototype.hasErrback_=function(){return goog.array.some(this.sequence_,function(a){return goog.isFunction(a[1])})};
goog.async.Deferred.prototype.fire_=function(){this.unhandledExceptionTimeoutId_&&this.hasFired()&&this.hasErrback_()&&(goog.global.clearTimeout(this.unhandledExceptionTimeoutId_),delete this.unhandledExceptionTimeoutId_);this.parent_&&(this.parent_.branches_--,delete this.parent_);for(var a=this.result_,b=!1,c=!1;this.sequence_.length&&!this.blocked_;){var d=this.sequence_.shift(),e=d[0],f=d[1],d=d[2];if(e=this.hadError_?f:e)try{var g=e.call(d||this.defaultScope_,a);goog.isDef(g)&&(this.hadError_=
this.hadError_&&(g==a||this.isError(g)),this.result_=a=g);a instanceof goog.async.Deferred&&(this.blocked_=c=!0)}catch(h){a=h,this.hadError_=!0,this.hasErrback_()||(b=!0)}}this.result_=a;c&&(a.addCallbacks(goog.bind(this.continue_,this,!0),goog.bind(this.continue_,this,!1)),a.blocking_=!0);b&&(this.unhandledExceptionTimeoutId_=goog.async.Deferred.setTimeout_.call(goog.global,goog.functions.fail(a),0))};goog.async.Deferred.succeed=function(a){var b=new goog.async.Deferred;b.callback(a);return b};
goog.async.Deferred.fail=function(a){var b=new goog.async.Deferred;b.errback(a);return b};goog.async.Deferred.cancelled=function(){var a=new goog.async.Deferred;a.cancel();return a};goog.async.Deferred.when=function(a,b,c){return a instanceof goog.async.Deferred?a.branch(!0).addCallback(b,c):goog.async.Deferred.succeed(a).addCallback(b,c)};goog.async.Deferred.AlreadyCalledError=function(a){goog.debug.Error.call(this);this.deferred=a};goog.inherits(goog.async.Deferred.AlreadyCalledError,goog.debug.Error);
goog.async.Deferred.AlreadyCalledError.prototype.message="Deferred has already fired";goog.async.Deferred.AlreadyCalledError.prototype.name="AlreadyCalledError";goog.async.Deferred.CancelledError=function(a){goog.debug.Error.call(this);this.deferred=a};goog.inherits(goog.async.Deferred.CancelledError,goog.debug.Error);goog.async.Deferred.CancelledError.prototype.message="Deferred was cancelled";goog.async.Deferred.CancelledError.prototype.name="CancelledError";goog.async.Delay=function(a,b,c){goog.Disposable.call(this);this.listener_=a;this.interval_=b||0;this.handler_=c;this.callback_=goog.bind(this.doAction_,this)};goog.inherits(goog.async.Delay,goog.Disposable);goog.Delay=goog.async.Delay;goog.async.Delay.prototype.id_=0;goog.async.Delay.prototype.disposeInternal=function(){goog.async.Delay.superClass_.disposeInternal.call(this);this.stop();delete this.listener_;delete this.handler_};
goog.async.Delay.prototype.start=function(a){this.stop();this.id_=goog.Timer.callOnce(this.callback_,goog.isDef(a)?a:this.interval_)};goog.async.Delay.prototype.stop=function(){this.isActive()&&goog.Timer.clear(this.id_);this.id_=0};goog.async.Delay.prototype.fire=function(){this.stop();this.doAction_()};goog.async.Delay.prototype.fireIfActive=function(){this.isActive()&&this.fire()};goog.async.Delay.prototype.isActive=function(){return 0!=this.id_};
goog.async.Delay.prototype.doAction_=function(){this.id_=0;this.listener_&&this.listener_.call(this.handler_)};goog.net.xpc.NativeMessagingTransport=function(a,b,c,d,e){goog.net.xpc.Transport.call(this,c);this.channel_=a;this.protocolVersion_=e||2;goog.asserts.assert(1<=this.protocolVersion_);goog.asserts.assert(2>=this.protocolVersion_);this.peerHostname_=b||"*";this.eventHandler_=new goog.events.EventHandler(this);this.maybeAttemptToConnectTimer_=new goog.Timer(100,this.getWindow());this.oneSidedHandshake_=!!d;this.setupAckReceived_=new goog.async.Deferred;this.setupAckSent_=new goog.async.Deferred;this.connected_=
new goog.async.Deferred;this.endpointId_=goog.net.xpc.getRandomString(10);this.peerEndpointId_=null;this.oneSidedHandshake_?this.channel_.getRole()==goog.net.xpc.CrossPageChannelRole.INNER?this.connected_.awaitDeferred(this.setupAckReceived_):this.connected_.awaitDeferred(this.setupAckSent_):(this.connected_.awaitDeferred(this.setupAckReceived_),2==this.protocolVersion_&&this.connected_.awaitDeferred(this.setupAckSent_));this.connected_.addCallback(this.notifyConnected_,this);this.connected_.callback(!0);
this.eventHandler_.listen(this.maybeAttemptToConnectTimer_,goog.Timer.TICK,this.maybeAttemptToConnect_);goog.net.xpc.logger.info("NativeMessagingTransport created.  protocolVersion="+this.protocolVersion_+", oneSidedHandshake="+this.oneSidedHandshake_+", role="+this.channel_.getRole())};goog.inherits(goog.net.xpc.NativeMessagingTransport,goog.net.xpc.Transport);goog.net.xpc.NativeMessagingTransport.CONNECTION_DELAY_MS_=200;goog.net.xpc.NativeMessagingTransport.prototype.peerProtocolVersion_=null;
goog.net.xpc.NativeMessagingTransport.prototype.initialized_=!1;goog.net.xpc.NativeMessagingTransport.prototype.transportType=goog.net.xpc.TransportTypes.NATIVE_MESSAGING;goog.net.xpc.NativeMessagingTransport.MESSAGE_DELIMITER_=",";goog.net.xpc.NativeMessagingTransport.activeCount_={};goog.net.xpc.NativeMessagingTransport.sendTimerId_=0;goog.net.xpc.NativeMessagingTransport.prototype.couldPeerVersionBe_=function(a){return null==this.peerProtocolVersion_||this.peerProtocolVersion_==a};
goog.net.xpc.NativeMessagingTransport.initialize_=function(a){var b=goog.getUid(a),c=goog.net.xpc.NativeMessagingTransport.activeCount_[b];goog.isNumber(c)||(c=0);0==c&&goog.events.listen(a.postMessage?a:a.document,"message",goog.net.xpc.NativeMessagingTransport.messageReceived_,!1,goog.net.xpc.NativeMessagingTransport);goog.net.xpc.NativeMessagingTransport.activeCount_[b]=c+1};
goog.net.xpc.NativeMessagingTransport.messageReceived_=function(a){var b=a.getBrowserEvent().data;if(!goog.isString(b))return!1;var c=b.indexOf("|"),d=b.indexOf(":");if(-1==c||-1==d)return!1;var e=b.substring(0,c),c=b.substring(c+1,d),b=b.substring(d+1);goog.net.xpc.logger.fine("messageReceived: channel="+e+", service="+c+", payload="+b);if(d=goog.net.xpc.channels[e])return d.xpcDeliver(c,b,a.getBrowserEvent().origin),!0;a=goog.net.xpc.NativeMessagingTransport.parseTransportPayload_(b)[0];for(var f in goog.net.xpc.channels)if(d=
goog.net.xpc.channels[f],d.getRole()==goog.net.xpc.CrossPageChannelRole.INNER&&!d.isConnected()&&c==goog.net.xpc.TRANSPORT_SERVICE_&&(a==goog.net.xpc.SETUP||a==goog.net.xpc.SETUP_NTPV2))return goog.net.xpc.logger.fine("changing channel name to "+e),d.name=e,delete goog.net.xpc.channels[f],goog.net.xpc.channels[e]=d,d.xpcDeliver(c,b),!0;goog.net.xpc.logger.info('channel name mismatch; message ignored"');return!1};
goog.net.xpc.NativeMessagingTransport.prototype.transportServiceHandler=function(a){var b=goog.net.xpc.NativeMessagingTransport.parseTransportPayload_(a);a=b[1];switch(b[0]){case goog.net.xpc.SETUP_ACK_:this.setPeerProtocolVersion_(1);this.setupAckReceived_.hasFired()||this.setupAckReceived_.callback(!0);break;case goog.net.xpc.SETUP_ACK_NTPV2:2==this.protocolVersion_&&(this.setPeerProtocolVersion_(2),this.setupAckReceived_.hasFired()||this.setupAckReceived_.callback(!0));break;case goog.net.xpc.SETUP:this.setPeerProtocolVersion_(1);
this.sendSetupAckMessage_(1);break;case goog.net.xpc.SETUP_NTPV2:2==this.protocolVersion_&&(b=this.peerProtocolVersion_,this.setPeerProtocolVersion_(2),this.sendSetupAckMessage_(2),1!=b&&null==this.peerEndpointId_||this.peerEndpointId_==a||(goog.net.xpc.logger.info("Sending SETUP and changing peer ID to: "+a),this.sendSetupMessage_()),this.peerEndpointId_=a)}};
goog.net.xpc.NativeMessagingTransport.prototype.sendSetupMessage_=function(){goog.asserts.assert(!(1==this.protocolVersion_&&2==this.peerProtocolVersion_));if(2==this.protocolVersion_&&this.couldPeerVersionBe_(2)){var a=goog.net.xpc.SETUP_NTPV2,a=a+goog.net.xpc.NativeMessagingTransport.MESSAGE_DELIMITER_,a=a+this.endpointId_;this.send(goog.net.xpc.TRANSPORT_SERVICE_,a)}this.couldPeerVersionBe_(1)&&this.send(goog.net.xpc.TRANSPORT_SERVICE_,goog.net.xpc.SETUP)};
goog.net.xpc.NativeMessagingTransport.prototype.sendSetupAckMessage_=function(a){goog.asserts.assert(1!=this.protocolVersion_||2!=a,"Shouldn't try to send a v2 setup ack in v1 mode.");if(2==this.protocolVersion_&&this.couldPeerVersionBe_(2)&&2==a)this.send(goog.net.xpc.TRANSPORT_SERVICE_,goog.net.xpc.SETUP_ACK_NTPV2);else if(this.couldPeerVersionBe_(1)&&1==a)this.send(goog.net.xpc.TRANSPORT_SERVICE_,goog.net.xpc.SETUP_ACK_);else return;this.setupAckSent_.hasFired()||this.setupAckSent_.callback(!0)};
goog.net.xpc.NativeMessagingTransport.prototype.setPeerProtocolVersion_=function(a){a>this.peerProtocolVersion_&&(this.peerProtocolVersion_=a);1==this.peerProtocolVersion_&&(this.setupAckSent_.hasFired()||this.oneSidedHandshake_||this.setupAckSent_.callback(!0),this.peerEndpointId_=null)};goog.net.xpc.NativeMessagingTransport.prototype.connect=function(){goog.net.xpc.NativeMessagingTransport.initialize_(this.getWindow());this.initialized_=!0;this.maybeAttemptToConnect_()};
goog.net.xpc.NativeMessagingTransport.prototype.maybeAttemptToConnect_=function(){var a=this.channel_.getRole()==goog.net.xpc.CrossPageChannelRole.OUTER;this.oneSidedHandshake_&&a||this.channel_.isConnected()||this.isDisposed()?this.maybeAttemptToConnectTimer_.stop():(this.maybeAttemptToConnectTimer_.start(),this.sendSetupMessage_())};
goog.net.xpc.NativeMessagingTransport.prototype.send=function(a,b){var c=this.channel_.getPeerWindowObject();c?(this.send=function(a,b){var f=this,g=this.channel_.name;this.sendTimerId_=goog.Timer.callOnce(function(){f.sendTimerId_=0;try{var h=c.postMessage?c:c.document;h.postMessage?(h.postMessage(g+"|"+a+":"+b,f.peerHostname_),goog.net.xpc.logger.fine("send(): service="+a+" payload="+b+" to hostname="+f.peerHostname_)):goog.net.xpc.logger.warning("Peer window had no postMessage function.")}catch(k){goog.net.xpc.logger.warning("Error performing postMessage, ignoring.",
k)}},0)},this.send(a,b)):goog.net.xpc.logger.fine("send(): window not ready")};goog.net.xpc.NativeMessagingTransport.prototype.notifyConnected_=function(){this.channel_.notifyConnected(1==this.protocolVersion_||1==this.peerProtocolVersion_?goog.net.xpc.NativeMessagingTransport.CONNECTION_DELAY_MS_:void 0)};
goog.net.xpc.NativeMessagingTransport.prototype.disposeInternal=function(){if(this.initialized_){var a=this.getWindow(),b=goog.getUid(a),c=goog.net.xpc.NativeMessagingTransport.activeCount_[b];goog.net.xpc.NativeMessagingTransport.activeCount_[b]=c-1;1==c&&goog.events.unlisten(a.postMessage?a:a.document,"message",goog.net.xpc.NativeMessagingTransport.messageReceived_,!1,goog.net.xpc.NativeMessagingTransport)}this.sendTimerId_&&(goog.Timer.clear(this.sendTimerId_),this.sendTimerId_=0);goog.dispose(this.eventHandler_);
delete this.eventHandler_;goog.dispose(this.maybeAttemptToConnectTimer_);delete this.maybeAttemptToConnectTimer_;this.setupAckReceived_.cancel();delete this.setupAckReceived_;this.setupAckSent_.cancel();delete this.setupAckSent_;this.connected_.cancel();delete this.connected_;delete this.send;goog.net.xpc.NativeMessagingTransport.superClass_.disposeInternal.call(this)};
goog.net.xpc.NativeMessagingTransport.parseTransportPayload_=function(a){a=a.split(goog.net.xpc.NativeMessagingTransport.MESSAGE_DELIMITER_);a[1]=a[1]||null;return a};goog.messaging={};goog.messaging.MessageChannel=function(){};goog.messaging.MessageChannel.prototype.connect=function(a){};goog.messaging.MessageChannel.prototype.isConnected=function(){};goog.messaging.MessageChannel.prototype.registerService=function(a,b,c){};goog.messaging.MessageChannel.prototype.registerDefaultService=function(a){};goog.messaging.MessageChannel.prototype.send=function(a,b){};goog.messaging.AbstractChannel=function(){goog.Disposable.call(this);this.services_={}};goog.inherits(goog.messaging.AbstractChannel,goog.Disposable);goog.messaging.AbstractChannel.prototype.logger=goog.debug.Logger.getLogger("goog.messaging.AbstractChannel");goog.messaging.AbstractChannel.prototype.connect=function(a){a&&a()};goog.messaging.AbstractChannel.prototype.isConnected=function(){return!0};
goog.messaging.AbstractChannel.prototype.registerService=function(a,b,c){this.services_[a]={callback:b,objectPayload:!!c}};goog.messaging.AbstractChannel.prototype.registerDefaultService=function(a){this.defaultService_=a};goog.messaging.AbstractChannel.prototype.deliver=function(a,b){var c=this.getService(a,b);if(c){var d=this.decodePayload(a,b,c.objectPayload);goog.isDefAndNotNull(d)&&c.callback(d)}};
goog.messaging.AbstractChannel.prototype.getService=function(a,b){var c=this.services_[a];if(c)return c;if(this.defaultService_){var c=goog.partial(this.defaultService_,a),d=goog.isObject(b);return{callback:c,objectPayload:d}}this.logger.warning('Unknown service name "'+a+'"');return null};
goog.messaging.AbstractChannel.prototype.decodePayload=function(a,b,c){if(c&&goog.isString(b))try{return goog.json.parse(b)}catch(d){return this.logger.warning("Expected JSON payload for "+a+', was "'+b+'"'),null}else if(!c&&!goog.isString(b))return goog.json.serialize(b);return b};goog.messaging.AbstractChannel.prototype.disposeInternal=function(){goog.messaging.AbstractChannel.superClass_.disposeInternal.call(this);delete this.logger;delete this.services_;delete this.defaultService_};goog.net.xpc.CrossPageChannel=function(a,b){goog.messaging.AbstractChannel.call(this);for(var c=0,d;d=goog.net.xpc.UriCfgFields[c];c++)if(d in a&&!/^https?:\/\//.test(a[d]))throw Error("URI "+a[d]+" is invalid for field "+d);this.cfg_=a;this.name=this.cfg_[goog.net.xpc.CfgFields.CHANNEL_NAME]||goog.net.xpc.getRandomString(10);this.domHelper_=b||goog.dom.getDomHelper();this.deferredDeliveries_=[];this.peerLoadHandler_=new goog.events.EventHandler(this);a[goog.net.xpc.CfgFields.LOCAL_POLL_URI]=a[goog.net.xpc.CfgFields.LOCAL_POLL_URI]||
goog.uri.utils.getHost(this.domHelper_.getWindow().location.href)+"/robots.txt";a[goog.net.xpc.CfgFields.PEER_POLL_URI]=a[goog.net.xpc.CfgFields.PEER_POLL_URI]||goog.uri.utils.getHost(a[goog.net.xpc.CfgFields.PEER_URI]||"")+"/robots.txt";goog.net.xpc.channels[this.name]=this;goog.events.listen(window,"unload",goog.net.xpc.CrossPageChannel.disposeAll_);goog.net.xpc.logger.info("CrossPageChannel created: "+this.name)};goog.inherits(goog.net.xpc.CrossPageChannel,goog.messaging.AbstractChannel);
goog.net.xpc.CrossPageChannel.TRANSPORT_SERVICE_ESCAPE_RE_=new RegExp("^%*"+goog.net.xpc.TRANSPORT_SERVICE_+"$");goog.net.xpc.CrossPageChannel.TRANSPORT_SERVICE_UNESCAPE_RE_=new RegExp("^%+"+goog.net.xpc.TRANSPORT_SERVICE_+"$");goog.net.xpc.CrossPageChannel.prototype.connectionDelay_=null;goog.net.xpc.CrossPageChannel.prototype.peerWindowDeferred_=null;goog.net.xpc.CrossPageChannel.prototype.transport_=null;goog.net.xpc.CrossPageChannel.prototype.state_=goog.net.xpc.ChannelStates.NOT_CONNECTED;
goog.net.xpc.CrossPageChannel.prototype.isConnected=function(){return this.state_==goog.net.xpc.ChannelStates.CONNECTED};goog.net.xpc.CrossPageChannel.prototype.peerWindowObject_=null;goog.net.xpc.CrossPageChannel.prototype.iframeElement_=null;goog.net.xpc.CrossPageChannel.prototype.getConfig=function(){return this.cfg_};goog.net.xpc.CrossPageChannel.prototype.getIframeElement=function(){return this.iframeElement_};
goog.net.xpc.CrossPageChannel.prototype.setPeerWindowObject=function(a){this.peerWindowObject_=a};goog.net.xpc.CrossPageChannel.prototype.getPeerWindowObject=function(){return this.peerWindowObject_};goog.net.xpc.CrossPageChannel.prototype.isPeerAvailable=function(){try{return!!this.peerWindowObject_&&!Boolean(this.peerWindowObject_.closed)}catch(a){return!1}};
goog.net.xpc.CrossPageChannel.prototype.determineTransportType_=function(){return goog.isFunction(document.postMessage)||goog.isFunction(window.postMessage)||goog.userAgent.IE&&window.postMessage?goog.net.xpc.TransportTypes.NATIVE_MESSAGING:goog.userAgent.GECKO?goog.net.xpc.TransportTypes.FRAME_ELEMENT_METHOD:goog.userAgent.IE&&this.cfg_[goog.net.xpc.CfgFields.PEER_RELAY_URI]?goog.net.xpc.TransportTypes.IFRAME_RELAY:goog.userAgent.IE&&goog.net.xpc.NixTransport.isNixSupported()?goog.net.xpc.TransportTypes.NIX:
goog.net.xpc.TransportTypes.IFRAME_POLLING};
goog.net.xpc.CrossPageChannel.prototype.createTransport_=function(){if(!this.transport_){this.cfg_[goog.net.xpc.CfgFields.TRANSPORT]||(this.cfg_[goog.net.xpc.CfgFields.TRANSPORT]=this.determineTransportType_());switch(this.cfg_[goog.net.xpc.CfgFields.TRANSPORT]){case goog.net.xpc.TransportTypes.NATIVE_MESSAGING:this.transport_=new goog.net.xpc.NativeMessagingTransport(this,this.cfg_[goog.net.xpc.CfgFields.PEER_HOSTNAME],this.domHelper_,!!this.cfg_[goog.net.xpc.CfgFields.ONE_SIDED_HANDSHAKE],this.cfg_[goog.net.xpc.CfgFields.NATIVE_TRANSPORT_PROTOCOL_VERSION]||
2);break;case goog.net.xpc.TransportTypes.NIX:this.transport_=new goog.net.xpc.NixTransport(this,this.domHelper_);break;case goog.net.xpc.TransportTypes.FRAME_ELEMENT_METHOD:this.transport_=new goog.net.xpc.FrameElementMethodTransport(this,this.domHelper_);break;case goog.net.xpc.TransportTypes.IFRAME_RELAY:this.transport_=new goog.net.xpc.IframeRelayTransport(this,this.domHelper_);break;case goog.net.xpc.TransportTypes.IFRAME_POLLING:this.transport_=new goog.net.xpc.IframePollingTransport(this,this.domHelper_)}if(this.transport_)goog.net.xpc.logger.info("Transport created: "+
this.transport_.getName());else throw Error("CrossPageChannel: No suitable transport found!");}};goog.net.xpc.CrossPageChannel.prototype.getTransportType=function(){return this.transport_.getType()};goog.net.xpc.CrossPageChannel.prototype.getTransportName=function(){return this.transport_.getName()};
goog.net.xpc.CrossPageChannel.prototype.getPeerConfiguration=function(){var a={};a[goog.net.xpc.CfgFields.CHANNEL_NAME]=this.name;a[goog.net.xpc.CfgFields.TRANSPORT]=this.cfg_[goog.net.xpc.CfgFields.TRANSPORT];a[goog.net.xpc.CfgFields.ONE_SIDED_HANDSHAKE]=this.cfg_[goog.net.xpc.CfgFields.ONE_SIDED_HANDSHAKE];this.cfg_[goog.net.xpc.CfgFields.LOCAL_RELAY_URI]&&(a[goog.net.xpc.CfgFields.PEER_RELAY_URI]=this.cfg_[goog.net.xpc.CfgFields.LOCAL_RELAY_URI]);this.cfg_[goog.net.xpc.CfgFields.LOCAL_POLL_URI]&&
(a[goog.net.xpc.CfgFields.PEER_POLL_URI]=this.cfg_[goog.net.xpc.CfgFields.LOCAL_POLL_URI]);this.cfg_[goog.net.xpc.CfgFields.PEER_POLL_URI]&&(a[goog.net.xpc.CfgFields.LOCAL_POLL_URI]=this.cfg_[goog.net.xpc.CfgFields.PEER_POLL_URI]);var b=this.cfg_[goog.net.xpc.CfgFields.ROLE];b&&(a[goog.net.xpc.CfgFields.ROLE]=b==goog.net.xpc.CrossPageChannelRole.INNER?goog.net.xpc.CrossPageChannelRole.OUTER:goog.net.xpc.CrossPageChannelRole.INNER);return a};
goog.net.xpc.CrossPageChannel.prototype.createPeerIframe=function(a,b,c){goog.net.xpc.logger.info("createPeerIframe()");var d=this.cfg_[goog.net.xpc.CfgFields.IFRAME_ID];d||(d=this.cfg_[goog.net.xpc.CfgFields.IFRAME_ID]="xpcpeer"+goog.net.xpc.getRandomString(4));var e=goog.dom.getDomHelper(a).createElement("IFRAME");e.id=e.name=d;b?b(e):e.style.width=e.style.height="100%";this.cleanUpIncompleteConnection_();this.peerWindowDeferred_=new goog.async.Deferred(void 0,this);var f=this.getPeerUri(c);this.peerLoadHandler_.listenOnce(e,
"load",this.peerWindowDeferred_.callback,!1,this.peerWindowDeferred_);goog.userAgent.GECKO||goog.userAgent.WEBKIT?window.setTimeout(goog.bind(function(){a.appendChild(e);e.src=f.toString();goog.net.xpc.logger.info("peer iframe created ("+d+")")},this),1):(e.src=f.toString(),a.appendChild(e),goog.net.xpc.logger.info("peer iframe created ("+d+")"));return e};
goog.net.xpc.CrossPageChannel.prototype.cleanUpIncompleteConnection_=function(){this.peerWindowDeferred_&&(this.peerWindowDeferred_.cancel(),this.peerWindowDeferred_=null);this.deferredDeliveries_.length=0;this.peerLoadHandler_.removeAll()};
goog.net.xpc.CrossPageChannel.prototype.getPeerUri=function(a){var b=this.cfg_[goog.net.xpc.CfgFields.PEER_URI];goog.isString(b)&&(b=this.cfg_[goog.net.xpc.CfgFields.PEER_URI]=new goog.Uri(b));!1!==a&&b.setParameterValue("xpc",goog.json.serialize(this.getPeerConfiguration()));return b};goog.net.xpc.CrossPageChannel.prototype.connect=function(a){this.connectCb_=a||goog.nullFunction;this.peerWindowDeferred_?this.peerWindowDeferred_.addCallback(this.continueConnection_):this.continueConnection_()};
goog.net.xpc.CrossPageChannel.prototype.continueConnection_=function(){goog.net.xpc.logger.info("continueConnection_()");this.peerWindowDeferred_=null;this.cfg_[goog.net.xpc.CfgFields.IFRAME_ID]&&(this.iframeElement_=this.domHelper_.getElement(this.cfg_[goog.net.xpc.CfgFields.IFRAME_ID]));if(this.iframeElement_){var a=this.iframeElement_.contentWindow;a||(a=window.frames[this.cfg_[goog.net.xpc.CfgFields.IFRAME_ID]]);this.setPeerWindowObject(a)}if(!this.peerWindowObject_){if(window==window.top)throw Error("CrossPageChannel: Can't connect, peer window-object not set.");
this.setPeerWindowObject(window.parent)}this.createTransport_();for(this.transport_.connect();0<this.deferredDeliveries_.length;)this.deferredDeliveries_.shift()()};goog.net.xpc.CrossPageChannel.prototype.close=function(){this.cleanUpIncompleteConnection_();this.state_=goog.net.xpc.ChannelStates.CLOSED;goog.dispose(this.transport_);this.connectCb_=this.transport_=null;goog.dispose(this.connectionDelay_);this.connectionDelay_=null;goog.net.xpc.logger.info('Channel "'+this.name+'" closed')};
goog.net.xpc.CrossPageChannel.prototype.notifyConnected=function(a){this.isConnected()||this.connectionDelay_&&this.connectionDelay_.isActive()||(this.state_=goog.net.xpc.ChannelStates.CONNECTED,goog.net.xpc.logger.info('Channel "'+this.name+'" connected'),goog.dispose(this.connectionDelay_),a?(this.connectionDelay_=new goog.async.Delay(this.connectCb_,a),this.connectionDelay_.start()):(this.connectionDelay_=null,this.connectCb_()))};goog.net.xpc.CrossPageChannel.prototype.notifyConnected_=goog.net.xpc.CrossPageChannel.prototype.notifyConnected;
goog.net.xpc.CrossPageChannel.prototype.notifyTransportError=function(){goog.net.xpc.logger.info("Transport Error");this.close()};goog.net.xpc.CrossPageChannel.prototype.send=function(a,b){this.isConnected()?this.isPeerAvailable()?(goog.isObject(b)&&(b=goog.json.serialize(b)),this.transport_.send(this.escapeServiceName_(a),b)):(goog.net.xpc.logger.severe("Peer has disappeared."),this.close()):goog.net.xpc.logger.severe("Can't send. Channel not connected.")};
goog.net.xpc.CrossPageChannel.prototype.xpcDeliver=function(a,b,c){this.peerWindowDeferred_?this.deferredDeliveries_.push(goog.bind(this.xpcDeliver,this,a,b,c)):this.isMessageOriginAcceptable_(c)?this.isDisposed()?goog.net.xpc.logger.warning("CrossPageChannel::xpcDeliver(): Disposed."):a&&a!=goog.net.xpc.TRANSPORT_SERVICE_?this.isConnected()?this.deliver(this.unescapeServiceName_(a),b):goog.net.xpc.logger.info("CrossPageChannel::xpcDeliver(): Not connected."):this.transport_.transportServiceHandler(b):
goog.net.xpc.logger.warning('Message received from unapproved origin "'+c+'" - rejected.')};goog.net.xpc.CrossPageChannel.prototype.escapeServiceName_=function(a){goog.net.xpc.CrossPageChannel.TRANSPORT_SERVICE_ESCAPE_RE_.test(a)&&(a="%"+a);return a.replace(/[%:|]/g,encodeURIComponent)};
goog.net.xpc.CrossPageChannel.prototype.unescapeServiceName_=function(a){a=a.replace(/%[0-9a-f]{2}/gi,decodeURIComponent);return goog.net.xpc.CrossPageChannel.TRANSPORT_SERVICE_UNESCAPE_RE_.test(a)?a.substring(1):a};goog.net.xpc.CrossPageChannel.prototype.getRole=function(){var a=this.cfg_[goog.net.xpc.CfgFields.ROLE];return a?a:window.parent==this.peerWindowObject_?goog.net.xpc.CrossPageChannelRole.INNER:goog.net.xpc.CrossPageChannelRole.OUTER};
goog.net.xpc.CrossPageChannel.prototype.isMessageOriginAcceptable_=function(a){var b=this.cfg_[goog.net.xpc.CfgFields.PEER_HOSTNAME];return goog.string.isEmptySafe(a)||goog.string.isEmptySafe(b)||a==this.cfg_[goog.net.xpc.CfgFields.PEER_HOSTNAME]};goog.net.xpc.CrossPageChannel.prototype.disposeInternal=function(){this.close();this.iframeElement_=this.peerWindowObject_=null;delete goog.net.xpc.channels[this.name];goog.dispose(this.peerLoadHandler_);delete this.peerLoadHandler_;goog.net.xpc.CrossPageChannel.superClass_.disposeInternal.call(this)};
goog.net.xpc.CrossPageChannel.disposeAll_=function(){for(var a in goog.net.xpc.channels)goog.dispose(goog.net.xpc.channels[a])};goog.net.jsloader={};goog.net.jsloader.GLOBAL_VERIFY_OBJS_="closure_verification";goog.net.jsloader.DEFAULT_TIMEOUT=5E3;goog.net.jsloader.scriptsToLoad_=[];goog.net.jsloader.loadMany=function(a,b){if(a.length){var c=goog.net.jsloader.scriptsToLoad_.length;goog.array.extend(goog.net.jsloader.scriptsToLoad_,a);if(!c){a=goog.net.jsloader.scriptsToLoad_;var d=function(){var c=a.shift(),c=goog.net.jsloader.load(c,b);a.length&&c.addBoth(d)};d()}}};
goog.net.jsloader.load=function(a,b){var c=b||{},d=c.document||document,e=goog.dom.createElement(goog.dom.TagName.SCRIPT),f={script_:e,timeout_:void 0},g=new goog.async.Deferred(goog.net.jsloader.cancel_,f),h=null,k=goog.isDefAndNotNull(c.timeout)?c.timeout:goog.net.jsloader.DEFAULT_TIMEOUT;0<k&&(h=window.setTimeout(function(){goog.net.jsloader.cleanup_(e,!0);g.errback(new goog.net.jsloader.Error(goog.net.jsloader.ErrorCode.TIMEOUT,"Timeout reached for loading script "+a))},k),f.timeout_=h);e.onload=
e.onreadystatechange=function(){e.readyState&&"loaded"!=e.readyState&&"complete"!=e.readyState||(goog.net.jsloader.cleanup_(e,c.cleanupWhenDone||!1,h),g.callback(null))};e.onerror=function(){goog.net.jsloader.cleanup_(e,!0,h);g.errback(new goog.net.jsloader.Error(goog.net.jsloader.ErrorCode.LOAD_ERROR,"Error while loading script "+a))};goog.dom.setProperties(e,{type:"text/javascript",charset:"UTF-8",src:a});goog.net.jsloader.getScriptParentElement_(d).appendChild(e);return g};
goog.net.jsloader.loadAndVerify=function(a,b,c){goog.global[goog.net.jsloader.GLOBAL_VERIFY_OBJS_]||(goog.global[goog.net.jsloader.GLOBAL_VERIFY_OBJS_]={});var d=goog.global[goog.net.jsloader.GLOBAL_VERIFY_OBJS_];if(goog.isDef(d[b]))return goog.async.Deferred.fail(new goog.net.jsloader.Error(goog.net.jsloader.ErrorCode.VERIFY_OBJECT_ALREADY_EXISTS,"Verification object "+b+" already defined."));c=goog.net.jsloader.load(a,c);var e=new goog.async.Deferred(goog.bind(c.cancel,c));c.addCallback(function(){var c=
d[b];goog.isDef(c)?(e.callback(c),delete d[b]):e.errback(new goog.net.jsloader.Error(goog.net.jsloader.ErrorCode.VERIFY_ERROR,"Script "+a+" loaded, but verification object "+b+" was not defined."))});c.addErrback(function(a){goog.isDef(d[b])&&delete d[b];e.errback(a)});return e};goog.net.jsloader.getScriptParentElement_=function(a){var b=a.getElementsByTagName(goog.dom.TagName.HEAD);return!b||goog.array.isEmpty(b)?a.documentElement:b[0]};
goog.net.jsloader.cancel_=function(){if(this&&this.script_){var a=this.script_;a&&"SCRIPT"==a.tagName&&goog.net.jsloader.cleanup_(a,!0,this.timeout_)}};goog.net.jsloader.cleanup_=function(a,b,c){goog.isDefAndNotNull(c)&&goog.global.clearTimeout(c);a.onload=goog.nullFunction;a.onerror=goog.nullFunction;a.onreadystatechange=goog.nullFunction;b&&window.setTimeout(function(){goog.dom.removeNode(a)},0)};goog.net.jsloader.ErrorCode={LOAD_ERROR:0,TIMEOUT:1,VERIFY_ERROR:2,VERIFY_OBJECT_ALREADY_EXISTS:3};
goog.net.jsloader.Error=function(a,b){var c="Jsloader error (code #"+a+")";b&&(c+=": "+b);goog.debug.Error.call(this,c);this.code=a};goog.inherits(goog.net.jsloader.Error,goog.debug.Error);goog.net.Jsonp=function(a,b){this.uri_=new goog.Uri(a);this.callbackParamName_=b?b:"callback";this.timeout_=5E3};goog.net.Jsonp.CALLBACKS="_callbacks_";goog.net.Jsonp.scriptCounter_=0;goog.net.Jsonp.prototype.setRequestTimeout=function(a){this.timeout_=a};goog.net.Jsonp.prototype.getRequestTimeout=function(){return this.timeout_};
goog.net.Jsonp.prototype.send=function(a,b,c,d){a=a||null;d=d||"_"+(goog.net.Jsonp.scriptCounter_++).toString(36)+goog.now().toString(36);goog.global[goog.net.Jsonp.CALLBACKS]||(goog.global[goog.net.Jsonp.CALLBACKS]={});var e=this.uri_.clone();a&&goog.net.Jsonp.addPayloadToUri_(a,e);b&&(b=goog.net.Jsonp.newReplyHandler_(d,b),goog.global[goog.net.Jsonp.CALLBACKS][d]=b,e.setParameterValues(this.callbackParamName_,goog.net.Jsonp.CALLBACKS+"."+d));b=goog.net.jsloader.load(e.toString(),{timeout:this.timeout_,
cleanupWhenDone:!0});c=goog.net.Jsonp.newErrorHandler_(d,a,c);b.addErrback(c);return{id_:d,deferred_:b}};goog.net.Jsonp.prototype.cancel=function(a){a&&(a.deferred_&&a.deferred_.cancel(),a.id_&&goog.net.Jsonp.cleanup_(a.id_,!1))};goog.net.Jsonp.newErrorHandler_=function(a,b,c){return function(){goog.net.Jsonp.cleanup_(a,!1);c&&c(b)}};goog.net.Jsonp.newReplyHandler_=function(a,b){return function(c){goog.net.Jsonp.cleanup_(a,!0);b.apply(void 0,arguments)}};
goog.net.Jsonp.cleanup_=function(a,b){goog.global[goog.net.Jsonp.CALLBACKS][a]&&(b?delete goog.global[goog.net.Jsonp.CALLBACKS][a]:goog.global[goog.net.Jsonp.CALLBACKS][a]=goog.nullFunction)};goog.net.Jsonp.addPayloadToUri_=function(a,b){for(var c in a)a.hasOwnProperty&&!a.hasOwnProperty(c)||b.setParameterValues(c,a[c]);return b};fyre.io={};fyre.io.Poll={};fyre.io.Base=function(a){var b={url:window.location.href,success:function(){},failure:function(){},method:"GET",timeout:30};goog.object.extend(b,a);this.url=new goog.Uri(b.url);this.success_cb=b.success;this.failure_cb=b.failure;this.method=b.method.toUpperCase();goog.asserts.assert(goog.array.contains(["GET","POST"],this.method));this.timeout=b.timeout;this.xhr=null};goog.inherits(fyre.io.Base,fyre.object.Base);fyre.io.WITH_CREDENTIALS="with_credentials";
fyre.io.Base.prototype.send=function(a){};fyre.io.Base.prototype.abort=function(){this.xhr.abort()};fyre.io.Base.prototype.success=function(a){if(goog.isString(a))try{a=goog.json.unsafeParse(a)}catch(b){}this.success_cb(a)};fyre.io.Base.prototype.failure=function(a){if(goog.isString(a))try{a=goog.json.unsafeParse(a)}catch(b){}this.failure_cb(a)};
fyre.io.Base.prototype._setGetData=function(a){var b=new goog.Uri(this.url);"GET"===this.method&&(a=goog.Uri.QueryData.createFromMap(new goog.structs.Map(a)),a.extend(b.getQueryData()),b.setQueryData(a));return b};fyre.io.Base.prototype._setPostData=function(a){var b=null;"POST"===this.method&&(b=goog.Uri.QueryData.createFromMap(new goog.structs.Map(a)).toString());return b};
fyre.io.Req=function(a){fyre.io.Base.call(this,a);this.xhr=new goog.net.XhrIo;goog.events.listen(this.xhr,goog.net.EventType.COMPLETE,goog.bind(this.callback,this))};goog.inherits(fyre.io.Req,fyre.io.Base);fyre.io.Req.prototype.callback=function(a){var b=a.target.getResponseText();a.target.isSuccess()?this.success(b):this.failure(b)};fyre.io.Req.prototype.send=function(a){this.xhr.send(this._setGetData(a).toString(),this.method,this._setPostData(a),this.timeout)};
fyre.io.XDR=function(a){fyre.io.Base.call(this,a);this.xhr=fyre.io.XDR._getTransport(a);this.xhr.success=goog.bind(this.success,this);this.xhr.failure=goog.bind(this.failure,this)};goog.inherits(fyre.io.XDR,fyre.io.Base);fyre.io.XDR.prototype.success=function(a){fyre.io.XDR.superClass_.success.call(this,a)};fyre.io.XDR.prototype.failure=function(a){fyre.io.XDR.superClass_.failure.call(this,a)};fyre.io.XDR.prototype.send=function(a){this.xhr.url=this.url;this.xhr.send(a)};
fyre.io.XDR._getTransport=function(a){switch(a.transport||fyre.io.XDR.TRANSPORT){case "CORS":return new fyre.io.Cors(a);case "IECORS":return new fyre.io.IECors(a);case "iframe":return new fyre.io.Iframe(a);case "jsonp":return new fyre.io.Jsonp(a);default:return new fyre.io.Req(a)}};fyre.io.XDR.TRANSPORT=function(){var a="ajax";return a=0===window.location.href.indexOf("file://")?"jsonp":window.XMLHttpRequest&&"withCredentials"in new XMLHttpRequest?"CORS":"jsonp"}();
fyre.io.Jsonp=function(a){fyre.io.Base.call(this,a);this.xhr=new goog.net.Jsonp(this.url);this.resp={cancel:goog.bind(this.xhr.cancel,this.xhr)}};goog.inherits(fyre.io.Jsonp,fyre.io.Base);fyre.io.Jsonp.prototype.send=function(a){"POST"==this.method&&(a._method="POST");this.resp=this.xhr.send(a,goog.bind(this.success,this),goog.bind(this.failure,this))};fyre.io.Jsonp.prototype.abort=function(){this.resp.cancel();this.failure()};
fyre.io.Cors=function(a){fyre.io.Base.call(this,a);this.withCredentials=fyre.io.WITH_CREDENTIALS in a?a[fyre.io.WITH_CREDENTIALS]:!0;this.xhr=new XMLHttpRequest};goog.inherits(fyre.io.Cors,fyre.io.Base);fyre.io.Cors.prototype.send=function(a){this.xhr.open(this.method,this._setGetData(a).toString(),!0);this.xhr.withCredentials=this.withCredentials;this.xhr.onreadystatechange=goog.bind(this.callback,this);this.xhr.send(this._setPostData(a))};
fyre.io.Cors.prototype.callback=function(){4!==this.xhr.readyState||200!==this.xhr.status&&304!==this.xhr.status?4===this.xhr.readyState&&this.failure(this.xhr.responseText):this.success(this.xhr.responseText)};fyre.io.IECors=function(a){fyre.io.Base.call(this,a);this.xhr=new window.XDomainRequest};goog.inherits(fyre.io.IECors,fyre.io.Base);
fyre.io.IECors.prototype.send=function(a){this.xhr.open(this.method,this._setGetData(a).toString());this.xhr.onload=goog.bind(function(){this.callback("success",this.xhr.responseText)},this);this.xhr.onerror=goog.bind(function(){this.callback("failure",this.xhr.responseText)},this);this.xhr.send(this._setPostData(a))};fyre.io.IECors.prototype.callback=function(a,b){var c={};if("success"===a){try{if(c=goog.json.unsafeParse(b),200!==c.code&&304!==c.code){this.failure(b);return}}catch(d){}this.success(b)}else this.failure(b)};
fyre.io.Iframe=function(a){if(a.child_page){this.childHash=goog.string.hashCode(a.child_page);var b={},c=fyre.io.Iframe.EXISTING_FRAMES[this.childHash];this.running=this.child_ready=!1;this.uniqueKey_=a.url?goog.string.hashCode(a.url):goog.string.getRandomString();fyre.io.Base.call(this,a);b[goog.net.xpc.CfgFields.CHANNEL_NAME]=this.childHash;this.child_page=b[goog.net.xpc.CfgFields.PEER_URI]=a.child_page;c?(this.xhr=c,this.child_ready=this.xhr.isConnected(),this.registerServices_()):(this.xhr=new goog.net.xpc.CrossPageChannel(b),
this._setupDOM(),fyre.io.Iframe.EXISTING_FRAMES[this.childHash]=this.xhr)}};goog.inherits(fyre.io.Iframe,fyre.io.Base);fyre.io.Iframe.EXISTING_FRAMES={};fyre.io.Iframe.prototype.success=function(a){fyre.io.Iframe.superClass_.success.call(this,a);this.running=!1};fyre.io.Iframe.prototype.failure=function(a){fyre.io.Iframe.superClass_.failure.call(this,a);this.running=!1};fyre.io.Iframe.prototype.abort=function(){this.running=!1;this.xhr.send("abort")};
fyre.io.Iframe.prototype.dispose=function(){this.abort();this.xhr.dispose();delete fyre.io.Iframe.EXISTING_FRAMES[this.childHash]};fyre.io.Iframe.prototype._setupDOM=function(){var a=window.document.body;a?this._bindHandlers(a):window.setTimeout(goog.bind(function(){this._setupDOM()},this),25)};fyre.io.Iframe.prototype._bindHandlers=function(a){this.xhr.createPeerIframe(a,function(a){a.style.display="none"});this.registerServices_();this.xhr.connect(goog.bind(function(){this.child_ready=!0},this))};
fyre.io.Iframe.prototype.registerServices_=function(){this.xhr.registerService("success"+this.uniqueKey_,goog.bind(this.success,this));this.xhr.registerService("failure"+this.uniqueKey_,goog.bind(this.failure,this))};fyre.io.Iframe.prototype.send=function(a){a=a||{};this.running=!0;if(this.child_ready){var b=this._setGetData(a).toString();a.url=b;a.key=this.uniqueKey_;this.xhr.send("get",a)}else window.setTimeout(goog.bind(function(){this.send(a)},this),60)};
fyre.io.Iframe.prototype.disposeInternal=function(){fyre.io.Iframe.EXISTING_FRAMES[this.childHash].dispose();delete fyre.io.Iframe.EXISTING_FRAMES[this.childHash];fyre.io.Iframe.superClass_.disposeInternal.call(this)};fyre.sp.client={};fyre.sp.client.UtilClient=function(a,b){fyre.object.Communicator.call(this,a,b)};goog.inherits(fyre.sp.client.UtilClient,fyre.object.Communicator);fyre.sp.client.UtilClient.prototype.submitResetPw=function(a,b,c){(new fyre.io.XDR({url:fyre.sp.config.PUBLIC_API_URL+"/profile/send_reset_pw_email/",method:"POST",success:b,failure:c})).send({username_or_email:a.username[0],reset_redirect_url:a.resetUrl[0]})};
fyre.sp.client.UtilClient.prototype.submitEditPw=function(a,b,c){(new fyre.io.XDR({url:fyre.sp.config.PUBLIC_API_URL+"/profile/edit/password/",method:"POST",success:b,failure:c})).send({password:a.password[0],token:a.token[0]})};fyre.sp.events={};fyre.sp.events.DOM_READY="dom_ready";fyre.sp.events.READY="ready";fyre.sp.events.PROFILE_COMPLETE_INIT="profile_complete_init";fyre.sp.events.PROFILE_COMPLETE_INIT_SUCCESS="profile_complete_init_success";fyre.sp.events.PROFILE_COMPLETE_INIT_FAILURE="profile_complete_init_failure";fyre.sp.events.PROFILE_COMPLETE_SUBMIT="profile_complete_submit";fyre.sp.events.PROFILE_COMPLETE_SUBMIT_SUCCESS="profile_complete_submit_success";fyre.sp.events.PROFILE_COMPLETE_SUBMIT_FAILURE="profile_complete_submit_failure";
fyre.sp.events.PROFILE_GET_INIT="profile_get_init";fyre.sp.events.PROFILE_GET_SUCCESS="profile_get_success";fyre.sp.events.PROFILE_GET_FAILURE="profile_get_failure";fyre.sp.events.PROFILE_GET_ERROR="profile_get_error";fyre.sp.events.PROFILE_GET_COMPLETE="profile_get_complete";fyre.sp.events.PROFILE_EDIT_INIT="profile_edit_init";fyre.sp.events.PROFILE_EDIT_INIT_SUCCESS="profile_edit_init_success";fyre.sp.events.PROFILE_EDIT_INIT_FAILURE="profile_edit_init_failure";
fyre.sp.events.PROFILE_EDIT_SUBMIT="profile_edit_submit";fyre.sp.events.PROFILE_EDIT_SUBMIT_SUCCESS="profile_edit_submit_success";fyre.sp.events.PROFILE_EDIT_SUBMIT_FAILURE="profile_edit_submit_failure";fyre.sp.events.ENGAGE_AUTH_INIT="engage_auth_init";fyre.sp.events.ENGAGE_TOKEN_RECEIVED="engage_token_received";fyre.sp.events.ENGAGE_AUTH_COMPLETE="engage_auth_complete";fyre.sp.events.ENGAGE_AUTH_CLOSE="engage_auth_close";fyre.sp.events.ENGAGE_CLOSE="engage_close";fyre.sp.events.PW_RESET_INIT="pw_reset_init";
fyre.sp.events.PW_RESET_SUBMIT="pw_reset_submit";fyre.sp.events.PW_RESET_SUCCESS="pw_reset_success";fyre.sp.events.PW_RESET_FAILURE="pw_reset_failure";fyre.sp.events.PW_EDIT_INIT="pw_edit_init";fyre.sp.events.PW_EDIT_SUBMIT="pw_edit_submit";fyre.sp.events.PW_EDIT_SUCCESS="pw_edit_success";fyre.sp.events.PW_EDIT_FAILURE="pw_edit_failure";fyre.sp.events.PROFILE_CREATE_INIT="profile_create_init";fyre.sp.events.PROFILE_CREATE_SUBMIT="profile_create_submit";fyre.sp.events.PROFILE_CREATE_SUCCESS="profile_create_success";
fyre.sp.events.PROFILE_CREATE_FAILURE="profile_create_failure";fyre.sp.events.PROFILE_CREATE_COMPLETE="profile_create_complete";fyre.sp.events.AUTH_LOGIN_INIT="auth_login_init";fyre.sp.events.AUTH_LOGIN_SUCCESS="auth_login_success";fyre.sp.events.AUTH_LOGIN_FAILURE="auth_login_failure";fyre.sp.events.AUTH_LOGIN_COMPLETE="auth_login_complete";fyre.sp.events.AUTH_LOGIN_INCOMPLETE="auth_login_incomplete";fyre.sp.events.AUTH_LOGOUT_INIT="auth_logout_init";fyre.sp.events.AUTH_LOGOUT_SUCCESS="auth_logout_success";
fyre.sp.events.AUTH_LOGOUT_FAILURE="auth_logout_failure";fyre.sp.events.AUTH_LOGOUT_COMPLETE="auth_logout_complete";fyre.sp.events.AUTH_SET_COOKIE="auth_set_cookie";fyre.sp.events.LOGIN_BY_COOKIE="login_by_cookie";fyre.sp.events.WHO_AM_I="who_am_i";fyre.sp.events.EMAIL_VERIFICATION_INIT="email_verification_init";fyre.sp.events.AUTH_BY_EMAIL_VERIFICATION_TOKEN="auth_by_email_verification_token";fyre.sp.controller={};fyre.sp.controller.UtilController=function(a,b){fyre.controller.Controller.call(this,a,b)};goog.inherits(fyre.sp.controller.UtilController,fyre.controller.Controller);fyre.sp.controller.UtilController.prototype.initialize=function(a){this.client=new fyre.sp.client.UtilClient(this.messenger)||a.UtilClient;this.subscribe(fyre.sp.events.PW_RESET_SUBMIT,this.handleResetPwSubmit);this.subscribe(fyre.sp.events.PW_EDIT_SUBMIT,this.handleEditPwSubmit)};
fyre.sp.controller.UtilController.prototype.handleResetPwSubmit=function(a){this.client.submitResetPw(a,goog.bind(this.handleResetPwSuccess,this),goog.bind(this.handleResetPwFailure,this))};fyre.sp.controller.UtilController.prototype.handleResetPwSuccess=function(a){this.messenger.trigger(fyre.sp.events.PW_RESET_SUCCESS,a)};fyre.sp.controller.UtilController.prototype.handleResetPwFailure=function(a){this.messenger.trigger(fyre.sp.events.PW_RESET_FAILURE,a)};
fyre.sp.controller.UtilController.prototype.handleEditPwSubmit=function(a){this.client.submitEditPw(a,goog.bind(this.handleEditPwSuccess,this),goog.bind(this.handleEditPwFailure,this))};fyre.sp.controller.UtilController.prototype.handleEditPwSuccess=function(a){var b=this.isSuccess(a),c=goog.object.containsKey(a.data,"errors");b&&!c?this.messenger.trigger(fyre.sp.events.PW_EDIT_SUCCESS,a):this.messenger.trigger(fyre.sp.events.PW_EDIT_FAILURE,a)};
fyre.sp.controller.UtilController.prototype.handleEditPwFailure=function(a){this.messenger.trigger(fyre.sp.events.PW_EDIT_FAILURE,a)};goog.math.Box=function(a,b,c,d){this.top=a;this.right=b;this.bottom=c;this.left=d};goog.math.Box.boundingBox=function(a){for(var b=new goog.math.Box(arguments[0].y,arguments[0].x,arguments[0].y,arguments[0].x),c=1;c<arguments.length;c++){var d=arguments[c];b.top=Math.min(b.top,d.y);b.right=Math.max(b.right,d.x);b.bottom=Math.max(b.bottom,d.y);b.left=Math.min(b.left,d.x)}return b};goog.math.Box.prototype.clone=function(){return new goog.math.Box(this.top,this.right,this.bottom,this.left)};
goog.DEBUG&&(goog.math.Box.prototype.toString=function(){return"("+this.top+"t, "+this.right+"r, "+this.bottom+"b, "+this.left+"l)"});goog.math.Box.prototype.contains=function(a){return goog.math.Box.contains(this,a)};goog.math.Box.prototype.expand=function(a,b,c,d){goog.isObject(a)?(this.top-=a.top,this.right+=a.right,this.bottom+=a.bottom,this.left-=a.left):(this.top-=a,this.right+=b,this.bottom+=c,this.left-=d);return this};
goog.math.Box.prototype.expandToInclude=function(a){this.left=Math.min(this.left,a.left);this.top=Math.min(this.top,a.top);this.right=Math.max(this.right,a.right);this.bottom=Math.max(this.bottom,a.bottom)};goog.math.Box.equals=function(a,b){return a==b?!0:a&&b?a.top==b.top&&a.right==b.right&&a.bottom==b.bottom&&a.left==b.left:!1};
goog.math.Box.contains=function(a,b){return a&&b?b instanceof goog.math.Box?b.left>=a.left&&b.right<=a.right&&b.top>=a.top&&b.bottom<=a.bottom:b.x>=a.left&&b.x<=a.right&&b.y>=a.top&&b.y<=a.bottom:!1};goog.math.Box.relativePositionX=function(a,b){return b.x<a.left?b.x-a.left:b.x>a.right?b.x-a.right:0};goog.math.Box.relativePositionY=function(a,b){return b.y<a.top?b.y-a.top:b.y>a.bottom?b.y-a.bottom:0};
goog.math.Box.distance=function(a,b){var c=goog.math.Box.relativePositionX(a,b),d=goog.math.Box.relativePositionY(a,b);return Math.sqrt(c*c+d*d)};goog.math.Box.intersects=function(a,b){return a.left<=b.right&&b.left<=a.right&&a.top<=b.bottom&&b.top<=a.bottom};goog.math.Box.intersectsWithPadding=function(a,b,c){return a.left<=b.right+c&&b.left<=a.right+c&&a.top<=b.bottom+c&&b.top<=a.bottom+c};
goog.math.Box.prototype.ceil=function(){this.top=Math.ceil(this.top);this.right=Math.ceil(this.right);this.bottom=Math.ceil(this.bottom);this.left=Math.ceil(this.left);return this};goog.math.Box.prototype.floor=function(){this.top=Math.floor(this.top);this.right=Math.floor(this.right);this.bottom=Math.floor(this.bottom);this.left=Math.floor(this.left);return this};
goog.math.Box.prototype.round=function(){this.top=Math.round(this.top);this.right=Math.round(this.right);this.bottom=Math.round(this.bottom);this.left=Math.round(this.left);return this};goog.math.Box.prototype.translate=function(a,b){a instanceof goog.math.Coordinate?(this.left+=a.x,this.right+=a.x,this.top+=a.y,this.bottom+=a.y):(this.left+=a,this.right+=a,goog.isNumber(b)&&(this.top+=b,this.bottom+=b));return this};
goog.math.Box.prototype.scale=function(a,b){var c=goog.isNumber(b)?b:a;this.left*=a;this.right*=a;this.top*=c;this.bottom*=c;return this};goog.math.Rect=function(a,b,c,d){this.left=a;this.top=b;this.width=c;this.height=d};goog.math.Rect.prototype.clone=function(){return new goog.math.Rect(this.left,this.top,this.width,this.height)};goog.math.Rect.prototype.toBox=function(){return new goog.math.Box(this.top,this.left+this.width,this.top+this.height,this.left)};goog.math.Rect.createFromBox=function(a){return new goog.math.Rect(a.left,a.top,a.right-a.left,a.bottom-a.top)};
goog.DEBUG&&(goog.math.Rect.prototype.toString=function(){return"("+this.left+", "+this.top+" - "+this.width+"w x "+this.height+"h)"});goog.math.Rect.equals=function(a,b){return a==b?!0:a&&b?a.left==b.left&&a.width==b.width&&a.top==b.top&&a.height==b.height:!1};
goog.math.Rect.prototype.intersection=function(a){var b=Math.max(this.left,a.left),c=Math.min(this.left+this.width,a.left+a.width);if(b<=c){var d=Math.max(this.top,a.top);a=Math.min(this.top+this.height,a.top+a.height);if(d<=a)return this.left=b,this.top=d,this.width=c-b,this.height=a-d,!0}return!1};
goog.math.Rect.intersection=function(a,b){var c=Math.max(a.left,b.left),d=Math.min(a.left+a.width,b.left+b.width);if(c<=d){var e=Math.max(a.top,b.top),f=Math.min(a.top+a.height,b.top+b.height);if(e<=f)return new goog.math.Rect(c,e,d-c,f-e)}return null};goog.math.Rect.intersects=function(a,b){return a.left<=b.left+b.width&&b.left<=a.left+a.width&&a.top<=b.top+b.height&&b.top<=a.top+a.height};goog.math.Rect.prototype.intersects=function(a){return goog.math.Rect.intersects(this,a)};
goog.math.Rect.difference=function(a,b){var c=goog.math.Rect.intersection(a,b);if(!c||!c.height||!c.width)return[a.clone()];var c=[],d=a.top,e=a.height,f=a.left+a.width,g=a.top+a.height,h=b.left+b.width,k=b.top+b.height;b.top>a.top&&(c.push(new goog.math.Rect(a.left,a.top,a.width,b.top-a.top)),d=b.top,e-=b.top-a.top);k<g&&(c.push(new goog.math.Rect(a.left,k,a.width,g-k)),e=k-d);b.left>a.left&&c.push(new goog.math.Rect(a.left,d,b.left-a.left,e));h<f&&c.push(new goog.math.Rect(h,d,f-h,e));return c};
goog.math.Rect.prototype.difference=function(a){return goog.math.Rect.difference(this,a)};goog.math.Rect.prototype.boundingRect=function(a){var b=Math.max(this.left+this.width,a.left+a.width),c=Math.max(this.top+this.height,a.top+a.height);this.left=Math.min(this.left,a.left);this.top=Math.min(this.top,a.top);this.width=b-this.left;this.height=c-this.top};goog.math.Rect.boundingRect=function(a,b){if(!a||!b)return null;var c=a.clone();c.boundingRect(b);return c};
goog.math.Rect.prototype.contains=function(a){return a instanceof goog.math.Rect?this.left<=a.left&&this.left+this.width>=a.left+a.width&&this.top<=a.top&&this.top+this.height>=a.top+a.height:a.x>=this.left&&a.x<=this.left+this.width&&a.y>=this.top&&a.y<=this.top+this.height};goog.math.Rect.prototype.squaredDistance=function(a){var b=a.x<this.left?this.left-a.x:Math.max(a.x-(this.left+this.width),0);a=a.y<this.top?this.top-a.y:Math.max(a.y-(this.top+this.height),0);return b*b+a*a};
goog.math.Rect.prototype.distance=function(a){return Math.sqrt(this.squaredDistance(a))};goog.math.Rect.prototype.getSize=function(){return new goog.math.Size(this.width,this.height)};goog.math.Rect.prototype.getTopLeft=function(){return new goog.math.Coordinate(this.left,this.top)};goog.math.Rect.prototype.getCenter=function(){return new goog.math.Coordinate(this.left+this.width/2,this.top+this.height/2)};
goog.math.Rect.prototype.getBottomRight=function(){return new goog.math.Coordinate(this.left+this.width,this.top+this.height)};goog.math.Rect.prototype.ceil=function(){this.left=Math.ceil(this.left);this.top=Math.ceil(this.top);this.width=Math.ceil(this.width);this.height=Math.ceil(this.height);return this};goog.math.Rect.prototype.floor=function(){this.left=Math.floor(this.left);this.top=Math.floor(this.top);this.width=Math.floor(this.width);this.height=Math.floor(this.height);return this};
goog.math.Rect.prototype.round=function(){this.left=Math.round(this.left);this.top=Math.round(this.top);this.width=Math.round(this.width);this.height=Math.round(this.height);return this};goog.math.Rect.prototype.translate=function(a,b){a instanceof goog.math.Coordinate?(this.left+=a.x,this.top+=a.y):(this.left+=a,goog.isNumber(b)&&(this.top+=b));return this};goog.math.Rect.prototype.scale=function(a,b){var c=goog.isNumber(b)?b:a;this.left*=a;this.width*=a;this.top*=c;this.height*=c;return this};goog.dom.vendor={};goog.dom.vendor.getVendorJsPrefix=function(){return goog.userAgent.WEBKIT?"Webkit":goog.userAgent.GECKO?"Moz":goog.userAgent.IE?"ms":goog.userAgent.OPERA?"O":null};goog.dom.vendor.getVendorPrefix=function(){return goog.userAgent.WEBKIT?"-webkit":goog.userAgent.GECKO?"-moz":goog.userAgent.IE?"-ms":goog.userAgent.OPERA?"-o":null};goog.style={};goog.style.setStyle=function(a,b,c){goog.isString(b)?goog.style.setStyle_(a,c,b):goog.object.forEach(b,goog.partial(goog.style.setStyle_,a))};goog.style.setStyle_=function(a,b,c){(c=goog.style.getVendorJsStyleName_(a,c))&&(a.style[c]=b)};goog.style.getVendorJsStyleName_=function(a,b){var c=goog.string.toCamelCase(b);if(void 0===a.style[c]){var d=goog.dom.vendor.getVendorJsPrefix()+goog.string.toTitleCase(b);if(void 0!==a.style[d])return d}return c};
goog.style.getVendorStyleName_=function(a,b){var c=goog.string.toCamelCase(b);return void 0===a.style[c]&&(c=goog.dom.vendor.getVendorJsPrefix()+goog.string.toTitleCase(b),void 0!==a.style[c])?goog.dom.vendor.getVendorPrefix()+"-"+b:b};goog.style.getStyle=function(a,b){var c=a.style[goog.string.toCamelCase(b)];return"undefined"!==typeof c?c:a.style[goog.style.getVendorJsStyleName_(a,b)]||""};
goog.style.getComputedStyle=function(a,b){var c=goog.dom.getOwnerDocument(a);return c.defaultView&&c.defaultView.getComputedStyle&&(c=c.defaultView.getComputedStyle(a,null))?c[b]||c.getPropertyValue(b)||"":""};goog.style.getCascadedStyle=function(a,b){return a.currentStyle?a.currentStyle[b]:null};goog.style.getStyle_=function(a,b){return goog.style.getComputedStyle(a,b)||goog.style.getCascadedStyle(a,b)||a.style&&a.style[b]};
goog.style.getComputedPosition=function(a){return goog.style.getStyle_(a,"position")};goog.style.getBackgroundColor=function(a){return goog.style.getStyle_(a,"backgroundColor")};goog.style.getComputedOverflowX=function(a){return goog.style.getStyle_(a,"overflowX")};goog.style.getComputedOverflowY=function(a){return goog.style.getStyle_(a,"overflowY")};goog.style.getComputedZIndex=function(a){return goog.style.getStyle_(a,"zIndex")};
goog.style.getComputedTextAlign=function(a){return goog.style.getStyle_(a,"textAlign")};goog.style.getComputedCursor=function(a){return goog.style.getStyle_(a,"cursor")};goog.style.setPosition=function(a,b,c){var d,e=goog.userAgent.GECKO&&(goog.userAgent.MAC||goog.userAgent.X11)&&goog.userAgent.isVersion("1.9");b instanceof goog.math.Coordinate?(d=b.x,b=b.y):(d=b,b=c);a.style.left=goog.style.getPixelStyleValue_(d,e);a.style.top=goog.style.getPixelStyleValue_(b,e)};
goog.style.getPosition=function(a){return new goog.math.Coordinate(a.offsetLeft,a.offsetTop)};goog.style.getClientViewportElement=function(a){a=a?goog.dom.getOwnerDocument(a):goog.dom.getDocument();return!goog.userAgent.IE||goog.userAgent.isDocumentMode(9)||goog.dom.getDomHelper(a).isCss1CompatMode()?a.documentElement:a.body};goog.style.getViewportPageOffset=function(a){var b=a.body;a=a.documentElement;return new goog.math.Coordinate(b.scrollLeft||a.scrollLeft,b.scrollTop||a.scrollTop)};
goog.style.getBoundingClientRect_=function(a){var b=a.getBoundingClientRect();goog.userAgent.IE&&(a=a.ownerDocument,b.left-=a.documentElement.clientLeft+a.body.clientLeft,b.top-=a.documentElement.clientTop+a.body.clientTop);return b};
goog.style.getOffsetParent=function(a){if(goog.userAgent.IE&&!goog.userAgent.isDocumentMode(8))return a.offsetParent;var b=goog.dom.getOwnerDocument(a),c=goog.style.getStyle_(a,"position"),d="fixed"==c||"absolute"==c;for(a=a.parentNode;a&&a!=b;a=a.parentNode)if(c=goog.style.getStyle_(a,"position"),d=d&&"static"==c&&a!=b.documentElement&&a!=b.body,!d&&(a.scrollWidth>a.clientWidth||a.scrollHeight>a.clientHeight||"fixed"==c||"absolute"==c||"relative"==c))return a;return null};
goog.style.getVisibleRectForElement=function(a){for(var b=new goog.math.Box(0,Infinity,Infinity,0),c=goog.dom.getDomHelper(a),d=c.getDocument().body,e=c.getDocument().documentElement,f=c.getDocumentScrollElement();a=goog.style.getOffsetParent(a);)if(!(goog.userAgent.IE&&0==a.clientWidth||goog.userAgent.WEBKIT&&0==a.clientHeight&&a==d)&&a!=d&&a!=e&&"visible"!=goog.style.getStyle_(a,"overflow")){var g=goog.style.getPageOffset(a),h=goog.style.getClientLeftTop(a);g.x+=h.x;g.y+=h.y;b.top=Math.max(b.top,
g.y);b.right=Math.min(b.right,g.x+a.clientWidth);b.bottom=Math.min(b.bottom,g.y+a.clientHeight);b.left=Math.max(b.left,g.x)}d=f.scrollLeft;f=f.scrollTop;b.left=Math.max(b.left,d);b.top=Math.max(b.top,f);c=c.getViewportSize();b.right=Math.min(b.right,d+c.width);b.bottom=Math.min(b.bottom,f+c.height);return 0<=b.top&&0<=b.left&&b.bottom>b.top&&b.right>b.left?b:null};
goog.style.getContainerOffsetToScrollInto=function(a,b,c){var d=goog.style.getPageOffset(a),e=goog.style.getPageOffset(b),f=goog.style.getBorderBox(b),g=d.x-e.x-f.left,d=d.y-e.y-f.top,e=b.clientWidth-a.offsetWidth;a=b.clientHeight-a.offsetHeight;f=b.scrollLeft;b=b.scrollTop;c?(f+=g-e/2,b+=d-a/2):(f+=Math.min(g,Math.max(g-e,0)),b+=Math.min(d,Math.max(d-a,0)));return new goog.math.Coordinate(f,b)};
goog.style.scrollIntoContainerView=function(a,b,c){a=goog.style.getContainerOffsetToScrollInto(a,b,c);b.scrollLeft=a.x;b.scrollTop=a.y};
goog.style.getClientLeftTop=function(a){if(goog.userAgent.GECKO&&!goog.userAgent.isVersion("1.9")){var b=parseFloat(goog.style.getComputedStyle(a,"borderLeftWidth"));if(goog.style.isRightToLeft(a))var c=a.offsetWidth-a.clientWidth-b-parseFloat(goog.style.getComputedStyle(a,"borderRightWidth")),b=b+c;return new goog.math.Coordinate(b,parseFloat(goog.style.getComputedStyle(a,"borderTopWidth")))}return new goog.math.Coordinate(a.clientLeft,a.clientTop)};
goog.style.getPageOffset=function(a){var b,c=goog.dom.getOwnerDocument(a),d=goog.style.getStyle_(a,"position");goog.asserts.assertObject(a,"Parameter is required");var e=goog.userAgent.GECKO&&c.getBoxObjectFor&&!a.getBoundingClientRect&&"absolute"==d&&(b=c.getBoxObjectFor(a))&&(0>b.screenX||0>b.screenY),f=new goog.math.Coordinate(0,0),g=goog.style.getClientViewportElement(c);if(a==g)return f;if(a.getBoundingClientRect)b=goog.style.getBoundingClientRect_(a),a=goog.dom.getDomHelper(c).getDocumentScroll(),
f.x=b.left+a.x,f.y=b.top+a.y;else if(c.getBoxObjectFor&&!e)b=c.getBoxObjectFor(a),a=c.getBoxObjectFor(g),f.x=b.screenX-a.screenX,f.y=b.screenY-a.screenY;else{b=a;do{f.x+=b.offsetLeft;f.y+=b.offsetTop;b!=a&&(f.x+=b.clientLeft||0,f.y+=b.clientTop||0);if(goog.userAgent.WEBKIT&&"fixed"==goog.style.getComputedPosition(b)){f.x+=c.body.scrollLeft;f.y+=c.body.scrollTop;break}b=b.offsetParent}while(b&&b!=a);if(goog.userAgent.OPERA||goog.userAgent.WEBKIT&&"absolute"==d)f.y-=c.body.offsetTop;for(b=a;(b=goog.style.getOffsetParent(b))&&
b!=c.body&&b!=g;)f.x-=b.scrollLeft,goog.userAgent.OPERA&&"TR"==b.tagName||(f.y-=b.scrollTop)}return f};goog.style.getPageOffsetLeft=function(a){return goog.style.getPageOffset(a).x};goog.style.getPageOffsetTop=function(a){return goog.style.getPageOffset(a).y};
goog.style.getFramedPageOffset=function(a,b){var c=new goog.math.Coordinate(0,0),d=goog.dom.getWindow(goog.dom.getOwnerDocument(a)),e=a;do{var f=d==b?goog.style.getPageOffset(e):goog.style.getClientPosition(e);c.x+=f.x;c.y+=f.y}while(d&&d!=b&&(e=d.frameElement)&&(d=d.parent));return c};
goog.style.translateRectForAnotherFrame=function(a,b,c){if(b.getDocument()!=c.getDocument()){var d=b.getDocument().body;c=goog.style.getFramedPageOffset(d,c.getWindow());c=goog.math.Coordinate.difference(c,goog.style.getPageOffset(d));goog.userAgent.IE&&!b.isCss1CompatMode()&&(c=goog.math.Coordinate.difference(c,b.getDocumentScroll()));a.left+=c.x;a.top+=c.y}};
goog.style.getRelativePosition=function(a,b){var c=goog.style.getClientPosition(a),d=goog.style.getClientPosition(b);return new goog.math.Coordinate(c.x-d.x,c.y-d.y)};
goog.style.getClientPosition=function(a){var b=new goog.math.Coordinate;if(a.nodeType==goog.dom.NodeType.ELEMENT){if(a.getBoundingClientRect){var c=goog.style.getBoundingClientRect_(a);b.x=c.left;b.y=c.top}else{var c=goog.dom.getDomHelper(a).getDocumentScroll(),d=goog.style.getPageOffset(a);b.x=d.x-c.x;b.y=d.y-c.y}goog.userAgent.GECKO&&!goog.userAgent.isVersion(12)&&(b=goog.math.Coordinate.sum(b,goog.style.getCssTranslation(a)))}else c=goog.isFunction(a.getBrowserEvent),d=a,a.targetTouches?d=a.targetTouches[0]:
c&&a.getBrowserEvent().targetTouches&&(d=a.getBrowserEvent().targetTouches[0]),b.x=d.clientX,b.y=d.clientY;return b};goog.style.setPageOffset=function(a,b,c){var d=goog.style.getPageOffset(a);b instanceof goog.math.Coordinate&&(c=b.y,b=b.x);goog.style.setPosition(a,a.offsetLeft+(b-d.x),a.offsetTop+(c-d.y))};
goog.style.setSize=function(a,b,c){if(b instanceof goog.math.Size)c=b.height,b=b.width;else if(void 0==c)throw Error("missing height argument");goog.style.setWidth(a,b);goog.style.setHeight(a,c)};goog.style.getPixelStyleValue_=function(a,b){"number"==typeof a&&(a=(b?Math.round(a):a)+"px");return a};goog.style.setHeight=function(a,b){a.style.height=goog.style.getPixelStyleValue_(b,!0)};goog.style.setWidth=function(a,b){a.style.width=goog.style.getPixelStyleValue_(b,!0)};
goog.style.getSize=function(a){if("none"!=goog.style.getStyle_(a,"display"))return goog.style.getSizeWithDisplay_(a);var b=a.style,c=b.display,d=b.visibility,e=b.position;b.visibility="hidden";b.position="absolute";b.display="inline";a=goog.style.getSizeWithDisplay_(a);b.display=c;b.position=e;b.visibility=d;return a};
goog.style.getSizeWithDisplay_=function(a){var b=a.offsetWidth,c=a.offsetHeight,d=goog.userAgent.WEBKIT&&!b&&!c;return goog.isDef(b)&&!d||!a.getBoundingClientRect?new goog.math.Size(b,c):(a=goog.style.getBoundingClientRect_(a),new goog.math.Size(a.right-a.left,a.bottom-a.top))};goog.style.getBounds=function(a){var b=goog.style.getPageOffset(a);a=goog.style.getSize(a);return new goog.math.Rect(b.x,b.y,a.width,a.height)};goog.style.toCamelCase=function(a){return goog.string.toCamelCase(String(a))};
goog.style.toSelectorCase=function(a){return goog.string.toSelectorCase(a)};goog.style.getOpacity=function(a){var b=a.style;a="";"opacity"in b?a=b.opacity:"MozOpacity"in b?a=b.MozOpacity:"filter"in b&&(b=b.filter.match(/alpha\(opacity=([\d.]+)\)/))&&(a=String(b[1]/100));return""==a?a:Number(a)};goog.style.setOpacity=function(a,b){var c=a.style;"opacity"in c?c.opacity=b:"MozOpacity"in c?c.MozOpacity=b:"filter"in c&&(c.filter=""===b?"":"alpha(opacity="+100*b+")")};
goog.style.setTransparentBackgroundImage=function(a,b){var c=a.style;goog.userAgent.IE&&!goog.userAgent.isVersion("8")?c.filter='progid:DXImageTransform.Microsoft.AlphaImageLoader(src="'+b+'", sizingMethod="crop")':(c.backgroundImage="url("+b+")",c.backgroundPosition="top left",c.backgroundRepeat="no-repeat")};goog.style.clearTransparentBackgroundImage=function(a){a=a.style;"filter"in a?a.filter="":a.backgroundImage="none"};goog.style.showElement=function(a,b){goog.style.setElementShown(a,b)};
goog.style.setElementShown=function(a,b){a.style.display=b?"":"none"};goog.style.isElementShown=function(a){return"none"!=a.style.display};
goog.style.installStyles=function(a,b){var c=goog.dom.getDomHelper(b),d=null;if(goog.userAgent.IE)d=c.getDocument().createStyleSheet(),goog.style.setStyles(d,a);else{var e=c.getElementsByTagNameAndClass("head")[0];e||(d=c.getElementsByTagNameAndClass("body")[0],e=c.createDom("head"),d.parentNode.insertBefore(e,d));d=c.createDom("style");goog.style.setStyles(d,a);c.appendChild(e,d)}return d};goog.style.uninstallStyles=function(a){goog.dom.removeNode(a.ownerNode||a.owningElement||a)};
goog.style.setStyles=function(a,b){goog.userAgent.IE?a.cssText=b:a.innerHTML=b};goog.style.setPreWrap=function(a){a=a.style;goog.userAgent.IE&&!goog.userAgent.isVersion("8")?(a.whiteSpace="pre",a.wordWrap="break-word"):a.whiteSpace=goog.userAgent.GECKO?"-moz-pre-wrap":"pre-wrap"};
goog.style.setInlineBlock=function(a){a=a.style;a.position="relative";goog.userAgent.IE&&!goog.userAgent.isVersion("8")?(a.zoom="1",a.display="inline"):a.display=goog.userAgent.GECKO?goog.userAgent.isVersion("1.9a")?"inline-block":"-moz-inline-box":"inline-block"};goog.style.isRightToLeft=function(a){return"rtl"==goog.style.getStyle_(a,"direction")};goog.style.unselectableStyle_=goog.userAgent.GECKO?"MozUserSelect":goog.userAgent.WEBKIT?"WebkitUserSelect":null;
goog.style.isUnselectable=function(a){return goog.style.unselectableStyle_?"none"==a.style[goog.style.unselectableStyle_].toLowerCase():goog.userAgent.IE||goog.userAgent.OPERA?"on"==a.getAttribute("unselectable"):!1};
goog.style.setUnselectable=function(a,b,c){c=c?null:a.getElementsByTagName("*");var d=goog.style.unselectableStyle_;if(d){if(b=b?"none":"",a.style[d]=b,c){a=0;for(var e;e=c[a];a++)e.style[d]=b}}else if(goog.userAgent.IE||goog.userAgent.OPERA)if(b=b?"on":"",a.setAttribute("unselectable",b),c)for(a=0;e=c[a];a++)e.setAttribute("unselectable",b)};goog.style.getBorderBoxSize=function(a){return new goog.math.Size(a.offsetWidth,a.offsetHeight)};
goog.style.setBorderBoxSize=function(a,b){var c=goog.dom.getOwnerDocument(a),d=goog.dom.getDomHelper(c).isCss1CompatMode();if(!goog.userAgent.IE||d&&goog.userAgent.isVersion("8"))goog.style.setBoxSizingSize_(a,b,"border-box");else if(c=a.style,d){var d=goog.style.getPaddingBox(a),e=goog.style.getBorderBox(a);c.pixelWidth=b.width-e.left-d.left-d.right-e.right;c.pixelHeight=b.height-e.top-d.top-d.bottom-e.bottom}else c.pixelWidth=b.width,c.pixelHeight=b.height};
goog.style.getContentBoxSize=function(a){var b=goog.dom.getOwnerDocument(a),c=goog.userAgent.IE&&a.currentStyle;if(c&&goog.dom.getDomHelper(b).isCss1CompatMode()&&"auto"!=c.width&&"auto"!=c.height&&!c.boxSizing)return b=goog.style.getIePixelValue_(a,c.width,"width","pixelWidth"),a=goog.style.getIePixelValue_(a,c.height,"height","pixelHeight"),new goog.math.Size(b,a);c=goog.style.getBorderBoxSize(a);b=goog.style.getPaddingBox(a);a=goog.style.getBorderBox(a);return new goog.math.Size(c.width-a.left-
b.left-b.right-a.right,c.height-a.top-b.top-b.bottom-a.bottom)};
goog.style.setContentBoxSize=function(a,b){var c=goog.dom.getOwnerDocument(a),d=goog.dom.getDomHelper(c).isCss1CompatMode();if(!goog.userAgent.IE||d&&goog.userAgent.isVersion("8"))goog.style.setBoxSizingSize_(a,b,"content-box");else if(c=a.style,d)c.pixelWidth=b.width,c.pixelHeight=b.height;else{var d=goog.style.getPaddingBox(a),e=goog.style.getBorderBox(a);c.pixelWidth=b.width+e.left+d.left+d.right+e.right;c.pixelHeight=b.height+e.top+d.top+d.bottom+e.bottom}};
goog.style.setBoxSizingSize_=function(a,b,c){a=a.style;goog.userAgent.GECKO?a.MozBoxSizing=c:goog.userAgent.WEBKIT?a.WebkitBoxSizing=c:a.boxSizing=c;a.width=Math.max(b.width,0)+"px";a.height=Math.max(b.height,0)+"px"};goog.style.getIePixelValue_=function(a,b,c,d){if(/^\d+px?$/.test(b))return parseInt(b,10);var e=a.style[c],f=a.runtimeStyle[c];a.runtimeStyle[c]=a.currentStyle[c];a.style[c]=b;b=a.style[d];a.style[c]=e;a.runtimeStyle[c]=f;return b};
goog.style.getIePixelDistance_=function(a,b){var c=goog.style.getCascadedStyle(a,b);return c?goog.style.getIePixelValue_(a,c,"left","pixelLeft"):0};
goog.style.getBox_=function(a,b){if(goog.userAgent.IE){var c=goog.style.getIePixelDistance_(a,b+"Left"),d=goog.style.getIePixelDistance_(a,b+"Right"),e=goog.style.getIePixelDistance_(a,b+"Top"),f=goog.style.getIePixelDistance_(a,b+"Bottom");return new goog.math.Box(e,d,f,c)}c=goog.style.getComputedStyle(a,b+"Left");d=goog.style.getComputedStyle(a,b+"Right");e=goog.style.getComputedStyle(a,b+"Top");f=goog.style.getComputedStyle(a,b+"Bottom");return new goog.math.Box(parseFloat(e),parseFloat(d),parseFloat(f),
parseFloat(c))};goog.style.getPaddingBox=function(a){return goog.style.getBox_(a,"padding")};goog.style.getMarginBox=function(a){return goog.style.getBox_(a,"margin")};goog.style.ieBorderWidthKeywords_={thin:2,medium:4,thick:6};
goog.style.getIePixelBorder_=function(a,b){if("none"==goog.style.getCascadedStyle(a,b+"Style"))return 0;var c=goog.style.getCascadedStyle(a,b+"Width");return c in goog.style.ieBorderWidthKeywords_?goog.style.ieBorderWidthKeywords_[c]:goog.style.getIePixelValue_(a,c,"left","pixelLeft")};
goog.style.getBorderBox=function(a){if(goog.userAgent.IE){var b=goog.style.getIePixelBorder_(a,"borderLeft"),c=goog.style.getIePixelBorder_(a,"borderRight"),d=goog.style.getIePixelBorder_(a,"borderTop");a=goog.style.getIePixelBorder_(a,"borderBottom");return new goog.math.Box(d,c,a,b)}b=goog.style.getComputedStyle(a,"borderLeftWidth");c=goog.style.getComputedStyle(a,"borderRightWidth");d=goog.style.getComputedStyle(a,"borderTopWidth");a=goog.style.getComputedStyle(a,"borderBottomWidth");return new goog.math.Box(parseFloat(d),
parseFloat(c),parseFloat(a),parseFloat(b))};goog.style.getFontFamily=function(a){var b=goog.dom.getOwnerDocument(a),c="";if(b.body.createTextRange){b=b.body.createTextRange();b.moveToElementText(a);try{c=b.queryCommandValue("FontName")}catch(d){c=""}}c||(c=goog.style.getStyle_(a,"fontFamily"));a=c.split(",");1<a.length&&(c=a[0]);return goog.string.stripQuotes(c,"\"'")};goog.style.lengthUnitRegex_=/[^\d]+$/;
goog.style.getLengthUnits=function(a){return(a=a.match(goog.style.lengthUnitRegex_))&&a[0]||null};goog.style.ABSOLUTE_CSS_LENGTH_UNITS_={cm:1,"in":1,mm:1,pc:1,pt:1};goog.style.CONVERTIBLE_RELATIVE_CSS_UNITS_={em:1,ex:1};
goog.style.getFontSize=function(a){var b=goog.style.getStyle_(a,"fontSize"),c=goog.style.getLengthUnits(b);if(b&&"px"==c)return parseInt(b,10);if(goog.userAgent.IE){if(c in goog.style.ABSOLUTE_CSS_LENGTH_UNITS_)return goog.style.getIePixelValue_(a,b,"left","pixelLeft");if(a.parentNode&&a.parentNode.nodeType==goog.dom.NodeType.ELEMENT&&c in goog.style.CONVERTIBLE_RELATIVE_CSS_UNITS_)return a=a.parentNode,c=goog.style.getStyle_(a,"fontSize"),goog.style.getIePixelValue_(a,b==c?"1em":b,"left","pixelLeft")}c=
goog.dom.createDom("span",{style:"visibility:hidden;position:absolute;line-height:0;padding:0;margin:0;border:0;height:1em;"});goog.dom.appendChild(a,c);b=c.offsetHeight;goog.dom.removeNode(c);return b};goog.style.parseStyleAttribute=function(a){var b={};goog.array.forEach(a.split(/\s*;\s*/),function(a){a=a.split(/\s*:\s*/);2==a.length&&(b[goog.string.toCamelCase(a[0].toLowerCase())]=a[1])});return b};
goog.style.toStyleAttribute=function(a){var b=[];goog.object.forEach(a,function(a,d){b.push(goog.string.toSelectorCase(d),":",a,";")});return b.join("")};goog.style.setFloat=function(a,b){a.style[goog.userAgent.IE?"styleFloat":"cssFloat"]=b};goog.style.getFloat=function(a){return a.style[goog.userAgent.IE?"styleFloat":"cssFloat"]||""};
goog.style.getScrollbarWidth=function(a){var b=goog.dom.createElement("div");a&&(b.className=a);b.style.cssText="overflow:auto;position:absolute;top:0;width:100px;height:100px";a=goog.dom.createElement("div");goog.style.setSize(a,"200px","200px");b.appendChild(a);goog.dom.appendChild(goog.dom.getDocument().body,b);a=b.offsetWidth-b.clientWidth;goog.dom.removeNode(b);return a};goog.style.MATRIX_TRANSLATION_REGEX_=/matrix\([0-9\.\-]+, [0-9\.\-]+, [0-9\.\-]+, [0-9\.\-]+, ([0-9\.\-]+)p?x?, ([0-9\.\-]+)p?x?\)/;
goog.style.getCssTranslation=function(a){var b;goog.userAgent.IE?b="-ms-transform":goog.userAgent.WEBKIT?b="-webkit-transform":goog.userAgent.OPERA?b="-o-transform":goog.userAgent.GECKO&&(b="-moz-transform");var c;b&&(c=goog.style.getStyle_(a,b));c||(c=goog.style.getStyle_(a,"transform"));return c?(a=c.match(goog.style.MATRIX_TRANSLATION_REGEX_))?new goog.math.Coordinate(parseFloat(a[1]),parseFloat(a[2])):new goog.math.Coordinate(0,0):new goog.math.Coordinate(0,0)};goog.ui={};goog.ui.IdGenerator=function(){};goog.addSingletonGetter(goog.ui.IdGenerator);goog.ui.IdGenerator.prototype.nextId_=0;goog.ui.IdGenerator.prototype.getNextUniqueId=function(){return":"+(this.nextId_++).toString(36)};goog.ui.IdGenerator.instance=goog.ui.IdGenerator.getInstance();goog.ui.Component=function(a){goog.events.EventTarget.call(this);this.dom_=a||goog.dom.getDomHelper();this.rightToLeft_=goog.ui.Component.defaultRightToLeft_};goog.inherits(goog.ui.Component,goog.events.EventTarget);goog.ui.Component.prototype.idGenerator_=goog.ui.IdGenerator.getInstance();goog.ui.Component.defaultRightToLeft_=null;
goog.ui.Component.EventType={BEFORE_SHOW:"beforeshow",SHOW:"show",HIDE:"hide",DISABLE:"disable",ENABLE:"enable",HIGHLIGHT:"highlight",UNHIGHLIGHT:"unhighlight",ACTIVATE:"activate",DEACTIVATE:"deactivate",SELECT:"select",UNSELECT:"unselect",CHECK:"check",UNCHECK:"uncheck",FOCUS:"focus",BLUR:"blur",OPEN:"open",CLOSE:"close",ENTER:"enter",LEAVE:"leave",ACTION:"action",CHANGE:"change"};
goog.ui.Component.Error={NOT_SUPPORTED:"Method not supported",DECORATE_INVALID:"Invalid element to decorate",ALREADY_RENDERED:"Component already rendered",PARENT_UNABLE_TO_BE_SET:"Unable to set parent component",CHILD_INDEX_OUT_OF_BOUNDS:"Child component index out of bounds",NOT_OUR_CHILD:"Child is not in parent component",NOT_IN_DOCUMENT:"Operation not supported while component is not in document",STATE_INVALID:"Invalid component state"};
goog.ui.Component.State={ALL:255,DISABLED:1,HOVER:2,ACTIVE:4,SELECTED:8,CHECKED:16,FOCUSED:32,OPENED:64};
goog.ui.Component.getStateTransitionEvent=function(a,b){switch(a){case goog.ui.Component.State.DISABLED:return b?goog.ui.Component.EventType.DISABLE:goog.ui.Component.EventType.ENABLE;case goog.ui.Component.State.HOVER:return b?goog.ui.Component.EventType.HIGHLIGHT:goog.ui.Component.EventType.UNHIGHLIGHT;case goog.ui.Component.State.ACTIVE:return b?goog.ui.Component.EventType.ACTIVATE:goog.ui.Component.EventType.DEACTIVATE;case goog.ui.Component.State.SELECTED:return b?goog.ui.Component.EventType.SELECT:
goog.ui.Component.EventType.UNSELECT;case goog.ui.Component.State.CHECKED:return b?goog.ui.Component.EventType.CHECK:goog.ui.Component.EventType.UNCHECK;case goog.ui.Component.State.FOCUSED:return b?goog.ui.Component.EventType.FOCUS:goog.ui.Component.EventType.BLUR;case goog.ui.Component.State.OPENED:return b?goog.ui.Component.EventType.OPEN:goog.ui.Component.EventType.CLOSE}throw Error(goog.ui.Component.Error.STATE_INVALID);};
goog.ui.Component.setDefaultRightToLeft=function(a){goog.ui.Component.defaultRightToLeft_=a};goog.ui.Component.prototype.id_=null;goog.ui.Component.prototype.inDocument_=!1;goog.ui.Component.prototype.element_=null;goog.ui.Component.prototype.rightToLeft_=null;goog.ui.Component.prototype.model_=null;goog.ui.Component.prototype.parent_=null;goog.ui.Component.prototype.children_=null;goog.ui.Component.prototype.childIndex_=null;goog.ui.Component.prototype.wasDecorated_=!1;
goog.ui.Component.prototype.getId=function(){return this.id_||(this.id_=this.idGenerator_.getNextUniqueId())};goog.ui.Component.prototype.setId=function(a){this.parent_&&this.parent_.childIndex_&&(goog.object.remove(this.parent_.childIndex_,this.id_),goog.object.add(this.parent_.childIndex_,a,this));this.id_=a};goog.ui.Component.prototype.getElement=function(){return this.element_};
goog.ui.Component.prototype.getElementStrict=function(){var a=this.element_;goog.asserts.assert(a,"Can not call getElementStrict before rendering/decorating.");return a};goog.ui.Component.prototype.setElementInternal=function(a){this.element_=a};goog.ui.Component.prototype.getElementsByClass=function(a){return this.element_?this.dom_.getElementsByClass(a,this.element_):[]};goog.ui.Component.prototype.getElementByClass=function(a){return this.element_?this.dom_.getElementByClass(a,this.element_):null};
goog.ui.Component.prototype.getHandler=function(){return this.googUiComponentHandler_||(this.googUiComponentHandler_=new goog.events.EventHandler(this))};goog.ui.Component.prototype.setParent=function(a){if(this==a)throw Error(goog.ui.Component.Error.PARENT_UNABLE_TO_BE_SET);if(a&&this.parent_&&this.id_&&this.parent_.getChild(this.id_)&&this.parent_!=a)throw Error(goog.ui.Component.Error.PARENT_UNABLE_TO_BE_SET);this.parent_=a;goog.ui.Component.superClass_.setParentEventTarget.call(this,a)};
goog.ui.Component.prototype.getParent=function(){return this.parent_};goog.ui.Component.prototype.setParentEventTarget=function(a){if(this.parent_&&this.parent_!=a)throw Error(goog.ui.Component.Error.NOT_SUPPORTED);goog.ui.Component.superClass_.setParentEventTarget.call(this,a)};goog.ui.Component.prototype.getDomHelper=function(){return this.dom_};goog.ui.Component.prototype.isInDocument=function(){return this.inDocument_};goog.ui.Component.prototype.createDom=function(){this.element_=this.dom_.createElement("div")};
goog.ui.Component.prototype.render=function(a){this.render_(a)};goog.ui.Component.prototype.renderBefore=function(a){this.render_(a.parentNode,a)};goog.ui.Component.prototype.render_=function(a,b){if(this.inDocument_)throw Error(goog.ui.Component.Error.ALREADY_RENDERED);this.element_||this.createDom();a?a.insertBefore(this.element_,b||null):this.dom_.getDocument().body.appendChild(this.element_);this.parent_&&!this.parent_.isInDocument()||this.enterDocument()};
goog.ui.Component.prototype.decorate=function(a){if(this.inDocument_)throw Error(goog.ui.Component.Error.ALREADY_RENDERED);if(a&&this.canDecorate(a))this.wasDecorated_=!0,this.dom_&&this.dom_.getDocument()==goog.dom.getOwnerDocument(a)||(this.dom_=goog.dom.getDomHelper(a)),this.decorateInternal(a),this.enterDocument();else throw Error(goog.ui.Component.Error.DECORATE_INVALID);};goog.ui.Component.prototype.canDecorate=function(a){return!0};goog.ui.Component.prototype.wasDecorated=function(){return this.wasDecorated_};
goog.ui.Component.prototype.decorateInternal=function(a){this.element_=a};goog.ui.Component.prototype.enterDocument=function(){this.inDocument_=!0;this.forEachChild(function(a){!a.isInDocument()&&a.getElement()&&a.enterDocument()})};goog.ui.Component.prototype.exitDocument=function(){this.forEachChild(function(a){a.isInDocument()&&a.exitDocument()});this.googUiComponentHandler_&&this.googUiComponentHandler_.removeAll();this.inDocument_=!1};
goog.ui.Component.prototype.disposeInternal=function(){this.inDocument_&&this.exitDocument();this.googUiComponentHandler_&&(this.googUiComponentHandler_.dispose(),delete this.googUiComponentHandler_);this.forEachChild(function(a){a.dispose()});!this.wasDecorated_&&this.element_&&goog.dom.removeNode(this.element_);this.parent_=this.model_=this.element_=this.childIndex_=this.children_=null;goog.ui.Component.superClass_.disposeInternal.call(this)};
goog.ui.Component.prototype.makeId=function(a){return this.getId()+"."+a};goog.ui.Component.prototype.makeIds=function(a){var b={},c;for(c in a)b[c]=this.makeId(a[c]);return b};goog.ui.Component.prototype.getModel=function(){return this.model_};goog.ui.Component.prototype.setModel=function(a){this.model_=a};goog.ui.Component.prototype.getFragmentFromId=function(a){return a.substring(this.getId().length+1)};
goog.ui.Component.prototype.getElementByFragment=function(a){if(!this.inDocument_)throw Error(goog.ui.Component.Error.NOT_IN_DOCUMENT);return this.dom_.getElement(this.makeId(a))};goog.ui.Component.prototype.addChild=function(a,b){this.addChildAt(a,this.getChildCount(),b)};
goog.ui.Component.prototype.addChildAt=function(a,b,c){if(a.inDocument_&&(c||!this.inDocument_))throw Error(goog.ui.Component.Error.ALREADY_RENDERED);if(0>b||b>this.getChildCount())throw Error(goog.ui.Component.Error.CHILD_INDEX_OUT_OF_BOUNDS);this.childIndex_&&this.children_||(this.childIndex_={},this.children_=[]);a.getParent()==this?(goog.object.set(this.childIndex_,a.getId(),a),goog.array.remove(this.children_,a)):goog.object.add(this.childIndex_,a.getId(),a);a.setParent(this);goog.array.insertAt(this.children_,
a,b);a.inDocument_&&this.inDocument_&&a.getParent()==this?(c=this.getContentElement(),c.insertBefore(a.getElement(),c.childNodes[b]||null)):c?(this.element_||this.createDom(),b=this.getChildAt(b+1),a.render_(this.getContentElement(),b?b.element_:null)):this.inDocument_&&!a.inDocument_&&a.element_&&a.element_.parentNode&&a.element_.parentNode.nodeType==goog.dom.NodeType.ELEMENT&&a.enterDocument()};goog.ui.Component.prototype.getContentElement=function(){return this.element_};
goog.ui.Component.prototype.isRightToLeft=function(){null==this.rightToLeft_&&(this.rightToLeft_=goog.style.isRightToLeft(this.inDocument_?this.element_:this.dom_.getDocument().body));return this.rightToLeft_};goog.ui.Component.prototype.setRightToLeft=function(a){if(this.inDocument_)throw Error(goog.ui.Component.Error.ALREADY_RENDERED);this.rightToLeft_=a};goog.ui.Component.prototype.hasChildren=function(){return!!this.children_&&0!=this.children_.length};
goog.ui.Component.prototype.getChildCount=function(){return this.children_?this.children_.length:0};goog.ui.Component.prototype.getChildIds=function(){var a=[];this.forEachChild(function(b){a.push(b.getId())});return a};goog.ui.Component.prototype.getChild=function(a){return this.childIndex_&&a?goog.object.get(this.childIndex_,a)||null:null};goog.ui.Component.prototype.getChildAt=function(a){return this.children_?this.children_[a]||null:null};
goog.ui.Component.prototype.forEachChild=function(a,b){this.children_&&goog.array.forEach(this.children_,a,b)};goog.ui.Component.prototype.indexOfChild=function(a){return this.children_&&a?goog.array.indexOf(this.children_,a):-1};
goog.ui.Component.prototype.removeChild=function(a,b){if(a){var c=goog.isString(a)?a:a.getId();a=this.getChild(c);c&&a&&(goog.object.remove(this.childIndex_,c),goog.array.remove(this.children_,a),b&&(a.exitDocument(),a.element_&&goog.dom.removeNode(a.element_)),a.setParent(null))}if(!a)throw Error(goog.ui.Component.Error.NOT_OUR_CHILD);return a};goog.ui.Component.prototype.removeChildAt=function(a,b){return this.removeChild(this.getChildAt(a),b)};
goog.ui.Component.prototype.removeChildren=function(a){for(var b=[];this.hasChildren();)b.push(this.removeChildAt(0,a));return b};fyre.dom=function(a){if(!(this instanceof fyre.dom))return new fyre.dom(a);this.element=fyre.dom.getElement(a)};fyre.dom.listDecorator=function(a,b){if(goog.isFunction(b))return goog.isArray(a)||goog.dom.isNodeList(a)?goog.array.map(a,function(a,d,e){return b(a)||a}):b(a)||a};
fyre.dom.getElement=function(a){if(goog.isString(a))return document.getElementById(a);if(goog.isDef(a))goog.isObject(a)||goog.isArray(a)||goog.asserts.assert(!1,"Invalid argument to fyre.v1.dom.getElement: "+a);else return[];if(goog.dom.isElement(a))return a;if(a.element&&goog.dom.isElement(a.element))return a.element;if((goog.isArray(a)||goog.dom.isNodeList(a))&&goog.array.every(a,function(a,c,d){return goog.dom.isElement(a)}))return a;goog.asserts.assert(!1,"Invalid argument to fyre.dom.getElement: "+
a)};fyre.dom.prototype.enums={EventType:{click:goog.ui.Component.EventType.ACTION,popstate:goog.events.EventType.POPSTATE,hashchange:goog.events.EventType.HASHCHANGE}};fyre.dom.prototype.addClass=function(a){var b=this.element.className.split(" ");goog.array.contains(b,a)||(this.element.className+=" "+a);return this};fyre.dom.prototype.next=function(){var a=goog.dom.getNextElementSibling(this.element);return a?fyre.dom(a):null};
fyre.dom.prototype.prev=function(){var a=fyre.dom(goog.dom.getPreviousElementSibling(this.element));return a?fyre.dom(a):null};fyre.dom.prototype.parent=function(){return fyre.dom(this.element.parentNode)};fyre.dom.prototype.after=function(a){goog.dom.insertSiblingAfter(a,this.element);return this};fyre.dom.prototype.all=function(){return this.element};fyre.dom.prototype.append=function(a){goog.dom.append(this.element,a);return this};
fyre.dom.prototype.extend=function(a){goog.array.forEach(a,this.append,this);return this};fyre.dom.prototype.insert=function(a,b){goog.dom.insertChildAt(this.element,a,b);return this};fyre.dom.prototype.attr=function(a,b){if("undefined"===typeof b)return this.element.getAttribute(a);var c={};c[a]=b;goog.dom.setProperties(this.element,c);return this};fyre.dom.prototype.before=function(a){goog.dom.insertSiblingBefore(this.element,a);return this};
fyre.dom.prototype.bind=function(a,b){goog.events.listen(this.element,this.enums.EventType[a],b);return this};fyre.dom.prototype.unbind=function(a,b){goog.events.unlisten(this.element,this.enums.EventType[a],b);return this};fyre.dom.create=function(a,b){var c;a=goog.string.trim(a);return"<"===a[0]?(c=goog.dom.createDom("div"),c.innerHTML=a,new fyre.dom(c.childNodes[0])):new fyre.dom(goog.dom.createDom.apply(window,arguments))};
fyre.dom.prototype.css=function(a){if(0===arguments.length)return this.attr("style");var b=[],c;for(c in a)a.hasOwnProperty(c)&&b.push(c+":"+a[c]+";");this.attr("style",b.join(""));return this};fyre.dom.prototype.empty=function(){goog.dom.removeChildren(this.element);return this};
fyre.dom.prototype.findElementByClass=function(a){var b=goog.dom.findNode(this.element,function(b){return b.nodeType==goog.dom.NodeType.ELEMENT&&goog.array.contains(b.className.split(" "),a)});return"undefined"===typeof b?null:new fyre.dom(b)};fyre.dom.prototype.findElementsByClass=function(a){var b=[];a=goog.dom.getElementsByClass(a,this.element);for(var c=0;c<a.length;c++)b.push(a[c]);return new fyre.dom(b)};
fyre.dom.prototype.findElementsByTagNameAndClass=function(a,b){for(var c=[],d=goog.dom.getElementsByTagNameAndClass(a,b,this.element),e=0;e<d.length;e++)c.push(d[e]);return new fyre.dom(c)};fyre.dom.prototype.getByClass=function(a){return(a=goog.dom.getElementByClass(a,this.element))?new fyre.dom(a):null};fyre.dom.prototype.getNByClass=function(a){a=goog.dom.getElementsByClass(a,this.element);var b=[],c,d=a.length;for(c=0;c<d;c++)b.push(fyre.dom(a[c]));return b};
fyre.dom.prototype.hasClass=function(a){return goog.array.contains(this.element.className.split(" "),a)};fyre.dom.prototype.hide=function(){fyre.dom.listDecorator(this.element,function(a){a.style.display="none"});return this};fyre.dom.prototype.html=function(a){if(0===arguments.length)return this.element.innerHTML;this.element.innerHTML=a;return this};fyre.dom.prototype.remove=function(){goog.dom.removeNode(this.element)};
fyre.dom.prototype.removeClass=function(a){fyre.dom.listDecorator(this.element,function(b){"undefined"===typeof a?b.className="":goog.dom.classes.remove(b,a)});return this};fyre.dom.prototype.show=function(a){a?this.css({display:a}):fyre.dom.listDecorator(this.element,function(a){goog.style.showElement(a,!0)});return this};fyre.dom.prototype.siblings=function(){for(var a=goog.dom.getChildren(this.element.parentNode),b=[],c=0;c<a.length;c++)a[c]!==this.element&&b.push(a[c]);return new fyre.dom(b)};
fyre.dom.prototype.unbind=function(a){this.attached_events[a]instanceof Array&&goog.events.unlisten.apply(this,this.attached_events[a]);return this};fyre.widget={};fyre.widget.Base=function(a,b){fyre.object.Communicator.call(this,a,b);this.subscribe(fyre.sp.events.READY,this.handleAppReady)};goog.inherits(fyre.widget.Base,fyre.object.Communicator);fyre.widget.Base.prototype.initialize=function(a){this.el=a.el?a.el:fyre.dom.create("div")};fyre.widget.Base.prototype.handleAppReady=function(){};
fyre.widget.Base.prototype.decorate=function(a){var b,c=fyre.dom.getElement(this.view.el);for(a=fyre.dom(a);b=c.firstChild;)a.append(b);goog.dom.removeNode(c);this.view.el=a;this.view.$el=fyre.dom(a);return a};goog.format={};goog.format.EmailAddress=function(a,b){this.name_=b||"";this.address_=a||""};goog.format.EmailAddress.OPENERS_='"<([';goog.format.EmailAddress.CLOSERS_='">)]';goog.format.EmailAddress.SPECIAL_CHARS_RE_=/[()<>@,;:\\\".\[\]]/;goog.format.EmailAddress.ALL_DOUBLE_QUOTES_=/\"/g;goog.format.EmailAddress.ESCAPED_DOUBLE_QUOTES_=/\\\"/g;goog.format.EmailAddress.ALL_BACKSLASHES_=/\\/g;goog.format.EmailAddress.ESCAPED_BACKSLASHES_=/\\\\/g;goog.format.EmailAddress.prototype.getName=function(){return this.name_};
goog.format.EmailAddress.prototype.getAddress=function(){return this.address_};goog.format.EmailAddress.prototype.setName=function(a){this.name_=a};goog.format.EmailAddress.prototype.setAddress=function(a){this.address_=a};
goog.format.EmailAddress.prototype.toString=function(){var a=this.getName(),a=a.replace(goog.format.EmailAddress.ALL_DOUBLE_QUOTES_,"");goog.format.EmailAddress.SPECIAL_CHARS_RE_.test(a)&&(a='"'+a.replace(goog.format.EmailAddress.ALL_BACKSLASHES_,"\\\\")+'"');return""==a?this.address_:""==this.address_?a:a+" <"+this.address_+">"};goog.format.EmailAddress.prototype.isValid=function(){return goog.format.EmailAddress.isValidAddrSpec(this.address_)};goog.format.EmailAddress.isValidAddress=function(a){return goog.format.EmailAddress.parse(a).isValid()};
goog.format.EmailAddress.isValidAddrSpec=function(a){return/^[+a-zA-Z0-9_.!#$%&'*\/=?^`{|}~-]+@([a-zA-Z0-9-]+\.)+[a-zA-Z0-9]{2,6}$/.test(a)};
goog.format.EmailAddress.parse=function(a){for(var b="",c="",d=0;d<a.length;){var e=goog.format.EmailAddress.getToken_(a,d);"<"==e.charAt(0)&&-1!=e.indexOf(">")?(c=e.indexOf(">"),c=e.substring(1,c)):""==c&&(b+=e);d+=e.length}""==c&&-1!=b.indexOf("@")&&(c=b,b="");b=goog.string.collapseWhitespace(b);b=goog.string.stripQuotes(b,"'");b=goog.string.stripQuotes(b,'"');b=b.replace(goog.format.EmailAddress.ESCAPED_DOUBLE_QUOTES_,'"');b=b.replace(goog.format.EmailAddress.ESCAPED_BACKSLASHES_,"\\");c=goog.string.collapseWhitespace(c);
return new goog.format.EmailAddress(c,b)};goog.format.EmailAddress.parseList=function(a){for(var b=[],c="",d,e=0;e<a.length;)d=goog.format.EmailAddress.getToken_(a,e),","==d||";"==d||" "==d&&goog.format.EmailAddress.parse(c).isValid()?(goog.string.isEmpty(c)||b.push(goog.format.EmailAddress.parse(c)),c="",e++):(c+=d,e+=d.length);goog.string.isEmpty(c)||b.push(goog.format.EmailAddress.parse(c));return b};
goog.format.EmailAddress.getToken_=function(a,b){var c=a.charAt(b),d=goog.format.EmailAddress.OPENERS_.indexOf(c);if(-1==d||goog.format.EmailAddress.isEscapedDlQuote_(a,b))return c;for(var d=goog.format.EmailAddress.CLOSERS_.charAt(d),e=a.indexOf(d,b+1);0<=e&&goog.format.EmailAddress.isEscapedDlQuote_(a,e);)e=a.indexOf(d,e+1);return 0<=e?a.substring(b,e+1):c};
goog.format.EmailAddress.isEscapedDlQuote_=function(a,b){if('"'!=a.charAt(b))return!1;for(var c=0,d=b-1;0<=d&&"\\"==a.charAt(d);d--)c++;return 0!=c%2};goog.dom.forms={};goog.dom.forms.getFormDataMap=function(a){var b=new goog.structs.Map;goog.dom.forms.getFormDataHelper_(a,b,goog.dom.forms.addFormDataToMap_);return b};goog.dom.forms.getFormDataString=function(a){var b=[];goog.dom.forms.getFormDataHelper_(a,b,goog.dom.forms.addFormDataToStringBuffer_);return b.join("&")};
goog.dom.forms.getFormDataHelper_=function(a,b,c){for(var d=a.elements,e,f=0;e=d[f];f++)if(e.form==a&&!e.disabled&&"fieldset"!=e.tagName.toLowerCase()){var g=e.name;switch(e.type.toLowerCase()){case "file":case "submit":case "reset":case "button":break;case "select-multiple":e=goog.dom.forms.getValue(e);if(null!=e)for(var h,k=0;h=e[k];k++)c(b,g,h);break;default:h=goog.dom.forms.getValue(e),null!=h&&c(b,g,h)}}d=a.getElementsByTagName("input");for(f=0;e=d[f];f++)e.form==a&&"image"==e.type.toLowerCase()&&
(g=e.name,c(b,g,e.value),c(b,g+".x","0"),c(b,g+".y","0"))};goog.dom.forms.addFormDataToMap_=function(a,b,c){var d=a.get(b);d||(d=[],a.set(b,d));d.push(c)};goog.dom.forms.addFormDataToStringBuffer_=function(a,b,c){a.push(encodeURIComponent(b)+"="+encodeURIComponent(c))};goog.dom.forms.hasFileInput=function(a){a=a.elements;for(var b,c=0;b=a[c];c++)if(!b.disabled&&b.type&&"file"==b.type.toLowerCase())return!0;return!1};
goog.dom.forms.setDisabled=function(a,b){if("FORM"==a.tagName)for(var c=a.elements,d=0;a=c[d];d++)goog.dom.forms.setDisabled(a,b);else 1==b&&a.blur(),a.disabled=b};goog.dom.forms.focusAndSelect=function(a){a.focus();a.select&&a.select()};goog.dom.forms.hasValue=function(a){return!!goog.dom.forms.getValue(a)};goog.dom.forms.hasValueByName=function(a,b){return!!goog.dom.forms.getValueByName(a,b)};
goog.dom.forms.getValue=function(a){var b=a.type;if(!goog.isDef(b))return null;switch(b.toLowerCase()){case "checkbox":case "radio":return goog.dom.forms.getInputChecked_(a);case "select-one":return goog.dom.forms.getSelectSingle_(a);case "select-multiple":return goog.dom.forms.getSelectMultiple_(a);default:return goog.isDef(a.value)?a.value:null}};goog.dom.$F=goog.dom.forms.getValue;
goog.dom.forms.getValueByName=function(a,b){var c=a.elements[b];if(c.type)return goog.dom.forms.getValue(c);for(var d=0;d<c.length;d++){var e=goog.dom.forms.getValue(c[d]);if(e)return e}return null};goog.dom.forms.getInputChecked_=function(a){return a.checked?a.value:null};goog.dom.forms.getSelectSingle_=function(a){var b=a.selectedIndex;return 0<=b?a.options[b].value:null};
goog.dom.forms.getSelectMultiple_=function(a){for(var b=[],c,d=0;c=a.options[d];d++)c.selected&&b.push(c.value);return b.length?b:null};goog.dom.forms.setValue=function(a,b){var c=a.type;if(goog.isDef(c))switch(c.toLowerCase()){case "checkbox":case "radio":goog.dom.forms.setInputChecked_(a,b);break;case "select-one":goog.dom.forms.setSelectSingle_(a,b);break;case "select-multiple":goog.dom.forms.setSelectMultiple_(a,b);break;default:a.value=goog.isDefAndNotNull(b)?b:""}};
goog.dom.forms.setInputChecked_=function(a,b){a.checked=b?"checked":null};goog.dom.forms.setSelectSingle_=function(a,b){a.selectedIndex=-1;if(goog.isString(b))for(var c,d=0;c=a.options[d];d++)if(c.value==b){c.selected=!0;break}};goog.dom.forms.setSelectMultiple_=function(a,b){goog.isString(b)&&(b=[b]);for(var c,d=0;c=a.options[d];d++)if(c.selected=!1,b)for(var e,f=0;e=b[f];f++)c.value==e&&(c.selected=!0)};fyre.forms={};fyre.forms.validate=function(a,b,c){this.$element=a;this.element=a.element;this.validator=b||new fyre.forms.validate.validator(a);this.errors=[];this.errorElements=[]};
fyre.forms.validate.prototype.run=function(){this.removeErrors();var a=this.$element,b=a.findElementsByTagNameAndClass("input").all(),c=a.findElementsByTagNameAndClass("textarea").all(),a=a.findElementsByTagNameAndClass("select").all(),b=goog.array.concat(b,c,a);goog.array.forEach(b,this.applyValidation,this);this.writeErrorsToDom();return goog.array.isEmpty(this.errors)?!0:!1};fyre.forms.validate.ERROR_CLS="fyre-cp-form-error";
fyre.forms.validate.prototype.applyValidation=function(a){var b=this.getValidationSchemes(a);if(b){var c=goog.dom.forms.getValue(a);goog.array.some(b.split(" "),function(b){if(""!==b){b=b.split("-");var e=b.shift();b.push(c);b.push(a);e=this.validator[e];goog.asserts.assert(e);b=e.apply(this,b);if(!b.isValid)return this.errors.push([a,b.msg]),!0}},this)}};fyre.forms.validate.prototype.getValidationSchemes=function(a){return a.getAttribute("data-fyre-validate")};
fyre.forms.validate.prototype.addError=function(a,b){var c=fyre.forms.validate.ERROR_CLS,d=fyre.dom.create("span",{"class":c}),e=fyre.dom(a),f=e.prev();d.html(b);e.after(d.element).addClass(c);f.addClass(c);this.errorElements.push(e)};fyre.forms.validate.prototype.removeErrors=function(){var a=fyre.forms.validate.ERROR_CLS;goog.array.forEach(this.errorElements,function(b){b.removeClass(a);b.next().remove();b.prev().removeClass(a)});this.errors=[];this.errorElements=[]};
fyre.forms.validate.prototype.writeErrorsToDom=function(a){this.errors=a||this.errors;goog.array.forEach(this.errors,function(a){this.addError(a[0],a[1])},this)};fyre.forms.validate.validator=function(a){this.$element=a;this.element=a.element};fyre.forms.validate.validator.FILE_TYPES={IMAGE:"image"};fyre.forms.validate.validator.prototype.required=function(a){return{isValid:a?0<a.length:!1,msg:"Field is required"}};
fyre.forms.validate.validator.prototype.maxlength=function(a,b){return{isValid:b.length<=parseInt(a,10),msg:"Maximum length of "+a+" characters"}};fyre.forms.validate.validator.prototype.minlength=function(a,b){return{isValid:b.length>=parseInt(a,10),msg:"Minumum length of "+a+" characters"}};fyre.forms.validate.validator.prototype.string=function(a){return{isValid:goog.isString(a),msg:"Field only accepts letters"}};
fyre.forms.validate.validator.prototype.integer=function(a){return{isValid:goog.math.isInt(parseInt(a,10)),msg:"Field only accepts an integer"}};fyre.forms.validate.validator.prototype.matches=function(a,b,c){b=window.document.getElementById(b);goog.asserts.assert(b);return{isValid:b.value===c,msg:"Value must match "+a}};fyre.forms.validate.validator.prototype.email=function(a){return{isValid:goog.format.EmailAddress.isValidAddress(a),msg:"Field only accepts a valid email"}};
fyre.forms.validate.validator.prototype.fileType=function(a,b){var c,d=[],e=fyre.forms.validate.validator.FILE_TYPES;switch(a){case e.IMAGE:c=/.+\.(gif|jpg|jpeg|tiff|png)$/i,d=["gif","jpg","jpeg","tiff","png"]}return{isValid:b?c.test(b):!0,msg:"Valid file extensions: "+d.join(", ")}};fyre.forms.validate.validator.prototype.fileSize=function(a,b,c){a=parseInt(a,10);b=c.size;return{isValid:b?b<a:!0,msg:"File size must be less than "+a/1E6+"MB"}};goog.crypt={};goog.crypt.stringToByteArray=function(a){for(var b=[],c=0,d=0;d<a.length;d++){for(var e=a.charCodeAt(d);255<e;)b[c++]=e&255,e>>=8;b[c++]=e}return b};goog.crypt.byteArrayToString=function(a){return String.fromCharCode.apply(null,a)};goog.crypt.byteArrayToHex=function(a){return goog.array.map(a,function(a){a=a.toString(16);return 1<a.length?a:"0"+a}).join("")};
goog.crypt.hexToByteArray=function(a){goog.asserts.assert(0==a.length%2,"Key string length must be multiple of 2");for(var b=[],c=0;c<a.length;c+=2)b.push(parseInt(a.substring(c,c+2),16));return b};goog.crypt.stringToUtf8ByteArray=function(a){a=a.replace(/\r\n/g,"\n");for(var b=[],c=0,d=0;d<a.length;d++){var e=a.charCodeAt(d);128>e?b[c++]=e:(2048>e?b[c++]=e>>6|192:(b[c++]=e>>12|224,b[c++]=e>>6&63|128),b[c++]=e&63|128)}return b};
goog.crypt.utf8ByteArrayToString=function(a){for(var b=[],c=0,d=0;c<a.length;){var e=a[c++];if(128>e)b[d++]=String.fromCharCode(e);else if(191<e&&224>e){var f=a[c++];b[d++]=String.fromCharCode((e&31)<<6|f&63)}else{var f=a[c++],g=a[c++];b[d++]=String.fromCharCode((e&15)<<12|(f&63)<<6|g&63)}}return b.join("")};goog.crypt.xorByteArray=function(a,b){goog.asserts.assert(a.length==b.length,"XOR array lengths must match");for(var c=[],d=0;d<a.length;d++)c.push(a[d]^b[d]);return c};goog.crypt.base64={};goog.crypt.base64.byteToCharMap_=null;goog.crypt.base64.charToByteMap_=null;goog.crypt.base64.byteToCharMapWebSafe_=null;goog.crypt.base64.charToByteMapWebSafe_=null;goog.crypt.base64.ENCODED_VALS_BASE="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";goog.crypt.base64.ENCODED_VALS=goog.crypt.base64.ENCODED_VALS_BASE+"+/=";goog.crypt.base64.ENCODED_VALS_WEBSAFE=goog.crypt.base64.ENCODED_VALS_BASE+"-_.";
goog.crypt.base64.HAS_NATIVE_SUPPORT=goog.userAgent.GECKO||goog.userAgent.WEBKIT||goog.userAgent.OPERA||"function"==typeof goog.global.atob;
goog.crypt.base64.encodeByteArray=function(a,b){if(!goog.isArrayLike(a))throw Error("encodeByteArray takes an array as a parameter");goog.crypt.base64.init_();for(var c=b?goog.crypt.base64.byteToCharMapWebSafe_:goog.crypt.base64.byteToCharMap_,d=[],e=0;e<a.length;e+=3){var f=a[e],g=e+1<a.length,h=g?a[e+1]:0,k=e+2<a.length,l=k?a[e+2]:0,m=f>>2,f=(f&3)<<4|h>>4,h=(h&15)<<2|l>>6,l=l&63;k||(l=64,g||(h=64));d.push(c[m],c[f],c[h],c[l])}return d.join("")};
goog.crypt.base64.encodeString=function(a,b){return goog.crypt.base64.HAS_NATIVE_SUPPORT&&!b?goog.global.btoa(a):goog.crypt.base64.encodeByteArray(goog.crypt.stringToByteArray(a),b)};goog.crypt.base64.decodeString=function(a,b){return goog.crypt.base64.HAS_NATIVE_SUPPORT&&!b?goog.global.atob(a):goog.crypt.byteArrayToString(goog.crypt.base64.decodeStringToByteArray(a,b))};
goog.crypt.base64.decodeStringToByteArray=function(a,b){goog.crypt.base64.init_();for(var c=b?goog.crypt.base64.charToByteMapWebSafe_:goog.crypt.base64.charToByteMap_,d=[],e=0;e<a.length;){var f=c[a.charAt(e++)],g=e<a.length?c[a.charAt(e)]:0;++e;var h=e<a.length?c[a.charAt(e)]:0;++e;var k=e<a.length?c[a.charAt(e)]:0;++e;if(null==f||null==g||null==h||null==k)throw Error();d.push(f<<2|g>>4);64!=h&&(d.push(g<<4&240|h>>2),64!=k&&d.push(h<<6&192|k))}return d};
goog.crypt.base64.init_=function(){if(!goog.crypt.base64.byteToCharMap_){goog.crypt.base64.byteToCharMap_={};goog.crypt.base64.charToByteMap_={};goog.crypt.base64.byteToCharMapWebSafe_={};goog.crypt.base64.charToByteMapWebSafe_={};for(var a=0;a<goog.crypt.base64.ENCODED_VALS.length;a++)goog.crypt.base64.byteToCharMap_[a]=goog.crypt.base64.ENCODED_VALS.charAt(a),goog.crypt.base64.charToByteMap_[goog.crypt.base64.byteToCharMap_[a]]=a,goog.crypt.base64.byteToCharMapWebSafe_[a]=goog.crypt.base64.ENCODED_VALS_WEBSAFE.charAt(a),
goog.crypt.base64.charToByteMapWebSafe_[goog.crypt.base64.byteToCharMapWebSafe_[a]]=a}};fyre.util={};fyre.util.base64={};fyre.util.hash={};fyre.util.uniqueId=function(){var a=0;return function(b){var c=a++;return b?b+c:c}}();fyre.util.forEach=function(a,b,c){return goog.isArray(a)?goog.array.forEach(a,b,c):goog.object.forEach(a,b,c)};fyre.util.extend=function(a){fyre.util.forEach(Array.prototype.slice.call(arguments,1),function(b){for(var c in b)a[c]=b[c]});return a};
fyre.util.loadCSS=function(a,b,c){var d=document.getElementsByTagName("head")[0],e=document.createElement("link");2>arguments.length&&(b=document);fyre.util.existsOnPage("link","href",a,b)||(d=b.getElementsByTagName("head")[0],e=b.createElement("link"),e.rel="stylesheet",e.type="text/css",e.href=a,e.media="all",goog.isObject(c)&&goog.object.extend(e,c),d.appendChild(e))};
fyre.util.loadScript=function(a,b,c){var d,e;2>arguments.length&&(b=document);fyre.util.existsOnPage("script","src",a,b)||(d=b.getElementsByTagName("head")[0],e=b.createElement("script"),e.type="text/javascript",e.src=a,goog.isObject(c)&&goog.object.extend(e,c),d.appendChild(e))};fyre.util.existsOnPage=function(a,b,c,d){4>arguments.length&&(d=document);return goog.array.some(d.getElementsByTagName(a),function(a){return goog.isString(a[b])&&-1<a[b].indexOf(c)})};fyre.util.base64.encodeString=function(a){return goog.crypt.base64.encodeString(a)};
fyre.util.base64.decodeString=function(a){return goog.crypt.base64.decodeString(a.replace(/\"/g,""))};fyre.util.hash.get=function(a){var b=window.location.hash;a=b.indexOf("#"+a);if(-1===a)return null;b=b.substring(a).split("=",2);return 2!=b.length?null:b[1]};fyre.lib={};fyre.lib.Backbone={};
(function(){var a=Array.prototype.slice,b=fyre.lib.Backbone={};b.Events={on:function(a,b,c){var d;a=a.split(/\s+/);for(var e=this._callbacks||(this._callbacks={});d=a.shift();){d=e[d]||(e[d]={});var f=d.tail||(d.tail=d.next={});f.callback=b;f.context=c;d.tail=f.next={}}return this},off:function(a,b,c){var d,e,f;if(!a)delete this._callbacks;else if(e=this._callbacks)for(a=a.split(/\s+/);d=a.shift();)if(f=e[d],delete e[d],b&&f)for(;(f=f.next)&&f.next;)if(f.callback!==b||c&&f.context!==c)this.on(d,f.callback,
f.context);return this},trigger:function(b){var c,d,e,f;if(!(e=this._callbacks))return this;f=e.all;for((b=b.split(/\s+/)).push(null);c=b.shift();)f&&b.push({next:f.next,tail:f.tail,event:c}),(d=e[c])&&b.push({next:d.next,tail:d.tail});for(f=a.call(arguments,1);d=b.pop();)for(c=d.tail,e=d.event?[d.event].concat(f):f;(d=d.next)!==c;)d.callback.apply(d.context||this,e);return this}};b.Events.bind=b.Events.on;b.Events.unbind=b.Events.off;b.View=function(a){this.cid=fyre.util.uniqueId("view");this._configure(a||
{});this._ensureElement();this.initialize.apply(this,arguments);this.delegateEvents()};var c=/^(\S+)\s*(.*)$/,d="model collection el id attributes className tagName".split(" ");fyre.util.extend(b.View.prototype,b.Events,{tagName:"div",$:function(a){return this.$el.find(a)},initialize:function(){},render:function(){return this},remove:function(){this.$el.remove();return this},make:function(a,b,c){a=document.createElement(a);b&&fyre.dom(a).attr(b);c&&fyre.dom(a).html(c);return a},setElement:function(a,
b){this.$el=fyre.dom(a);this.el=this.$el.element;!1!==b&&this.delegateEvents();return this},delegateEvents:function(a){if(a||(a=g(this,"events"))){this.undelegateEvents();for(var b in a){var d=a[b];goog.isFunction(d)||(d=this[a[b]]);if(!d)throw Error('Event "'+a[b]+'" does not exist');var e=b.match(c),f=e[1],e=e[2],d=goog.bind(d,this),f=f+(".delegateEvents"+this.cid);""===e?this.$el.bind(f,d):this.$el.delegate(e,f,d)}}},undelegateEvents:function(){this.$el.unbind(".delegateEvents"+this.cid)},_configure:function(a){this.options&&
(a=fyre.util.extend({},this.options,a));for(var b=0,c=d.length;b<c;b++){var e=d[b];a[e]&&(this[e]=a[e])}this.options=a},_ensureElement:function(){if(this.el)this.setElement(this.el,!1);else{var a=g(this,"attributes")||{};this.id&&(a.id=this.id);this.className&&(a["class"]=this.className);this.setElement(this.make(this.tagName,a),!1)}}});b.View.extend=function(a,b){var c=f(this,a,b);c.extend=this.extend;return c};var e=function(){},f=function(a,b,c){var d;d=b&&b.hasOwnProperty("constructor")?b.constructor:
function(){a.apply(this,arguments)};fyre.util.extend(d,a);e.prototype=a.prototype;d.prototype=new e;b&&fyre.util.extend(d.prototype,b);c&&fyre.util.extend(d,c);d.prototype.constructor=d;d.__super__=a.prototype;return d},g=function(a,b){return a&&a[b]?goog.isFunction(a[b])?a[b]():a[b]:null}})();fyre.lib.html5={};
(function(a,b){function c(){var a=m.elements;return"string"==typeof a?a.split(" "):a}function d(a){var b={},d=a.createElement,e=a.createDocumentFragment,f=e();a.createElement=function(a){m.shivMethods||d(a);var c;c=b[a]?b[a].cloneNode():h.test(a)?(b[a]=d(a)).cloneNode():d(a);return c.canHaveChildren&&!g.test(a)?f.appendChild(c):c};a.createDocumentFragment=Function("h,f","return function(){var n=f.cloneNode(),c=n.createElement;h.shivMethods&&("+c().join().replace(/\w+/g,function(a){b[a]=d(a);f.createElement(a);
return'c("'+a+'")'})+");return n}")(m,f)}function e(a){var b;if(a.documentShived)return a;if(m.shivCSS&&!k){b=a.createElement("p");var c=a.getElementsByTagName("head")[0]||a.documentElement;b.innerHTML="x<style>article,aside,details,figcaption,figure,footer,header,hgroup,nav,section{display:block}audio{display:none}canvas,video{display:inline-block;*display:inline;*zoom:1}[hidden]{display:none}audio[controls]{display:inline-block;*display:inline;*zoom:1}mark{background:#FF0;color:#000}</style>";b=
!!c.insertBefore(b.lastChild,c.firstChild)}l||(b=!d(a));b&&(a.documentShived=b);return a}var f={},g=/^<|^(?:button|form|map|select|textarea|object|iframe)$/i,h=/^<|^(?:a|b|button|code|div|fieldset|form|h1|h2|h3|h4|h5|h6|i|iframe|img|input|label|li|link|ol|option|p|param|q|script|select|span|strong|style|table|tbody|td|textarea|tfoot|th|thead|tr|ul)$/i,k,l;(function(){var c=b.createElement("a");c.innerHTML="<xyz></xyz>";(k="hidden"in c)&&"function"==typeof injectElementWithStyles&&injectElementWithStyles("#modernizr{}",
function(b){b.hidden=!0;k="none"==(a.getComputedStyle?getComputedStyle(b,null):b.currentStyle).display});l=1==c.childNodes.length||function(){try{b.createElement("a")}catch(a){return!0}var c=b.createDocumentFragment();return"undefined"==typeof c.cloneNode||"undefined"==typeof c.createDocumentFragment||"undefined"==typeof c.createElement}()})();var m={elements:f.elements||"abbr article aside audio bdi canvas data datalist details figcaption figure footer header hgroup mark meter nav output progress section summary time video",
shivCSS:!1!==f.shivCSS,shivMethods:!1!==f.shivMethods,type:"default",shivDocument:e};fyre.lib.html5=m;e(b)})(goog.global,document);fyre.lib.Handlebars={};
(function(a){a.VERSION="1.0.beta.6";a.helpers={};a.partials={};a.registerHelper=function(a,b,e){e&&(b.not=e);this.helpers[a]=b};a.registerPartial=function(a,b){this.partials[a]=b};a.registerHelper("helperMissing",function(a){if(2!==arguments.length)throw Error("Could not find property '"+a+"'");});var b=Object.prototype.toString;a.registerHelper("blockHelperMissing",function(a,d){var e=d.inverse||function(){},f=d.fn,g="",h=b.call(a);"[object Function]"===h&&(a=a.call(this));if(!0===a)return f(this);
if(!1===a||null==a)return e(this);if("[object Array]"===h){if(0<a.length)for(e=0,h=a.length;e<h;e++)g+=f(a[e]);else g=e(this);return g}return f(a)});a.registerHelper("each",function(a,b){var e=b.fn,f=b.inverse,g="";goog.isArray(a)||(a=[a]);if(a&&0<a.length)for(var f=0,h=a.length;f<h;f++)g+=e(a[f]);else g=f(this);return g});a.registerHelper("if",function(c,d){"[object Function]"===b.call(c)&&(c=c.call(this));return!c||a.Utils.isEmpty(c)?d.inverse(this):d.fn(this)});a.registerHelper("unless",function(b,
d){var e=d.fn;d.fn=d.inverse;d.inverse=e;return a.helpers["if"].call(this,b,d)});a.registerHelper("with",function(a,b){return b.fn(a)});a.registerHelper("log",function(b){a.log(b)});a.Exception=function(a){var b=Error.prototype.constructor.apply(this,arguments),e;for(e in b)b.hasOwnProperty(e)&&(this[e]=b[e]);this.message=b.message};a.Exception.prototype=Error();a.SafeString=function(a){this.string=a};a.SafeString.prototype.toString=function(){return this.string.toString()};(function(){var b={"<":"&lt;",
">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},d=/&(?!\w+;)|[<>"'`]/g,e=/[&<>"'`]/,f=function(a){return b[a]||"&amp;"};a.Utils={escapeExpression:function(b){return b instanceof a.SafeString?b.toString():null==b||!1===b?"":e.test(b)?b.replace(d,f):b},isEmpty:function(a){return"undefined"===typeof a?!0:null===a?!0:!1===a?!0:"[object Array]"===Object.prototype.toString.call(a)&&0===a.length?!0:!1}}})();a.VM={template:function(b){var d={escapeExpression:a.Utils.escapeExpression,invokePartial:a.VM.invokePartial,
programs:[],program:function(b,c,d){var h=this.programs[b];if(d)return a.VM.program(c,d);h||(h=this.programs[b]=a.VM.program(c));return h},programWithDepth:a.VM.programWithDepth,noop:a.VM.noop};return function(e,f){f=f||{};return b.call(d,a,e,f.helpers,f.partials,f.data)}},programWithDepth:function(a,b,e){var f=Array.prototype.slice.call(arguments,2);return function(e,h){h=h||{};return a.apply(this,[e,h.data||b].concat(f))}},program:function(a,b){return function(e,f){f=f||{};return a(e,f.data||b)}},
noop:function(){return""},invokePartial:function(b,d,e,f,g,h){options={helpers:f,partials:g,data:h};if(void 0===b)throw new a.Exception("The partial "+d+" could not be found");if(b instanceof Function)return b(e,options);if(a.compile)return g[d]=a.compile(b),g[d](e,options);throw new a.Exception("The partial "+d+" could not be compiled when running in runtime-only mode");}};a.template=a.VM.template})(fyre.lib.Handlebars);goog.exportSymbol("fyre.lib.Handlebars",fyre.lib.Handlebars);fyre.ui={};fyre.ui.View=function(a,b){this.messenger=a;fyre.lib.Backbone.View.call(this,b)};goog.inherits(fyre.ui.View,fyre.lib.Backbone.View);fyre.ui.View.prototype.initialize=function(a){a=a||{};this.domHelper=a.domHelper||new goog.dom.DomHelper};fyre.ui.View.prototype.subscribe=fyre.object.Communicator.prototype.subscribe;fyre.ui.View.prototype.trigger=fyre.object.Communicator.prototype.trigger;
fyre.ui.View.prototype.getContext=function(){var a={assetUrl:fyre.config.assetUrl(),logo:fyre.config.assetUrl("images/livefyre-logo.png")};goog.object.extend(a,this.model.toJSON());return a};fyre.ui.View.prototype.setElement=function(a,b){goog.isString(a)&&(a=document.getElementById(a));return fyre.ui.View.superClass_.setElement.call(this,a,b)};fyre.ui.View.prototype.hide=function(){this.$el.hide()};fyre.ui.View.prototype.show=function(){this.$el.show()};
fyre.ui.View.prototype.render=function(){this.container&&this.container.dispose();this.container=new goog.ui.Container(this.el);this.renderSafe();this.registerControls()};fyre.ui.View.prototype.renderSafe=function(){};fyre.ui.View.prototype.handleAppReady=function(){this.render=this.renderSafe;this.render()};
fyre.ui.View.prototype.registerControl=function(a,b){var c=goog.array.slice(arguments,1),d,e,f,g=goog.array.clone(c);goog.asserts.assert(0===c.length%2);if(a)for(goog.isArray(a)||(a=[a]),d=0,e=a.length;d<e;d++){for(f=fyre.dom.getElement(a[d]);!goog.array.isEmpty(c);)this.container.getHandler().listen(f,c.shift(),goog.bind(c.shift(),this));c=goog.array.clone(g)}};fyre.ui.View.prototype.registerControls=function(){};
fyre.lib.Handlebars.registerHelper("include",function(a){goog.isString(a)&&(a=goog.getObjectByName(a));return new fyre.lib.Handlebars.SafeString(a(this))});fyre.lib.Handlebars.registerHelper("pluralize",function(a,b,c){return 1===goog.string.toNumber(a)?b:c});fyre.lib.Handlebars.registerHelper("default",function(a,b){return a?a:b});
fyre.lib.Handlebars.registerHelper("partial_text",function(a,b,c){if(!a)return"";var d,e=a.length;b="fyre-profile-more-link";c=c||90;if(!a)return"";d=a.substring(0,c);e>c&&(d=d+('<a href="#" class="'+b+'"> (&hellip;more)</a>')+('<span class="fyre-cp-hidden">'+a.substring(c,e)+"</span>"));return new fyre.lib.Handlebars.SafeString(d)});fyre.lib.Handlebars.registerHelper("media_url",function(a){return fyre.sp.config.assetUrl(a)});goog.userAgent.product={};goog.userAgent.product.ASSUME_FIREFOX=!1;goog.userAgent.product.ASSUME_CAMINO=!1;goog.userAgent.product.ASSUME_IPHONE=!1;goog.userAgent.product.ASSUME_IPAD=!1;goog.userAgent.product.ASSUME_ANDROID=!1;goog.userAgent.product.ASSUME_CHROME=!1;goog.userAgent.product.ASSUME_SAFARI=!1;
goog.userAgent.product.PRODUCT_KNOWN_=goog.userAgent.ASSUME_IE||goog.userAgent.ASSUME_OPERA||goog.userAgent.product.ASSUME_FIREFOX||goog.userAgent.product.ASSUME_CAMINO||goog.userAgent.product.ASSUME_IPHONE||goog.userAgent.product.ASSUME_IPAD||goog.userAgent.product.ASSUME_ANDROID||goog.userAgent.product.ASSUME_CHROME||goog.userAgent.product.ASSUME_SAFARI;
goog.userAgent.product.init_=function(){goog.userAgent.product.detectedFirefox_=!1;goog.userAgent.product.detectedCamino_=!1;goog.userAgent.product.detectedIphone_=!1;goog.userAgent.product.detectedIpad_=!1;goog.userAgent.product.detectedAndroid_=!1;goog.userAgent.product.detectedChrome_=!1;goog.userAgent.product.detectedSafari_=!1;var a=goog.userAgent.getUserAgentString();a&&(-1!=a.indexOf("Firefox")?goog.userAgent.product.detectedFirefox_=!0:-1!=a.indexOf("Camino")?goog.userAgent.product.detectedCamino_=
!0:-1!=a.indexOf("iPhone")||-1!=a.indexOf("iPod")?goog.userAgent.product.detectedIphone_=!0:-1!=a.indexOf("iPad")?goog.userAgent.product.detectedIpad_=!0:-1!=a.indexOf("Android")?goog.userAgent.product.detectedAndroid_=!0:-1!=a.indexOf("Chrome")?goog.userAgent.product.detectedChrome_=!0:-1!=a.indexOf("Safari")&&(goog.userAgent.product.detectedSafari_=!0))};goog.userAgent.product.PRODUCT_KNOWN_||goog.userAgent.product.init_();goog.userAgent.product.OPERA=goog.userAgent.OPERA;
goog.userAgent.product.IE=goog.userAgent.IE;goog.userAgent.product.FIREFOX=goog.userAgent.product.PRODUCT_KNOWN_?goog.userAgent.product.ASSUME_FIREFOX:goog.userAgent.product.detectedFirefox_;goog.userAgent.product.CAMINO=goog.userAgent.product.PRODUCT_KNOWN_?goog.userAgent.product.ASSUME_CAMINO:goog.userAgent.product.detectedCamino_;goog.userAgent.product.IPHONE=goog.userAgent.product.PRODUCT_KNOWN_?goog.userAgent.product.ASSUME_IPHONE:goog.userAgent.product.detectedIphone_;
goog.userAgent.product.IPAD=goog.userAgent.product.PRODUCT_KNOWN_?goog.userAgent.product.ASSUME_IPAD:goog.userAgent.product.detectedIpad_;goog.userAgent.product.ANDROID=goog.userAgent.product.PRODUCT_KNOWN_?goog.userAgent.product.ASSUME_ANDROID:goog.userAgent.product.detectedAndroid_;goog.userAgent.product.CHROME=goog.userAgent.product.PRODUCT_KNOWN_?goog.userAgent.product.ASSUME_CHROME:goog.userAgent.product.detectedChrome_;
goog.userAgent.product.SAFARI=goog.userAgent.product.PRODUCT_KNOWN_?goog.userAgent.product.ASSUME_SAFARI:goog.userAgent.product.detectedSafari_;fyre.util.browser={};fyre.util.browser.isMobile=function(){var a=goog.userAgent.getUserAgentString();return goog.userAgent.MOBILE||goog.userAgent.product.ANDROID||-1<a.indexOf("IEMobile")};fyre.ui.PopupView=function(a,b){this.isMobile=fyre.util.browser.isMobile();fyre.ui.View.call(this,a,b)};goog.inherits(fyre.ui.PopupView,fyre.ui.View);fyre.ui.PopupView.prototype.close=function(){this.closeInternal()};fyre.ui.PopupView.prototype.closeInternal=function(){};fyre.ui.PopupView.prototype.open=function(){this.openInternal()};fyre.ui.PopupView.prototype.openInternal=function(){};fyre.ui.PopupView.prototype.reposition=function(){this.repositionInternal()};
fyre.ui.PopupView.prototype.repositionInternal=function(){};fyre.ui.PopupView.prototype.render=function(){fyre.ui.PopupView.superClass_.render.call(this);this.reposition()};fyre.ui.PopupView.prototype.popupType=function(){return null};fyre.sp.templates={};
fyre.sp.templates.editpasswordexpired="function"==typeof fyre.sp.templates.editpasswordexpired?fyre.sp.templates.editpasswordexpired:fyre.lib.Handlebars.template(function(a,b,c,d,e){this.compilerInfo=[3,">= 1.0.0-rc.4"];c=c||a.helpers;e=e||{};var f,g=c.helperMissing;a=this.escapeExpression;d={hash:{},data:e};d='<header class="fyre-cp-modal-header">\n    Reset password\n    <img src="'+(a((f=c.media_url,f?f.call(b,"images/default/logo.png",d):g.call(b,"media_url","images/default/logo.png",d)))+'" align="right" alt="Livefyre" />\n</header>\n<section class="fyre-cp-one-column">\n    <p class="fyre-cp-reset-pw-expired">\n        The link you clicked to reset your password has expired.\n        Reset your password again, and we\'ll send you a new link.\n    </p>\n    <div class="fyre-cp-form-btns">\n        <a href="');
(c=c.signInLink)?c=c.call(b,{hash:{},data:e}):(c=b.signInLink,c="function"===typeof c?c.apply(b):c);return d+=a(c)+'" title="Sign in" class="fyre-cp-link-sign-in">Sign in</a>\n        <input type="button" value="Start Over" class="fyre-cp-form-submit-btn fyre-cp-form-start-over-btn" />\n    </div>\n</section>\n'});goog.exportSymbol("fyre.sp.templates.editpasswordexpired",fyre.sp.templates.editpasswordexpired);fyre.sp.templates.editpasswordsuccess="function"==typeof fyre.sp.templates.editpasswordsuccess?fyre.sp.templates.editpasswordsuccess:fyre.lib.Handlebars.template(function(a,b,c,d,e){this.compilerInfo=[3,">= 1.0.0-rc.4"];c=c||a.helpers;e=e||{};var f;a=c.helperMissing;d=this.escapeExpression;e={hash:{},data:e};return b='<header class="fyre-cp-modal-header">\n    Reset password\n    <img src="'+(d((f=c.media_url,f?f.call(b,"images/default/logo.png",e):a.call(b,"media_url","images/default/logo.png",e)))+
'" align="right" alt="Livefyre" />\n</header>\n<section class="fyre-cp-one-column">\n    <p class="fyre-cp-edit-pw-success">\n        Success! Your password has been changed, and you are now logged in\n    </p>\n    <div class="fyre-cp-form-btns">\n        <input type="button" value="Done" class="fyre-cp-form-submit-btn" />\n    </div>\n</section>')});goog.exportSymbol("fyre.sp.templates.editpasswordsuccess",fyre.sp.templates.editpasswordsuccess);fyre.sp.templates.editpasswordform="function"==typeof fyre.sp.templates.editpasswordform?fyre.sp.templates.editpasswordform:fyre.lib.Handlebars.template(function(a,b,c,d,e){this.compilerInfo=[3,">= 1.0.0-rc.4"];c=c||a.helpers;e=e||{};var f,g=c.helperMissing;a=this.escapeExpression;d={hash:{},data:e};d='<header class="fyre-cp-modal-header">\n    Reset password\n    <img src="'+(a((f=c.media_url,f?f.call(b,"images/default/logo.png",d):g.call(b,"media_url","images/default/logo.png",d)))+'" align="right" alt="Livefyre" />\n</header>\n<section class="fyre-cp-one-column fyre-cp-edit-pw">\n    <form class="fyre-cp-form">\n        <input type="hidden" name="token" value="');
(c=c.token)?c=c.call(b,{hash:{},data:e}):(c=b.token,c="function"===typeof c?c.apply(b):c);return d+=a(c)+'" />\n        <label for="password">New Password *</label>\n        <input type="password" id="fyrePassword" name="password" class="fyre-cp-input-password" data-fyre-validate="required minlength-6 maxlength-32" />\n        <label for="password_dup">New Password * <span>(again)</label>\n        <input type="password" name="password_dup" class="fyre-cp-input-password_dup" data-fyre-validate="required matches-password-fyrePassword" />\n        <footer class="fyre-cp-form-btns">\n            <input type="submit" value="Change Password" class="fyre-cp-form-submit-btn" />\n        </footer>\n    </form>\n</section>\n'});
goog.exportSymbol("fyre.sp.templates.editpasswordform",fyre.sp.templates.editpasswordform);fyre.sp.ui={};fyre.sp.ui.EditPasswordView=function(a,b){fyre.ui.PopupView.call(this,a,b)};goog.inherits(fyre.sp.ui.EditPasswordView,fyre.ui.PopupView);fyre.sp.ui.EditPasswordView.CLASSES={FORM:"fyre-cp-form",SUBMIT_BTN:"fyre-cp-form-submit-btn",SIGN_IN_LINK:"fyre-cp-link-sign-in"};
fyre.sp.ui.EditPasswordView.prototype.initialize=function(a){fyre.sp.ui.EditPasswordView.superClass_.initialize.call(this,a);this.token=null;this.subscribe(fyre.sp.events.PW_EDIT_INIT,this.handleOpen);this.subscribe(fyre.sp.events.PW_EDIT_FAILURE,this.handleFormFailure);this.subscribe(fyre.sp.events.PW_EDIT_SUCCESS,this.handleFormSuccess)};fyre.sp.ui.EditPasswordView.prototype.getForm=function(){return this.$el.getByClass(fyre.sp.ui.EditPasswordView.CLASSES.FORM)};
fyre.sp.ui.EditPasswordView.prototype.getSubmitBtn=function(){return this.$el.getByClass(fyre.sp.ui.EditPasswordView.CLASSES.SUBMIT_BTN)};fyre.sp.ui.EditPasswordView.prototype.handleFormSubmit=function(a){a.preventDefault();this.validator.run()&&(a=goog.dom.forms.getFormDataMap(this.getForm().element),this.messenger.trigger(fyre.sp.events.PW_EDIT_SUBMIT,a.toObject()))};
fyre.sp.ui.EditPasswordView.prototype.registerControls=function(){this.registerControl(this.getForm(),goog.events.EventType.SUBMIT,this.handleFormSubmit)};fyre.sp.ui.EditPasswordView.prototype.handleOpen=function(a){goog.asserts.assert(a);this.token=a;this.open()};fyre.sp.ui.EditPasswordView.prototype.openInternal=function(){this.render()};fyre.sp.ui.EditPasswordView.prototype.renderSafe=function(){this.$el.html(fyre.sp.templates.editpasswordform({token:this.token}));this.validator=new fyre.forms.validate(this.getForm())};
fyre.sp.ui.EditPasswordView.prototype.handleFormFailure=function(){var a=fyre.sp.ui.EditPasswordView.CLASSES;this.container.dispose();this.$el.html(fyre.sp.templates.editpasswordexpired({signInLink:"#fillmesin"}));this.registerControl(this.$el.getByClass(a.SIGN_IN_LINK),goog.events.EventType.CLICK,function(a){a.preventDefault();this.container.dispose();this.messenger.trigger(fyre.sp.events.ENGAGE_AUTH_INIT)});this.registerControl(this.getSubmitBtn(),goog.events.EventType.CLICK,function(a){a.preventDefault();
this.container.dispose();this.messenger.trigger(fyre.sp.events.PW_EDIT_INIT,this.token)})};fyre.sp.ui.EditPasswordView.prototype.handleFormSuccess=function(){this.container.dispose();this.$el.html(fyre.sp.templates.editpasswordsuccess());this.registerControl(this.getSubmitBtn(),goog.events.EventType.CLICK,this.close)};fyre.sp.widget={};fyre.sp.widget.EditPasswordWidget=function(a,b){fyre.widget.Base.call(this,a,b)};goog.inherits(fyre.sp.widget.EditPasswordWidget,fyre.widget.Base);
fyre.sp.widget.EditPasswordWidget.prototype.initialize=function(a){fyre.sp.widget.EditPasswordWidget.superClass_.initialize.call(this,a);this.client=a.utilClient||new fyre.sp.client.UtilClient(this.messenger,{});this.controller=a.utilController||new fyre.sp.controller.UtilController(this.messenger,{utilClient:this.client});this.view=new fyre.sp.ui.EditPasswordView(this.messenger,{});a.viewDecorator&&a.viewDecorator.decorate(this.view)};goog.style.bidi={};goog.style.bidi.getScrollLeft=function(a){var b=goog.style.isRightToLeft(a);return b&&goog.userAgent.GECKO?-a.scrollLeft:!b||goog.userAgent.IE&&goog.userAgent.isVersion("8")||"visible"==goog.style.getComputedOverflowX(a)?a.scrollLeft:a.scrollWidth-a.clientWidth-a.scrollLeft};
goog.style.bidi.getOffsetStart=function(a){var b=a.offsetLeft,c=a.offsetParent;c||"fixed"!=goog.style.getComputedPosition(a)||(c=goog.dom.getOwnerDocument(a).documentElement);if(!c)return b;if(goog.userAgent.GECKO)var d=goog.style.getBorderBox(c),b=b+d.left;else goog.userAgent.isDocumentMode(8)&&(d=goog.style.getBorderBox(c),b-=d.left);return goog.style.isRightToLeft(c)?c.clientWidth-(b+a.offsetWidth):b};
goog.style.bidi.setScrollOffset=function(a,b){b=Math.max(b,0);goog.style.isRightToLeft(a)?goog.userAgent.GECKO?a.scrollLeft=-b:goog.userAgent.IE&&goog.userAgent.isVersion("8")?a.scrollLeft=b:a.scrollLeft=a.scrollWidth-b-a.clientWidth:a.scrollLeft=b};goog.style.bidi.setPosition=function(a,b,c,d){goog.isNull(c)||(a.style.top=c+"px");d?(a.style.right=b+"px",a.style.left=""):(a.style.left=b+"px",a.style.right="")};goog.fx={};goog.fx.Dragger=function(a,b,c){goog.events.EventTarget.call(this);this.target=a;this.handle=b||a;this.limits=c||new goog.math.Rect(NaN,NaN,NaN,NaN);this.document_=goog.dom.getOwnerDocument(a);this.eventHandler_=new goog.events.EventHandler(this);this.registerDisposable(this.eventHandler_);goog.events.listen(this.handle,[goog.events.EventType.TOUCHSTART,goog.events.EventType.MOUSEDOWN],this.startDrag,!1,this)};goog.inherits(goog.fx.Dragger,goog.events.EventTarget);
goog.fx.Dragger.HAS_SET_CAPTURE_=goog.userAgent.IE||goog.userAgent.GECKO&&goog.userAgent.isVersion("1.9.3");goog.fx.Dragger.EventType={EARLY_CANCEL:"earlycancel",START:"start",BEFOREDRAG:"beforedrag",DRAG:"drag",END:"end"};goog.fx.Dragger.prototype.clientX=0;goog.fx.Dragger.prototype.clientY=0;goog.fx.Dragger.prototype.screenX=0;goog.fx.Dragger.prototype.screenY=0;goog.fx.Dragger.prototype.startX=0;goog.fx.Dragger.prototype.startY=0;goog.fx.Dragger.prototype.deltaX=0;
goog.fx.Dragger.prototype.deltaY=0;goog.fx.Dragger.prototype.enabled_=!0;goog.fx.Dragger.prototype.dragging_=!1;goog.fx.Dragger.prototype.hysteresisDistanceSquared_=0;goog.fx.Dragger.prototype.mouseDownTime_=0;goog.fx.Dragger.prototype.ieDragStartCancellingOn_=!1;goog.fx.Dragger.prototype.useRightPositioningForRtl_=!1;goog.fx.Dragger.prototype.enableRightPositioningForRtl=function(a){this.useRightPositioningForRtl_=a};goog.fx.Dragger.prototype.getHandler=function(){return this.eventHandler_};
goog.fx.Dragger.prototype.setLimits=function(a){this.limits=a||new goog.math.Rect(NaN,NaN,NaN,NaN)};goog.fx.Dragger.prototype.setHysteresis=function(a){this.hysteresisDistanceSquared_=Math.pow(a,2)};goog.fx.Dragger.prototype.getHysteresis=function(){return Math.sqrt(this.hysteresisDistanceSquared_)};goog.fx.Dragger.prototype.setScrollTarget=function(a){this.scrollTarget_=a};goog.fx.Dragger.prototype.setCancelIeDragStart=function(a){this.ieDragStartCancellingOn_=a};
goog.fx.Dragger.prototype.getEnabled=function(){return this.enabled_};goog.fx.Dragger.prototype.setEnabled=function(a){this.enabled_=a};goog.fx.Dragger.prototype.disposeInternal=function(){goog.fx.Dragger.superClass_.disposeInternal.call(this);goog.events.unlisten(this.handle,[goog.events.EventType.TOUCHSTART,goog.events.EventType.MOUSEDOWN],this.startDrag,!1,this);this.cleanUpAfterDragging_();this.handle=this.target=null};
goog.fx.Dragger.prototype.isRightToLeft_=function(){goog.isDef(this.rightToLeft_)||(this.rightToLeft_=goog.style.isRightToLeft(this.target));return this.rightToLeft_};
goog.fx.Dragger.prototype.startDrag=function(a){var b=a.type==goog.events.EventType.MOUSEDOWN;if(!this.enabled_||this.dragging_||b&&!a.isMouseActionButton())this.dispatchEvent(goog.fx.Dragger.EventType.EARLY_CANCEL);else{this.maybeReinitTouchEvent_(a);if(0==this.hysteresisDistanceSquared_)if(this.fireDragStart_(a))this.dragging_=!0,a.preventDefault();else return;else a.preventDefault();this.setupDragHandlers();this.clientX=this.startX=a.clientX;this.clientY=this.startY=a.clientY;this.screenX=a.screenX;
this.screenY=a.screenY;this.deltaX=this.useRightPositioningForRtl_?goog.style.bidi.getOffsetStart(this.target):this.target.offsetLeft;this.deltaY=this.target.offsetTop;this.pageScroll=goog.dom.getDomHelper(this.document_).getDocumentScroll();this.mouseDownTime_=goog.now()}};
goog.fx.Dragger.prototype.setupDragHandlers=function(){var a=this.document_,b=a.documentElement,c=!goog.fx.Dragger.HAS_SET_CAPTURE_;this.eventHandler_.listen(a,[goog.events.EventType.TOUCHMOVE,goog.events.EventType.MOUSEMOVE],this.handleMove_,c);this.eventHandler_.listen(a,[goog.events.EventType.TOUCHEND,goog.events.EventType.MOUSEUP],this.endDrag,c);goog.fx.Dragger.HAS_SET_CAPTURE_?(b.setCapture(!1),this.eventHandler_.listen(b,goog.events.EventType.LOSECAPTURE,this.endDrag)):this.eventHandler_.listen(goog.dom.getWindow(a),
goog.events.EventType.BLUR,this.endDrag);goog.userAgent.IE&&this.ieDragStartCancellingOn_&&this.eventHandler_.listen(a,goog.events.EventType.DRAGSTART,goog.events.Event.preventDefault);this.scrollTarget_&&this.eventHandler_.listen(this.scrollTarget_,goog.events.EventType.SCROLL,this.onScroll_,c)};goog.fx.Dragger.prototype.fireDragStart_=function(a){return this.dispatchEvent(new goog.fx.DragEvent(goog.fx.Dragger.EventType.START,this,a.clientX,a.clientY,a))};
goog.fx.Dragger.prototype.cleanUpAfterDragging_=function(){this.eventHandler_.removeAll();goog.fx.Dragger.HAS_SET_CAPTURE_&&this.document_.releaseCapture()};
goog.fx.Dragger.prototype.endDrag=function(a,b){this.cleanUpAfterDragging_();if(this.dragging_){this.maybeReinitTouchEvent_(a);this.dragging_=!1;var c=this.limitX(this.deltaX),d=this.limitY(this.deltaY);this.dispatchEvent(new goog.fx.DragEvent(goog.fx.Dragger.EventType.END,this,a.clientX,a.clientY,a,c,d,b||a.type==goog.events.EventType.TOUCHCANCEL))}else this.dispatchEvent(goog.fx.Dragger.EventType.EARLY_CANCEL);a.type!=goog.events.EventType.TOUCHEND&&a.type!=goog.events.EventType.TOUCHCANCEL||a.preventDefault()};
goog.fx.Dragger.prototype.endDragCancel=function(a){this.endDrag(a,!0)};goog.fx.Dragger.prototype.maybeReinitTouchEvent_=function(a){var b=a.type;b==goog.events.EventType.TOUCHSTART||b==goog.events.EventType.TOUCHMOVE?a.init(a.getBrowserEvent().targetTouches[0],a.currentTarget):b!=goog.events.EventType.TOUCHEND&&b!=goog.events.EventType.TOUCHCANCEL||a.init(a.getBrowserEvent().changedTouches[0],a.currentTarget)};
goog.fx.Dragger.prototype.handleMove_=function(a){if(this.enabled_){this.maybeReinitTouchEvent_(a);var b=(this.useRightPositioningForRtl_&&this.isRightToLeft_()?-1:1)*(a.clientX-this.clientX),c=a.clientY-this.clientY;this.clientX=a.clientX;this.clientY=a.clientY;this.screenX=a.screenX;this.screenY=a.screenY;if(!this.dragging_){var d=this.startX-this.clientX,e=this.startY-this.clientY;if(d*d+e*e>this.hysteresisDistanceSquared_)if(this.fireDragStart_(a))this.dragging_=!0;else{this.isDisposed()||this.endDrag(a);
return}}c=this.calculatePosition_(b,c);b=c.x;c=c.y;this.dragging_&&this.dispatchEvent(new goog.fx.DragEvent(goog.fx.Dragger.EventType.BEFOREDRAG,this,a.clientX,a.clientY,a,b,c))&&(this.doDrag(a,b,c,!1),a.preventDefault())}};
goog.fx.Dragger.prototype.calculatePosition_=function(a,b){var c=goog.dom.getDomHelper(this.document_).getDocumentScroll();a+=c.x-this.pageScroll.x;b+=c.y-this.pageScroll.y;this.pageScroll=c;this.deltaX+=a;this.deltaY+=b;var c=this.limitX(this.deltaX),d=this.limitY(this.deltaY);return new goog.math.Coordinate(c,d)};goog.fx.Dragger.prototype.onScroll_=function(a){var b=this.calculatePosition_(0,0);a.clientX=this.clientX;a.clientY=this.clientY;this.doDrag(a,b.x,b.y,!0)};
goog.fx.Dragger.prototype.doDrag=function(a,b,c,d){this.defaultAction(b,c);this.dispatchEvent(new goog.fx.DragEvent(goog.fx.Dragger.EventType.DRAG,this,a.clientX,a.clientY,a,b,c))};goog.fx.Dragger.prototype.limitX=function(a){var b=this.limits,c=isNaN(b.left)?null:b.left,b=isNaN(b.width)?0:b.width;return Math.min(null!=c?c+b:Infinity,Math.max(null!=c?c:-Infinity,a))};
goog.fx.Dragger.prototype.limitY=function(a){var b=this.limits,c=isNaN(b.top)?null:b.top,b=isNaN(b.height)?0:b.height;return Math.min(null!=c?c+b:Infinity,Math.max(null!=c?c:-Infinity,a))};goog.fx.Dragger.prototype.defaultAction=function(a,b){this.useRightPositioningForRtl_&&this.isRightToLeft_()?this.target.style.right=a+"px":this.target.style.left=a+"px";this.target.style.top=b+"px"};goog.fx.Dragger.prototype.isDragging=function(){return this.dragging_};
goog.fx.DragEvent=function(a,b,c,d,e,f,g,h){goog.events.Event.call(this,a);this.clientX=c;this.clientY=d;this.browserEvent=e;this.left=goog.isDef(f)?f:b.deltaX;this.top=goog.isDef(g)?g:b.deltaY;this.dragger=b;this.dragCanceled=!!h};goog.inherits(goog.fx.DragEvent,goog.events.Event);goog.events.KeyCodes={WIN_KEY_FF_LINUX:0,MAC_ENTER:3,BACKSPACE:8,TAB:9,NUM_CENTER:12,ENTER:13,SHIFT:16,CTRL:17,ALT:18,PAUSE:19,CAPS_LOCK:20,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,PRINT_SCREEN:44,INSERT:45,DELETE:46,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,FF_SEMICOLON:59,FF_EQUALS:61,QUESTION_MARK:63,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,
X:88,Y:89,Z:90,META:91,WIN_KEY_RIGHT:92,CONTEXT_MENU:93,NUM_ZERO:96,NUM_ONE:97,NUM_TWO:98,NUM_THREE:99,NUM_FOUR:100,NUM_FIVE:101,NUM_SIX:102,NUM_SEVEN:103,NUM_EIGHT:104,NUM_NINE:105,NUM_MULTIPLY:106,NUM_PLUS:107,NUM_MINUS:109,NUM_PERIOD:110,NUM_DIVISION:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,NUMLOCK:144,SCROLL_LOCK:145,FIRST_MEDIA_KEY:166,LAST_MEDIA_KEY:183,SEMICOLON:186,DASH:189,EQUALS:187,COMMA:188,PERIOD:190,SLASH:191,APOSTROPHE:192,TILDE:192,
SINGLE_QUOTE:222,OPEN_SQUARE_BRACKET:219,BACKSLASH:220,CLOSE_SQUARE_BRACKET:221,WIN_KEY:224,MAC_FF_META:224,WIN_IME:229,PHANTOM:255};
goog.events.KeyCodes.isTextModifyingKeyEvent=function(a){if(a.altKey&&!a.ctrlKey||a.metaKey||a.keyCode>=goog.events.KeyCodes.F1&&a.keyCode<=goog.events.KeyCodes.F12)return!1;switch(a.keyCode){case goog.events.KeyCodes.ALT:case goog.events.KeyCodes.CAPS_LOCK:case goog.events.KeyCodes.CONTEXT_MENU:case goog.events.KeyCodes.CTRL:case goog.events.KeyCodes.DOWN:case goog.events.KeyCodes.END:case goog.events.KeyCodes.ESC:case goog.events.KeyCodes.HOME:case goog.events.KeyCodes.INSERT:case goog.events.KeyCodes.LEFT:case goog.events.KeyCodes.MAC_FF_META:case goog.events.KeyCodes.META:case goog.events.KeyCodes.NUMLOCK:case goog.events.KeyCodes.NUM_CENTER:case goog.events.KeyCodes.PAGE_DOWN:case goog.events.KeyCodes.PAGE_UP:case goog.events.KeyCodes.PAUSE:case goog.events.KeyCodes.PHANTOM:case goog.events.KeyCodes.PRINT_SCREEN:case goog.events.KeyCodes.RIGHT:case goog.events.KeyCodes.SCROLL_LOCK:case goog.events.KeyCodes.SHIFT:case goog.events.KeyCodes.UP:case goog.events.KeyCodes.WIN_KEY:case goog.events.KeyCodes.WIN_KEY_RIGHT:return!1;case goog.events.KeyCodes.WIN_KEY_FF_LINUX:return!goog.userAgent.GECKO;
default:return a.keyCode<goog.events.KeyCodes.FIRST_MEDIA_KEY||a.keyCode>goog.events.KeyCodes.LAST_MEDIA_KEY}};
goog.events.KeyCodes.firesKeyPressEvent=function(a,b,c,d,e){if(!(goog.userAgent.IE||goog.userAgent.WEBKIT&&goog.userAgent.isVersion("525")))return!0;if(goog.userAgent.MAC&&e)return goog.events.KeyCodes.isCharacterKey(a);if(e&&!d||!c&&(b==goog.events.KeyCodes.CTRL||b==goog.events.KeyCodes.ALT||goog.userAgent.MAC&&b==goog.events.KeyCodes.META))return!1;if(goog.userAgent.WEBKIT&&d&&c)switch(a){case goog.events.KeyCodes.BACKSLASH:case goog.events.KeyCodes.OPEN_SQUARE_BRACKET:case goog.events.KeyCodes.CLOSE_SQUARE_BRACKET:case goog.events.KeyCodes.TILDE:case goog.events.KeyCodes.SEMICOLON:case goog.events.KeyCodes.DASH:case goog.events.KeyCodes.EQUALS:case goog.events.KeyCodes.COMMA:case goog.events.KeyCodes.PERIOD:case goog.events.KeyCodes.SLASH:case goog.events.KeyCodes.APOSTROPHE:case goog.events.KeyCodes.SINGLE_QUOTE:return!1}if(goog.userAgent.IE&&d&&
b==a)return!1;switch(a){case goog.events.KeyCodes.ENTER:return!(goog.userAgent.IE&&goog.userAgent.isDocumentMode(9));case goog.events.KeyCodes.ESC:return!goog.userAgent.WEBKIT}return goog.events.KeyCodes.isCharacterKey(a)};
goog.events.KeyCodes.isCharacterKey=function(a){if(a>=goog.events.KeyCodes.ZERO&&a<=goog.events.KeyCodes.NINE||a>=goog.events.KeyCodes.NUM_ZERO&&a<=goog.events.KeyCodes.NUM_MULTIPLY||a>=goog.events.KeyCodes.A&&a<=goog.events.KeyCodes.Z||goog.userAgent.WEBKIT&&0==a)return!0;switch(a){case goog.events.KeyCodes.SPACE:case goog.events.KeyCodes.QUESTION_MARK:case goog.events.KeyCodes.NUM_PLUS:case goog.events.KeyCodes.NUM_MINUS:case goog.events.KeyCodes.NUM_PERIOD:case goog.events.KeyCodes.NUM_DIVISION:case goog.events.KeyCodes.SEMICOLON:case goog.events.KeyCodes.FF_SEMICOLON:case goog.events.KeyCodes.DASH:case goog.events.KeyCodes.EQUALS:case goog.events.KeyCodes.FF_EQUALS:case goog.events.KeyCodes.COMMA:case goog.events.KeyCodes.PERIOD:case goog.events.KeyCodes.SLASH:case goog.events.KeyCodes.APOSTROPHE:case goog.events.KeyCodes.SINGLE_QUOTE:case goog.events.KeyCodes.OPEN_SQUARE_BRACKET:case goog.events.KeyCodes.BACKSLASH:case goog.events.KeyCodes.CLOSE_SQUARE_BRACKET:return!0;default:return!1}};
goog.events.KeyCodes.normalizeGeckoKeyCode=function(a){switch(a){case goog.events.KeyCodes.FF_EQUALS:return goog.events.KeyCodes.EQUALS;case goog.events.KeyCodes.FF_SEMICOLON:return goog.events.KeyCodes.SEMICOLON;case goog.events.KeyCodes.MAC_FF_META:return goog.events.KeyCodes.META;case goog.events.KeyCodes.WIN_KEY_FF_LINUX:return goog.events.KeyCodes.WIN_KEY;default:return a}};goog.fx.Transition=function(){};goog.fx.Transition.EventType={PLAY:"play",BEGIN:"begin",RESUME:"resume",END:"end",STOP:"stop",FINISH:"finish",PAUSE:"pause"};goog.ui.PopupBase=function(a,b){goog.events.EventTarget.call(this);this.handler_=new goog.events.EventHandler(this);this.setElement(a||null);b&&this.setType(b)};goog.inherits(goog.ui.PopupBase,goog.events.EventTarget);goog.ui.PopupBase.Type={TOGGLE_DISPLAY:"toggle_display",MOVE_OFFSCREEN:"move_offscreen"};goog.ui.PopupBase.prototype.element_=null;goog.ui.PopupBase.prototype.autoHide_=!0;goog.ui.PopupBase.prototype.autoHideRegion_=null;goog.ui.PopupBase.prototype.isVisible_=!1;
goog.ui.PopupBase.prototype.shouldHideAsync_=!1;goog.ui.PopupBase.prototype.lastShowTime_=-1;goog.ui.PopupBase.prototype.lastHideTime_=-1;goog.ui.PopupBase.prototype.hideOnEscape_=!1;goog.ui.PopupBase.prototype.enableCrossIframeDismissal_=!0;goog.ui.PopupBase.prototype.type_=goog.ui.PopupBase.Type.TOGGLE_DISPLAY;goog.ui.PopupBase.EventType={BEFORE_SHOW:"beforeshow",SHOW:"show",BEFORE_HIDE:"beforehide",HIDE:"hide"};goog.ui.PopupBase.DEBOUNCE_DELAY_MS=150;goog.ui.PopupBase.prototype.getType=function(){return this.type_};
goog.ui.PopupBase.prototype.setType=function(a){this.type_=a};goog.ui.PopupBase.prototype.shouldHideAsync=function(){return this.shouldHideAsync_};goog.ui.PopupBase.prototype.setShouldHideAsync=function(a){this.shouldHideAsync_=a};goog.ui.PopupBase.prototype.getElement=function(){return this.element_};goog.ui.PopupBase.prototype.setElement=function(a){this.ensureNotVisible_();this.element_=a};goog.ui.PopupBase.prototype.getAutoHide=function(){return this.autoHide_};
goog.ui.PopupBase.prototype.setAutoHide=function(a){this.ensureNotVisible_();this.autoHide_=a};goog.ui.PopupBase.prototype.getHideOnEscape=function(){return this.hideOnEscape_};goog.ui.PopupBase.prototype.setHideOnEscape=function(a){this.ensureNotVisible_();this.hideOnEscape_=a};goog.ui.PopupBase.prototype.getEnableCrossIframeDismissal=function(){return this.enableCrossIframeDismissal_};goog.ui.PopupBase.prototype.setEnableCrossIframeDismissal=function(a){this.enableCrossIframeDismissal_=a};
goog.ui.PopupBase.prototype.getAutoHideRegion=function(){return this.autoHideRegion_};goog.ui.PopupBase.prototype.setAutoHideRegion=function(a){this.autoHideRegion_=a};goog.ui.PopupBase.prototype.setTransition=function(a,b){this.showTransition_=a;this.hideTransition_=b};goog.ui.PopupBase.prototype.getLastShowTime=function(){return this.lastShowTime_};goog.ui.PopupBase.prototype.getLastHideTime=function(){return this.lastHideTime_};
goog.ui.PopupBase.prototype.ensureNotVisible_=function(){if(this.isVisible_)throw Error("Can not change this state of the popup while showing.");};goog.ui.PopupBase.prototype.isVisible=function(){return this.isVisible_};goog.ui.PopupBase.prototype.isOrWasRecentlyVisible=function(){return this.isVisible_||goog.now()-this.lastHideTime_<goog.ui.PopupBase.DEBOUNCE_DELAY_MS};
goog.ui.PopupBase.prototype.setVisible=function(a){this.showTransition_&&this.showTransition_.stop();this.hideTransition_&&this.hideTransition_.stop();a?this.show_():this.hide_()};goog.ui.PopupBase.prototype.reposition=goog.nullFunction;
goog.ui.PopupBase.prototype.show_=function(){if(!this.isVisible_&&this.onBeforeShow()){if(!this.element_)throw Error("Caller must call setElement before trying to show the popup");this.reposition();var a=goog.dom.getOwnerDocument(this.element_);this.hideOnEscape_&&this.handler_.listen(a,goog.events.EventType.KEYDOWN,this.onDocumentKeyDown_,!0);if(this.autoHide_)if(this.handler_.listen(a,goog.events.EventType.MOUSEDOWN,this.onDocumentMouseDown_,!0),goog.userAgent.IE){var b;try{b=a.activeElement}catch(c){}for(;b&&
"IFRAME"==b.nodeName;){try{var d=goog.dom.getFrameContentDocument(b)}catch(e){break}a=d;b=a.activeElement}this.handler_.listen(a,goog.events.EventType.MOUSEDOWN,this.onDocumentMouseDown_,!0);this.handler_.listen(a,goog.events.EventType.DEACTIVATE,this.onDocumentBlur_)}else this.handler_.listen(a,goog.events.EventType.BLUR,this.onDocumentBlur_);this.type_==goog.ui.PopupBase.Type.TOGGLE_DISPLAY?this.showPopupElement():this.type_==goog.ui.PopupBase.Type.MOVE_OFFSCREEN&&this.reposition();this.isVisible_=
!0;if(this.showTransition_)goog.events.listenOnce(this.showTransition_,goog.fx.Transition.EventType.END,this.onShow_,!1,this),this.showTransition_.play();else this.onShow_()}};
goog.ui.PopupBase.prototype.hide_=function(a){if(!this.isVisible_||!this.onBeforeHide_(a))return!1;this.handler_&&this.handler_.removeAll();this.isVisible_=!1;this.lastHideTime_=goog.now();this.hideTransition_?(goog.events.listenOnce(this.hideTransition_,goog.fx.Transition.EventType.END,goog.partial(this.continueHidingPopup_,a),!1,this),this.hideTransition_.play()):this.continueHidingPopup_(a);return!0};
goog.ui.PopupBase.prototype.continueHidingPopup_=function(a){this.type_==goog.ui.PopupBase.Type.TOGGLE_DISPLAY?this.shouldHideAsync_?goog.Timer.callOnce(this.hidePopupElement_,0,this):this.hidePopupElement_():this.type_==goog.ui.PopupBase.Type.MOVE_OFFSCREEN&&this.moveOffscreen_();this.onHide_(a)};goog.ui.PopupBase.prototype.showPopupElement=function(){this.element_.style.visibility="visible";goog.style.setElementShown(this.element_,!0)};
goog.ui.PopupBase.prototype.hidePopupElement_=function(){this.element_.style.visibility="hidden";goog.style.setElementShown(this.element_,!1)};goog.ui.PopupBase.prototype.moveOffscreen_=function(){this.element_.style.top="-10000px"};goog.ui.PopupBase.prototype.onBeforeShow=function(){return this.dispatchEvent(goog.ui.PopupBase.EventType.BEFORE_SHOW)};goog.ui.PopupBase.prototype.onShow_=function(){this.lastShowTime_=goog.now();this.lastHideTime_=-1;this.dispatchEvent(goog.ui.PopupBase.EventType.SHOW)};
goog.ui.PopupBase.prototype.onBeforeHide_=function(a){return this.dispatchEvent({type:goog.ui.PopupBase.EventType.BEFORE_HIDE,target:a})};goog.ui.PopupBase.prototype.onHide_=function(a){this.dispatchEvent({type:goog.ui.PopupBase.EventType.HIDE,target:a})};goog.ui.PopupBase.prototype.onDocumentMouseDown_=function(a){a=a.target;goog.dom.contains(this.element_,a)||this.autoHideRegion_&&!goog.dom.contains(this.autoHideRegion_,a)||this.shouldDebounce_()||this.hide_(a)};
goog.ui.PopupBase.prototype.onDocumentKeyDown_=function(a){a.keyCode==goog.events.KeyCodes.ESC&&this.hide_(a.target)&&(a.preventDefault(),a.stopPropagation())};goog.ui.PopupBase.prototype.onDocumentBlur_=function(a){if(this.enableCrossIframeDismissal_){var b=goog.dom.getOwnerDocument(this.element_);if(goog.userAgent.IE||goog.userAgent.OPERA){if(a=b.activeElement,!a||goog.dom.contains(this.element_,a)||"BODY"==a.tagName)return}else if(a.target!=b)return;this.shouldDebounce_()||this.hide_()}};
goog.ui.PopupBase.prototype.shouldDebounce_=function(){return goog.now()-this.lastShowTime_<goog.ui.PopupBase.DEBOUNCE_DELAY_MS};goog.ui.PopupBase.prototype.disposeInternal=function(){goog.ui.PopupBase.superClass_.disposeInternal.call(this);this.handler_.dispose();goog.dispose(this.showTransition_);goog.dispose(this.hideTransition_);delete this.element_;delete this.handler_};goog.events.FocusHandler=function(a){goog.events.EventTarget.call(this);this.element_=a;a=goog.userAgent.IE?"focusout":"blur";this.listenKeyIn_=goog.events.listen(this.element_,goog.userAgent.IE?"focusin":"focus",this,!goog.userAgent.IE);this.listenKeyOut_=goog.events.listen(this.element_,a,this,!goog.userAgent.IE)};goog.inherits(goog.events.FocusHandler,goog.events.EventTarget);goog.events.FocusHandler.EventType={FOCUSIN:"focusin",FOCUSOUT:"focusout"};
goog.events.FocusHandler.prototype.handleEvent=function(a){var b=a.getBrowserEvent(),b=new goog.events.BrowserEvent(b);b.type="focusin"==a.type||"focus"==a.type?goog.events.FocusHandler.EventType.FOCUSIN:goog.events.FocusHandler.EventType.FOCUSOUT;this.dispatchEvent(b)};goog.events.FocusHandler.prototype.disposeInternal=function(){goog.events.FocusHandler.superClass_.disposeInternal.call(this);goog.events.unlistenByKey(this.listenKeyIn_);goog.events.unlistenByKey(this.listenKeyOut_);delete this.element_};goog.dom.iframe={};goog.dom.iframe.BLANK_SOURCE='javascript:""';goog.dom.iframe.STYLES_="border:0;vertical-align:bottom;";goog.dom.iframe.createBlank=function(a,b){return a.createDom("iframe",{frameborder:0,style:goog.dom.iframe.STYLES_+(b||""),src:goog.dom.iframe.BLANK_SOURCE})};goog.dom.iframe.writeContent=function(a,b){var c=goog.dom.getFrameContentDocument(a);c.open();c.write(b);c.close()};
goog.dom.iframe.createWithContent=function(a,b,c,d,e){var f=goog.dom.getDomHelper(a),g=[];e||g.push("<!DOCTYPE html>");g.push("<html><head>",b,"</head><body>",c,"</body></html>");b=goog.dom.iframe.createBlank(f,d);a.appendChild(b);goog.dom.iframe.writeContent(b,g.join(""));return b};goog.ui.ModalPopup=function(a,b){goog.ui.Component.call(this,b);this.useIframeMask_=!!a};goog.inherits(goog.ui.ModalPopup,goog.ui.Component);goog.ui.ModalPopup.prototype.focusHandler_=null;goog.ui.ModalPopup.prototype.visible_=!1;goog.ui.ModalPopup.prototype.bgEl_=null;goog.ui.ModalPopup.prototype.bgIframeEl_=null;goog.ui.ModalPopup.prototype.tabCatcherElement_=null;goog.ui.ModalPopup.prototype.backwardTabWrapInProgress_=!1;goog.ui.ModalPopup.prototype.getCssClass=function(){return"goog-modalpopup"};
goog.ui.ModalPopup.prototype.getBackgroundIframe=function(){return this.bgIframeEl_};goog.ui.ModalPopup.prototype.getBackgroundElement=function(){return this.bgEl_};goog.ui.ModalPopup.prototype.createDom=function(){goog.ui.ModalPopup.superClass_.createDom.call(this);var a=this.getElement();goog.dom.classes.add(a,this.getCssClass());goog.dom.setFocusableTabIndex(a,!0);goog.style.setElementShown(a,!1);this.manageBackgroundDom_();this.createTabCatcher_()};
goog.ui.ModalPopup.prototype.manageBackgroundDom_=function(){this.useIframeMask_&&!this.bgIframeEl_&&(this.bgIframeEl_=goog.dom.iframe.createBlank(this.getDomHelper()),this.bgIframeEl_.className=this.getCssClass()+"-bg",goog.style.setElementShown(this.bgIframeEl_,!1),goog.style.setOpacity(this.bgIframeEl_,0));this.bgEl_||(this.bgEl_=this.getDomHelper().createDom("div",this.getCssClass()+"-bg"),goog.style.setElementShown(this.bgEl_,!1))};
goog.ui.ModalPopup.prototype.createTabCatcher_=function(){this.tabCatcherElement_||(this.tabCatcherElement_=this.getDomHelper().createElement("span"),goog.style.setElementShown(this.tabCatcherElement_,!1),goog.dom.setFocusableTabIndex(this.tabCatcherElement_,!0),this.tabCatcherElement_.style.position="absolute")};
goog.ui.ModalPopup.prototype.setupBackwardTabWrap=function(){this.backwardTabWrapInProgress_=!0;try{this.tabCatcherElement_.focus()}catch(a){}goog.Timer.callOnce(this.resetBackwardTabWrap_,0,this)};goog.ui.ModalPopup.prototype.resetBackwardTabWrap_=function(){this.backwardTabWrapInProgress_=!1};
goog.ui.ModalPopup.prototype.renderBackground_=function(){goog.asserts.assert(!!this.bgEl_,"Background element must not be null.");this.bgIframeEl_&&goog.dom.insertSiblingBefore(this.bgIframeEl_,this.getElement());goog.dom.insertSiblingBefore(this.bgEl_,this.getElement())};goog.ui.ModalPopup.prototype.canDecorate=function(a){return!!a&&a.tagName==goog.dom.TagName.DIV};
goog.ui.ModalPopup.prototype.decorateInternal=function(a){goog.ui.ModalPopup.superClass_.decorateInternal.call(this,a);goog.dom.classes.add(this.getElement(),this.getCssClass());this.manageBackgroundDom_();this.createTabCatcher_();goog.style.setElementShown(this.getElement(),!1)};
goog.ui.ModalPopup.prototype.enterDocument=function(){this.renderBackground_();goog.ui.ModalPopup.superClass_.enterDocument.call(this);goog.dom.insertSiblingAfter(this.tabCatcherElement_,this.getElement());this.focusHandler_=new goog.events.FocusHandler(this.getDomHelper().getDocument());this.getHandler().listen(this.focusHandler_,goog.events.FocusHandler.EventType.FOCUSIN,this.onFocus_)};
goog.ui.ModalPopup.prototype.exitDocument=function(){this.isVisible()&&this.setVisible(!1);goog.dispose(this.focusHandler_);goog.ui.ModalPopup.superClass_.exitDocument.call(this);goog.dom.removeNode(this.bgIframeEl_);goog.dom.removeNode(this.bgEl_);goog.dom.removeNode(this.tabCatcherElement_)};
goog.ui.ModalPopup.prototype.setVisible=function(a){goog.asserts.assert(this.isInDocument(),"ModalPopup must be rendered first.");a!=this.visible_&&(this.popupShowTransition_&&this.popupShowTransition_.stop(),this.bgShowTransition_&&this.bgShowTransition_.stop(),this.popupHideTransition_&&this.popupHideTransition_.stop(),this.bgHideTransition_&&this.bgHideTransition_.stop(),a?this.show_():this.hide_())};
goog.ui.ModalPopup.prototype.setTransition=function(a,b,c,d){this.popupShowTransition_=a;this.popupHideTransition_=b;this.bgShowTransition_=c;this.bgHideTransition_=d};
goog.ui.ModalPopup.prototype.show_=function(){if(this.dispatchEvent(goog.ui.PopupBase.EventType.BEFORE_SHOW))if(this.resizeBackground_(),this.reposition(),this.getHandler().listen(this.getDomHelper().getWindow(),goog.events.EventType.RESIZE,this.resizeBackground_),this.showPopupElement_(!0),this.focus(),this.visible_=!0,this.popupShowTransition_&&this.bgShowTransition_)goog.events.listenOnce(this.popupShowTransition_,goog.fx.Transition.EventType.END,this.onShow,!1,this),this.bgShowTransition_.play(),
this.popupShowTransition_.play();else this.onShow()};
goog.ui.ModalPopup.prototype.hide_=function(){if(this.dispatchEvent(goog.ui.PopupBase.EventType.BEFORE_HIDE))if(this.getHandler().unlisten(this.getDomHelper().getWindow(),goog.events.EventType.RESIZE,this.resizeBackground_),this.visible_=!1,this.popupHideTransition_&&this.bgHideTransition_)goog.events.listenOnce(this.popupHideTransition_,goog.fx.Transition.EventType.END,this.onHide,!1,this),this.bgHideTransition_.play(),this.popupHideTransition_.play();else this.onHide()};
goog.ui.ModalPopup.prototype.showPopupElement_=function(a){this.bgIframeEl_&&goog.style.setElementShown(this.bgIframeEl_,a);this.bgEl_&&goog.style.setElementShown(this.bgEl_,a);goog.style.setElementShown(this.getElement(),a);goog.style.setElementShown(this.tabCatcherElement_,a)};goog.ui.ModalPopup.prototype.onShow=function(){this.dispatchEvent(goog.ui.PopupBase.EventType.SHOW)};goog.ui.ModalPopup.prototype.onHide=function(){this.showPopupElement_(!1);this.dispatchEvent(goog.ui.PopupBase.EventType.HIDE)};
goog.ui.ModalPopup.prototype.isVisible=function(){return this.visible_};goog.ui.ModalPopup.prototype.focus=function(){this.focusElement_()};
goog.ui.ModalPopup.prototype.resizeBackground_=function(){this.bgIframeEl_&&goog.style.setElementShown(this.bgIframeEl_,!1);this.bgEl_&&goog.style.setElementShown(this.bgEl_,!1);var a=this.getDomHelper().getDocument(),b=goog.dom.getWindow(a)||window,c=goog.dom.getViewportSize(b),b=Math.max(c.width,Math.max(a.body.scrollWidth,a.documentElement.scrollWidth)),a=Math.max(c.height,Math.max(a.body.scrollHeight,a.documentElement.scrollHeight));this.bgIframeEl_&&(goog.style.setElementShown(this.bgIframeEl_,
!0),goog.style.setSize(this.bgIframeEl_,b,a));this.bgEl_&&(goog.style.setElementShown(this.bgEl_,!0),goog.style.setSize(this.bgEl_,b,a))};
goog.ui.ModalPopup.prototype.reposition=function(){var a=this.getDomHelper().getDocument(),b=goog.dom.getWindow(a)||window;if("fixed"==goog.style.getComputedPosition(this.getElement()))var c=a=0;else c=this.getDomHelper().getDocumentScroll(),a=c.x,c=c.y;var d=goog.style.getSize(this.getElement()),b=goog.dom.getViewportSize(b),a=Math.max(a+b.width/2-d.width/2,0),c=Math.max(c+b.height/2-d.height/2,0);goog.style.setPosition(this.getElement(),a,c);goog.style.setPosition(this.tabCatcherElement_,a,c)};
goog.ui.ModalPopup.prototype.onFocus_=function(a){this.backwardTabWrapInProgress_?this.resetBackwardTabWrap_():a.target==this.tabCatcherElement_&&goog.Timer.callOnce(this.focusElement_,0,this)};goog.ui.ModalPopup.prototype.focusElement_=function(){try{goog.userAgent.IE&&this.getDomHelper().getDocument().body.focus(),this.getElement().focus()}catch(a){}};
goog.ui.ModalPopup.prototype.disposeInternal=function(){goog.dispose(this.popupShowTransition_);this.popupShowTransition_=null;goog.dispose(this.popupHideTransition_);this.popupHideTransition_=null;goog.dispose(this.bgShowTransition_);this.bgShowTransition_=null;goog.dispose(this.bgHideTransition_);this.bgHideTransition_=null;goog.ui.ModalPopup.superClass_.disposeInternal.call(this)};goog.a11y={};goog.a11y.aria={};
goog.a11y.aria.Role={ALERT:"alert",ALERTDIALOG:"alertdialog",APPLICATION:"application",ARTICLE:"article",BANNER:"banner",BUTTON:"button",CHECKBOX:"checkbox",COLUMNHEADER:"columnheader",COMBOBOX:"combobox",COMPLEMENTARY:"complementary",CONTENTINFO:"contentinfo",DEFINITION:"definition",DIALOG:"dialog",DIRECTORY:"directory",DOCUMENT:"document",FORM:"form",GRID:"grid",GRIDCELL:"gridcell",GROUP:"group",HEADING:"heading",IMG:"img",LINK:"link",LIST:"list",LISTBOX:"listbox",LISTITEM:"listitem",LOG:"log",
MAIN:"main",MARQUEE:"marquee",MATH:"math",MENU:"menu",MENUBAR:"menubar",MENU_ITEM:"menuitem",MENU_ITEM_CHECKBOX:"menuitemcheckbox",MENU_ITEM_RADIO:"menuitemradio",NAVIGATION:"navigation",NOTE:"note",OPTION:"option",PRESENTATION:"presentation",PROGRESSBAR:"progressbar",RADIO:"radio",RADIOGROUP:"radiogroup",REGION:"region",ROW:"row",ROWGROUP:"rowgroup",ROWHEADER:"rowheader",SCROLLBAR:"scrollbar",SEARCH:"search",SEPARATOR:"separator",SLIDER:"slider",SPINBUTTON:"spinbutton",STATUS:"status",TAB:"tab",
TAB_LIST:"tablist",TAB_PANEL:"tabpanel",TEXTBOX:"textbox",TIMER:"timer",TOOLBAR:"toolbar",TOOLTIP:"tooltip",TREE:"tree",TREEGRID:"treegrid",TREEITEM:"treeitem"};goog.a11y.aria.State={ACTIVEDESCENDANT:"activedescendant",ATOMIC:"atomic",AUTOCOMPLETE:"autocomplete",BUSY:"busy",CHECKED:"checked",CONTROLS:"controls",DESCRIBEDBY:"describedby",DISABLED:"disabled",DROPEFFECT:"dropeffect",EXPANDED:"expanded",FLOWTO:"flowto",GRABBED:"grabbed",HASPOPUP:"haspopup",HIDDEN:"hidden",INVALID:"invalid",LABEL:"label",LABELLEDBY:"labelledby",LEVEL:"level",LIVE:"live",MULTILINE:"multiline",MULTISELECTABLE:"multiselectable",ORIENTATION:"orientation",OWNS:"owns",POSINSET:"posinset",
PRESSED:"pressed",READONLY:"readonly",RELEVANT:"relevant",REQUIRED:"required",SELECTED:"selected",SETSIZE:"setsize",SORT:"sort",VALUEMAX:"valuemax",VALUEMIN:"valuemin",VALUENOW:"valuenow",VALUETEXT:"valuetext"};goog.a11y.aria.LivePriority={OFF:"off",POLITE:"polite",ASSERTIVE:"assertive"};goog.a11y.aria.setRole=function(a,b){a.setAttribute("role",b)};goog.a11y.aria.getRole=function(a){return a.getAttribute("role")||""};goog.a11y.aria.setState=function(a,b,c){a.setAttribute("aria-"+b,c)};goog.a11y.aria.getState=function(a,b){var c=a.getAttribute("aria-"+b);return!0===c||!1===c?c?"true":"false":c?String(c):""};goog.a11y.aria.getActiveDescendant=function(a){var b=goog.a11y.aria.getState(a,goog.a11y.aria.State.ACTIVEDESCENDANT);return goog.dom.getOwnerDocument(a).getElementById(b)};
goog.a11y.aria.setActiveDescendant=function(a,b){goog.a11y.aria.setState(a,goog.a11y.aria.State.ACTIVEDESCENDANT,b?b.id:"")};goog.a11y.aria.getLabel=function(a){return goog.a11y.aria.getState(a,goog.a11y.aria.State.LABEL)};goog.a11y.aria.setLabel=function(a,b){goog.a11y.aria.setState(a,goog.a11y.aria.State.LABEL,b)};goog.ui.Dialog=function(a,b,c){goog.ui.ModalPopup.call(this,b,c);this.class_=a||"modal-dialog";this.buttons_=goog.ui.Dialog.ButtonSet.createOkCancel()};goog.inherits(goog.ui.Dialog,goog.ui.ModalPopup);goog.ui.Dialog.prototype.escapeToCancel_=!0;goog.ui.Dialog.prototype.hasTitleCloseButton_=!0;goog.ui.Dialog.prototype.modal_=!0;goog.ui.Dialog.prototype.draggable_=!0;goog.ui.Dialog.prototype.backgroundElementOpacity_=.5;goog.ui.Dialog.prototype.title_="";goog.ui.Dialog.prototype.content_="";
goog.ui.Dialog.prototype.dragger_=null;goog.ui.Dialog.prototype.disposeOnHide_=!1;goog.ui.Dialog.prototype.titleEl_=null;goog.ui.Dialog.prototype.titleTextEl_=null;goog.ui.Dialog.prototype.titleId_=null;goog.ui.Dialog.prototype.titleCloseEl_=null;goog.ui.Dialog.prototype.contentEl_=null;goog.ui.Dialog.prototype.buttonEl_=null;goog.ui.Dialog.prototype.preferredAriaRole_=goog.a11y.aria.Role.DIALOG;goog.ui.Dialog.prototype.getCssClass=function(){return this.class_};
goog.ui.Dialog.prototype.setTitle=function(a){this.title_=a;this.titleTextEl_&&goog.dom.setTextContent(this.titleTextEl_,a)};goog.ui.Dialog.prototype.getTitle=function(){return this.title_};goog.ui.Dialog.prototype.setContent=function(a){this.content_=a;this.contentEl_&&(this.contentEl_.innerHTML=a)};goog.ui.Dialog.prototype.getContent=function(){return this.content_};goog.ui.Dialog.prototype.getPreferredAriaRole=function(){return this.preferredAriaRole_};
goog.ui.Dialog.prototype.setPreferredAriaRole=function(a){this.preferredAriaRole_=a};goog.ui.Dialog.prototype.renderIfNoDom_=function(){this.getElement()||this.render()};goog.ui.Dialog.prototype.getContentElement=function(){this.renderIfNoDom_();return this.contentEl_};goog.ui.Dialog.prototype.getTitleElement=function(){this.renderIfNoDom_();return this.titleEl_};goog.ui.Dialog.prototype.getTitleTextElement=function(){this.renderIfNoDom_();return this.titleTextEl_};
goog.ui.Dialog.prototype.getTitleCloseElement=function(){this.renderIfNoDom_();return this.titleCloseEl_};goog.ui.Dialog.prototype.getButtonElement=function(){this.renderIfNoDom_();return this.buttonEl_};goog.ui.Dialog.prototype.getDialogElement=function(){this.renderIfNoDom_();return this.getElement()};goog.ui.Dialog.prototype.getBackgroundElement=function(){this.renderIfNoDom_();return goog.ui.Dialog.superClass_.getBackgroundElement.call(this)};
goog.ui.Dialog.prototype.getBackgroundElementOpacity=function(){return this.backgroundElementOpacity_};goog.ui.Dialog.prototype.setBackgroundElementOpacity=function(a){this.backgroundElementOpacity_=a;this.getElement()&&(a=this.getBackgroundElement())&&goog.style.setOpacity(a,this.backgroundElementOpacity_)};goog.ui.Dialog.prototype.setModal=function(a){a!=this.modal_&&this.setModalInternal_(a)};
goog.ui.Dialog.prototype.setModalInternal_=function(a){this.modal_=a;if(this.isInDocument()){var b=this.getDomHelper(),c=this.getBackgroundElement(),d=this.getBackgroundIframe();a?(d&&b.insertSiblingBefore(d,this.getElement()),b.insertSiblingBefore(c,this.getElement())):(b.removeNode(d),b.removeNode(c))}};goog.ui.Dialog.prototype.getModal=function(){return this.modal_};goog.ui.Dialog.prototype.getClass=function(){return this.getCssClass()};
goog.ui.Dialog.prototype.setDraggable=function(a){this.draggable_=a;this.setDraggingEnabled_(a&&this.isInDocument())};goog.ui.Dialog.prototype.createDragger=function(){return new goog.fx.Dragger(this.getElement(),this.titleEl_)};goog.ui.Dialog.prototype.getDraggable=function(){return this.draggable_};
goog.ui.Dialog.prototype.setDraggingEnabled_=function(a){this.getElement()&&goog.dom.classes.enable(this.titleEl_,this.class_+"-title-draggable",a);a&&!this.dragger_?(this.dragger_=this.createDragger(),goog.dom.classes.add(this.titleEl_,this.class_+"-title-draggable"),goog.events.listen(this.dragger_,goog.fx.Dragger.EventType.START,this.setDraggerLimits_,!1,this)):!a&&this.dragger_&&(this.dragger_.dispose(),this.dragger_=null)};
goog.ui.Dialog.prototype.createDom=function(){goog.ui.Dialog.superClass_.createDom.call(this);var a=this.getElement();goog.asserts.assert(a,"getElement() returns null");var b=this.getDomHelper();this.titleEl_=b.createDom("div",{className:this.class_+"-title",id:this.getId()},this.titleTextEl_=b.createDom("span",this.class_+"-title-text",this.title_),this.titleCloseEl_=b.createDom("span",this.class_+"-title-close"));goog.dom.append(a,this.titleEl_,this.contentEl_=b.createDom("div",this.class_+"-content"),
this.buttonEl_=b.createDom("div",this.class_+"-buttons"));this.titleId_=this.titleEl_.id;goog.a11y.aria.setRole(a,this.getPreferredAriaRole());goog.a11y.aria.setState(a,goog.a11y.aria.State.LABELLEDBY,this.titleId_||"");this.content_&&(this.contentEl_.innerHTML=this.content_);goog.style.setElementShown(this.titleCloseEl_,this.hasTitleCloseButton_);this.buttons_&&this.buttons_.attachToElement(this.buttonEl_);goog.style.setElementShown(this.buttonEl_,!!this.buttons_);this.setBackgroundElementOpacity(this.backgroundElementOpacity_)};
goog.ui.Dialog.prototype.decorateInternal=function(a){goog.ui.Dialog.superClass_.decorateInternal.call(this,a);a=this.getElement();goog.asserts.assert(a,"The DOM element for dialog cannot be null.");var b=this.class_+"-content";(this.contentEl_=goog.dom.getElementsByTagNameAndClass(null,b,a)[0])?this.content_=this.contentEl_.innerHTML:(this.contentEl_=this.getDomHelper().createDom("div",b),this.content_&&(this.contentEl_.innerHTML=this.content_),a.appendChild(this.contentEl_));var b=this.class_+"-title",
c=this.class_+"-title-text",d=this.class_+"-title-close";(this.titleEl_=goog.dom.getElementsByTagNameAndClass(null,b,a)[0])?(this.titleTextEl_=goog.dom.getElementsByTagNameAndClass(null,c,this.titleEl_)[0],this.titleCloseEl_=goog.dom.getElementsByTagNameAndClass(null,d,this.titleEl_)[0],this.titleEl_.id||(this.titleEl_.id=this.getId())):(this.titleEl_=this.getDomHelper().createDom("div",{className:b,id:this.getId()}),a.insertBefore(this.titleEl_,this.contentEl_));this.titleId_=this.titleEl_.id;this.titleTextEl_?
this.title_=goog.dom.getTextContent(this.titleTextEl_):(this.titleTextEl_=this.getDomHelper().createDom("span",c,this.title_),this.titleEl_.appendChild(this.titleTextEl_));goog.a11y.aria.setState(a,goog.a11y.aria.State.LABELLEDBY,this.titleId_||"");this.titleCloseEl_||(this.titleCloseEl_=this.getDomHelper().createDom("span",d),this.titleEl_.appendChild(this.titleCloseEl_));goog.style.setElementShown(this.titleCloseEl_,this.hasTitleCloseButton_);b=this.class_+"-buttons";(this.buttonEl_=goog.dom.getElementsByTagNameAndClass(null,
b,a)[0])?(this.buttons_=new goog.ui.Dialog.ButtonSet(this.getDomHelper()),this.buttons_.decorate(this.buttonEl_)):(this.buttonEl_=this.getDomHelper().createDom("div",b),a.appendChild(this.buttonEl_),this.buttons_&&this.buttons_.attachToElement(this.buttonEl_),goog.style.setElementShown(this.buttonEl_,!!this.buttons_));this.setBackgroundElementOpacity(this.backgroundElementOpacity_)};
goog.ui.Dialog.prototype.enterDocument=function(){goog.ui.Dialog.superClass_.enterDocument.call(this);this.getHandler().listen(this.getElement(),goog.events.EventType.KEYDOWN,this.onKey_).listen(this.getElement(),goog.events.EventType.KEYPRESS,this.onKey_);this.getHandler().listen(this.buttonEl_,goog.events.EventType.CLICK,this.onButtonClick_);this.setDraggingEnabled_(this.draggable_);this.getHandler().listen(this.titleCloseEl_,goog.events.EventType.CLICK,this.onTitleCloseClick_);var a=this.getElement();
goog.asserts.assert(a,"The DOM element for dialog cannot be null");goog.a11y.aria.setRole(a,this.getPreferredAriaRole());""!==this.titleTextEl_.id&&goog.a11y.aria.setState(a,goog.a11y.aria.State.LABELLEDBY,this.titleTextEl_.id);this.modal_||this.setModalInternal_(!1)};goog.ui.Dialog.prototype.exitDocument=function(){this.isVisible()&&this.setVisible(!1);this.setDraggingEnabled_(!1);goog.ui.Dialog.superClass_.exitDocument.call(this)};
goog.ui.Dialog.prototype.setVisible=function(a){a!=this.isVisible()&&(this.isInDocument()||this.render(),goog.ui.Dialog.superClass_.setVisible.call(this,a))};goog.ui.Dialog.prototype.onShow=function(){goog.ui.Dialog.superClass_.onShow.call(this);this.dispatchEvent(goog.ui.Dialog.EventType.AFTER_SHOW)};goog.ui.Dialog.prototype.onHide=function(){goog.ui.Dialog.superClass_.onHide.call(this);this.dispatchEvent(goog.ui.Dialog.EventType.AFTER_HIDE);this.disposeOnHide_&&this.dispose()};
goog.ui.Dialog.prototype.focus=function(){goog.ui.Dialog.superClass_.focus.call(this);if(this.getButtonSet()){var a=this.getButtonSet().getDefault();if(a)for(var b=this.getDomHelper().getDocument(),c=this.buttonEl_.getElementsByTagName("button"),d=0,e;e=c[d];d++)if(e.name==a&&!e.disabled){try{if(goog.userAgent.WEBKIT||goog.userAgent.OPERA){var f=b.createElement("input");f.style.cssText="position:fixed;width:0;height:0;left:0;top:0;";this.getElement().appendChild(f);f.focus();this.getElement().removeChild(f)}e.focus()}catch(g){}break}}};
goog.ui.Dialog.prototype.setDraggerLimits_=function(a){var b=this.getDomHelper().getDocument();a=goog.dom.getWindow(b)||window;a=goog.dom.getViewportSize(a);var c=Math.max(b.body.scrollWidth,a.width),b=Math.max(b.body.scrollHeight,a.height),d=goog.style.getSize(this.getElement());"fixed"==goog.style.getComputedPosition(this.getElement())?this.dragger_.setLimits(new goog.math.Rect(0,0,Math.max(0,a.width-d.width),Math.max(0,a.height-d.height))):this.dragger_.setLimits(new goog.math.Rect(0,0,c-d.width,
b-d.height))};goog.ui.Dialog.prototype.onTitleCloseClick_=function(a){if(this.hasTitleCloseButton_){var b=this.getButtonSet();(a=b&&b.getCancel())?(b=b.get(a),this.dispatchEvent(new goog.ui.Dialog.Event(a,b))&&this.setVisible(!1)):this.setVisible(!1)}};goog.ui.Dialog.prototype.getHasTitleCloseButton=function(){return this.hasTitleCloseButton_};goog.ui.Dialog.prototype.setHasTitleCloseButton=function(a){this.hasTitleCloseButton_=a;this.titleCloseEl_&&goog.style.setElementShown(this.titleCloseEl_,this.hasTitleCloseButton_)};
goog.ui.Dialog.prototype.isEscapeToCancel=function(){return this.escapeToCancel_};goog.ui.Dialog.prototype.setEscapeToCancel=function(a){this.escapeToCancel_=a};goog.ui.Dialog.prototype.setDisposeOnHide=function(a){this.disposeOnHide_=a};goog.ui.Dialog.prototype.getDisposeOnHide=function(){return this.disposeOnHide_};goog.ui.Dialog.prototype.disposeInternal=function(){this.buttonEl_=this.titleCloseEl_=null;goog.ui.Dialog.superClass_.disposeInternal.call(this)};
goog.ui.Dialog.prototype.setButtonSet=function(a){this.buttons_=a;this.buttonEl_&&(this.buttons_?this.buttons_.attachToElement(this.buttonEl_):this.buttonEl_.innerHTML="",goog.style.setElementShown(this.buttonEl_,!!this.buttons_))};goog.ui.Dialog.prototype.getButtonSet=function(){return this.buttons_};
goog.ui.Dialog.prototype.onButtonClick_=function(a){if((a=this.findParentButton_(a.target))&&!a.disabled){a=a.name;var b=this.getButtonSet().get(a);this.dispatchEvent(new goog.ui.Dialog.Event(a,b))&&this.setVisible(!1)}};goog.ui.Dialog.prototype.findParentButton_=function(a){for(;null!=a&&a!=this.buttonEl_;){if("BUTTON"==a.tagName)return a;a=a.parentNode}return null};
goog.ui.Dialog.prototype.onKey_=function(a){var b=!1,c=!1,d=this.getButtonSet(),e=a.target;if(a.type==goog.events.EventType.KEYDOWN)if(this.escapeToCancel_&&a.keyCode==goog.events.KeyCodes.ESC){var f=d&&d.getCancel(),e="SELECT"==e.tagName&&!e.disabled;f&&!e?(c=!0,b=d.get(f),b=this.dispatchEvent(new goog.ui.Dialog.Event(f,b))):e||(b=!0)}else a.keyCode==goog.events.KeyCodes.TAB&&a.shiftKey&&e==this.getElement()&&this.setupBackwardTabWrap();else if(a.keyCode==goog.events.KeyCodes.ENTER){if("BUTTON"==
e.tagName)f=e.name;else if(d){var g=d.getDefault(),h=g&&d.getButton(g),e=("TEXTAREA"==e.tagName||"SELECT"==e.tagName||"A"==e.tagName)&&!e.disabled;!h||h.disabled||e||(f=g)}f&&d&&(c=!0,b=this.dispatchEvent(new goog.ui.Dialog.Event(f,String(d.get(f)))))}if(b||c)a.stopPropagation(),a.preventDefault();b&&this.setVisible(!1)};goog.ui.Dialog.Event=function(a,b){this.type=goog.ui.Dialog.EventType.SELECT;this.key=a;this.caption=b};goog.inherits(goog.ui.Dialog.Event,goog.events.Event);
goog.ui.Dialog.SELECT_EVENT="dialogselect";goog.ui.Dialog.EventType={SELECT:"dialogselect",AFTER_HIDE:"afterhide",AFTER_SHOW:"aftershow"};goog.ui.Dialog.ButtonSet=function(a){this.dom_=a||goog.dom.getDomHelper();goog.structs.Map.call(this)};goog.inherits(goog.ui.Dialog.ButtonSet,goog.structs.Map);goog.ui.Dialog.ButtonSet.prototype.class_="goog-buttonset";goog.ui.Dialog.ButtonSet.prototype.defaultButton_=null;goog.ui.Dialog.ButtonSet.prototype.element_=null;
goog.ui.Dialog.ButtonSet.prototype.cancelButton_=null;goog.ui.Dialog.ButtonSet.prototype.set=function(a,b,c,d){goog.structs.Map.prototype.set.call(this,a,b);c&&(this.defaultButton_=a);d&&(this.cancelButton_=a);return this};goog.ui.Dialog.ButtonSet.prototype.addButton=function(a,b,c){return this.set(a.key,a.caption,b,c)};goog.ui.Dialog.ButtonSet.prototype.attachToElement=function(a){this.element_=a;this.render()};
goog.ui.Dialog.ButtonSet.prototype.render=function(){if(this.element_){this.element_.innerHTML="";var a=goog.dom.getDomHelper(this.element_);goog.structs.forEach(this,function(b,c){var d=a.createDom("button",{name:c},b);c==this.defaultButton_&&(d.className=this.class_+"-default");this.element_.appendChild(d)},this)}};
goog.ui.Dialog.ButtonSet.prototype.decorate=function(a){if(a&&a.nodeType==goog.dom.NodeType.ELEMENT){this.element_=a;a=this.element_.getElementsByTagName("button");for(var b=0,c,d,e;c=a[b];b++)if(d=c.name||c.id,e=goog.dom.getTextContent(c)||c.value,d){var f=0==b;this.set(d,e,f,c.name==goog.ui.Dialog.DefaultButtonKeys.CANCEL);f&&goog.dom.classes.add(c,this.class_+"-default")}}};goog.ui.Dialog.ButtonSet.prototype.getElement=function(){return this.element_};
goog.ui.Dialog.ButtonSet.prototype.getDomHelper=function(){return this.dom_};goog.ui.Dialog.ButtonSet.prototype.setDefault=function(a){this.defaultButton_=a};goog.ui.Dialog.ButtonSet.prototype.getDefault=function(){return this.defaultButton_};goog.ui.Dialog.ButtonSet.prototype.setCancel=function(a){this.cancelButton_=a};goog.ui.Dialog.ButtonSet.prototype.getCancel=function(){return this.cancelButton_};
goog.ui.Dialog.ButtonSet.prototype.getButton=function(a){for(var b=this.getAllButtons(),c=0,d;d=b[c];c++)if(d.name==a||d.id==a)return d;return null};goog.ui.Dialog.ButtonSet.prototype.getAllButtons=function(){return this.element_.getElementsByTagName(goog.dom.TagName.BUTTON)};goog.ui.Dialog.ButtonSet.prototype.setButtonEnabled=function(a,b){var c=this.getButton(a);c&&(c.disabled=!b)};
goog.ui.Dialog.ButtonSet.prototype.setAllButtonsEnabled=function(a){for(var b=this.getAllButtons(),c=0,d;d=b[c];c++)d.disabled=!a};goog.ui.Dialog.DefaultButtonKeys={OK:"ok",CANCEL:"cancel",YES:"yes",NO:"no",SAVE:"save",CONTINUE:"continue"};goog.ui.Dialog.MSG_DIALOG_OK_=goog.getMsg("OK");goog.ui.Dialog.MSG_DIALOG_CANCEL_=goog.getMsg("Cancel");goog.ui.Dialog.MSG_DIALOG_YES_=goog.getMsg("Yes");goog.ui.Dialog.MSG_DIALOG_NO_=goog.getMsg("No");goog.ui.Dialog.MSG_DIALOG_SAVE_=goog.getMsg("Save");
goog.ui.Dialog.MSG_DIALOG_CONTINUE_=goog.getMsg("Continue");goog.ui.Dialog.DefaultButtonCaptions={OK:goog.ui.Dialog.MSG_DIALOG_OK_,CANCEL:goog.ui.Dialog.MSG_DIALOG_CANCEL_,YES:goog.ui.Dialog.MSG_DIALOG_YES_,NO:goog.ui.Dialog.MSG_DIALOG_NO_,SAVE:goog.ui.Dialog.MSG_DIALOG_SAVE_,CONTINUE:goog.ui.Dialog.MSG_DIALOG_CONTINUE_};
goog.ui.Dialog.ButtonSet.DefaultButtons={OK:{key:goog.ui.Dialog.DefaultButtonKeys.OK,caption:goog.ui.Dialog.DefaultButtonCaptions.OK},CANCEL:{key:goog.ui.Dialog.DefaultButtonKeys.CANCEL,caption:goog.ui.Dialog.DefaultButtonCaptions.CANCEL},YES:{key:goog.ui.Dialog.DefaultButtonKeys.YES,caption:goog.ui.Dialog.DefaultButtonCaptions.YES},NO:{key:goog.ui.Dialog.DefaultButtonKeys.NO,caption:goog.ui.Dialog.DefaultButtonCaptions.NO},SAVE:{key:goog.ui.Dialog.DefaultButtonKeys.SAVE,caption:goog.ui.Dialog.DefaultButtonCaptions.SAVE},
CONTINUE:{key:goog.ui.Dialog.DefaultButtonKeys.CONTINUE,caption:goog.ui.Dialog.DefaultButtonCaptions.CONTINUE}};goog.ui.Dialog.ButtonSet.createOk=function(){return(new goog.ui.Dialog.ButtonSet).addButton(goog.ui.Dialog.ButtonSet.DefaultButtons.OK,!0,!0)};goog.ui.Dialog.ButtonSet.createOkCancel=function(){return(new goog.ui.Dialog.ButtonSet).addButton(goog.ui.Dialog.ButtonSet.DefaultButtons.OK,!0).addButton(goog.ui.Dialog.ButtonSet.DefaultButtons.CANCEL,!1,!0)};
goog.ui.Dialog.ButtonSet.createYesNo=function(){return(new goog.ui.Dialog.ButtonSet).addButton(goog.ui.Dialog.ButtonSet.DefaultButtons.YES,!0).addButton(goog.ui.Dialog.ButtonSet.DefaultButtons.NO,!1,!0)};goog.ui.Dialog.ButtonSet.createYesNoCancel=function(){return(new goog.ui.Dialog.ButtonSet).addButton(goog.ui.Dialog.ButtonSet.DefaultButtons.YES).addButton(goog.ui.Dialog.ButtonSet.DefaultButtons.NO,!0).addButton(goog.ui.Dialog.ButtonSet.DefaultButtons.CANCEL,!1,!0)};
goog.ui.Dialog.ButtonSet.createContinueSaveCancel=function(){return(new goog.ui.Dialog.ButtonSet).addButton(goog.ui.Dialog.ButtonSet.DefaultButtons.CONTINUE).addButton(goog.ui.Dialog.ButtonSet.DefaultButtons.SAVE).addButton(goog.ui.Dialog.ButtonSet.DefaultButtons.CANCEL,!0,!0)};
(function(){"undefined"!=typeof document&&(goog.ui.Dialog.ButtonSet.OK=goog.ui.Dialog.ButtonSet.createOk(),goog.ui.Dialog.ButtonSet.OK_CANCEL=goog.ui.Dialog.ButtonSet.createOkCancel(),goog.ui.Dialog.ButtonSet.YES_NO=goog.ui.Dialog.ButtonSet.createYesNo(),goog.ui.Dialog.ButtonSet.YES_NO_CANCEL=goog.ui.Dialog.ButtonSet.createYesNoCancel(),goog.ui.Dialog.ButtonSet.CONTINUE_SAVE_CANCEL=goog.ui.Dialog.ButtonSet.createContinueSaveCancel())})();goog.ui.registry={};goog.ui.registry.getDefaultRenderer=function(a){for(var b;a;){b=goog.getUid(a);if(b=goog.ui.registry.defaultRenderers_[b])break;a=a.superClass_?a.superClass_.constructor:null}return b?goog.isFunction(b.getInstance)?b.getInstance():new b:null};
goog.ui.registry.setDefaultRenderer=function(a,b){if(!goog.isFunction(a))throw Error("Invalid component class "+a);if(!goog.isFunction(b))throw Error("Invalid renderer class "+b);var c=goog.getUid(a);goog.ui.registry.defaultRenderers_[c]=b};goog.ui.registry.getDecoratorByClassName=function(a){return a in goog.ui.registry.decoratorFunctions_?goog.ui.registry.decoratorFunctions_[a]():null};
goog.ui.registry.setDecoratorByClassName=function(a,b){if(!a)throw Error("Invalid class name "+a);if(!goog.isFunction(b))throw Error("Invalid decorator function "+b);goog.ui.registry.decoratorFunctions_[a]=b};goog.ui.registry.getDecorator=function(a){for(var b=goog.dom.classes.get(a),c=0,d=b.length;c<d;c++)if(a=goog.ui.registry.getDecoratorByClassName(b[c]))return a;return null};goog.ui.registry.reset=function(){goog.ui.registry.defaultRenderers_={};goog.ui.registry.decoratorFunctions_={}};
goog.ui.registry.defaultRenderers_={};goog.ui.registry.decoratorFunctions_={};goog.ui.ContainerRenderer=function(){};goog.addSingletonGetter(goog.ui.ContainerRenderer);goog.ui.ContainerRenderer.getCustomRenderer=function(a,b){var c=new a;c.getCssClass=function(){return b};return c};goog.ui.ContainerRenderer.CSS_CLASS="goog-container";goog.ui.ContainerRenderer.prototype.getAriaRole=function(){};goog.ui.ContainerRenderer.prototype.enableTabIndex=function(a,b){a&&(a.tabIndex=b?0:-1)};
goog.ui.ContainerRenderer.prototype.createDom=function(a){return a.getDomHelper().createDom("div",this.getClassNames(a).join(" "))};goog.ui.ContainerRenderer.prototype.getContentElement=function(a){return a};goog.ui.ContainerRenderer.prototype.canDecorate=function(a){return"DIV"==a.tagName};
goog.ui.ContainerRenderer.prototype.decorate=function(a,b){b.id&&a.setId(b.id);var c=this.getCssClass(),d=!1,e=goog.dom.classes.get(b);e&&goog.array.forEach(e,function(b){b==c?d=!0:b&&this.setStateFromClassName(a,b,c)},this);d||goog.dom.classes.add(b,c);this.decorateChildren(a,this.getContentElement(b));return b};
goog.ui.ContainerRenderer.prototype.setStateFromClassName=function(a,b,c){b==c+"-disabled"?a.setEnabled(!1):b==c+"-horizontal"?a.setOrientation(goog.ui.Container.Orientation.HORIZONTAL):b==c+"-vertical"&&a.setOrientation(goog.ui.Container.Orientation.VERTICAL)};
goog.ui.ContainerRenderer.prototype.decorateChildren=function(a,b,c){if(b){c=c||b.firstChild;for(var d;c&&c.parentNode==b;){d=c.nextSibling;if(c.nodeType==goog.dom.NodeType.ELEMENT){var e=this.getDecoratorForChild(c);e&&(e.setElementInternal(c),a.isEnabled()||e.setEnabled(!1),a.addChild(e),e.decorate(c))}else c.nodeValue&&""!=goog.string.trim(c.nodeValue)||b.removeChild(c);c=d}}};goog.ui.ContainerRenderer.prototype.getDecoratorForChild=function(a){return goog.ui.registry.getDecorator(a)};
goog.ui.ContainerRenderer.prototype.initializeDom=function(a){a=a.getElement();goog.asserts.assert(a,"The container DOM element cannot be null.");goog.style.setUnselectable(a,!0,goog.userAgent.GECKO);goog.userAgent.IE&&(a.hideFocus=!0);var b=this.getAriaRole();b&&goog.a11y.aria.setRole(a,b)};goog.ui.ContainerRenderer.prototype.getKeyEventTarget=function(a){return a.getElement()};goog.ui.ContainerRenderer.prototype.getCssClass=function(){return goog.ui.ContainerRenderer.CSS_CLASS};
goog.ui.ContainerRenderer.prototype.getClassNames=function(a){var b=this.getCssClass(),c=a.getOrientation()==goog.ui.Container.Orientation.HORIZONTAL,c=[b,c?b+"-horizontal":b+"-vertical"];a.isEnabled()||c.push(b+"-disabled");return c};goog.ui.ContainerRenderer.prototype.getDefaultOrientation=function(){return goog.ui.Container.Orientation.VERTICAL};goog.events.KeyHandler=function(a,b){goog.events.EventTarget.call(this);a&&this.attach(a,b)};goog.inherits(goog.events.KeyHandler,goog.events.EventTarget);goog.events.KeyHandler.prototype.element_=null;goog.events.KeyHandler.prototype.keyPressKey_=null;goog.events.KeyHandler.prototype.keyDownKey_=null;goog.events.KeyHandler.prototype.keyUpKey_=null;goog.events.KeyHandler.prototype.lastKey_=-1;goog.events.KeyHandler.prototype.keyCode_=-1;goog.events.KeyHandler.prototype.altKey_=!1;
goog.events.KeyHandler.EventType={KEY:"key"};
goog.events.KeyHandler.safariKey_={3:goog.events.KeyCodes.ENTER,12:goog.events.KeyCodes.NUMLOCK,63232:goog.events.KeyCodes.UP,63233:goog.events.KeyCodes.DOWN,63234:goog.events.KeyCodes.LEFT,63235:goog.events.KeyCodes.RIGHT,63236:goog.events.KeyCodes.F1,63237:goog.events.KeyCodes.F2,63238:goog.events.KeyCodes.F3,63239:goog.events.KeyCodes.F4,63240:goog.events.KeyCodes.F5,63241:goog.events.KeyCodes.F6,63242:goog.events.KeyCodes.F7,63243:goog.events.KeyCodes.F8,63244:goog.events.KeyCodes.F9,63245:goog.events.KeyCodes.F10,
63246:goog.events.KeyCodes.F11,63247:goog.events.KeyCodes.F12,63248:goog.events.KeyCodes.PRINT_SCREEN,63272:goog.events.KeyCodes.DELETE,63273:goog.events.KeyCodes.HOME,63275:goog.events.KeyCodes.END,63276:goog.events.KeyCodes.PAGE_UP,63277:goog.events.KeyCodes.PAGE_DOWN,63289:goog.events.KeyCodes.NUMLOCK,63302:goog.events.KeyCodes.INSERT};
goog.events.KeyHandler.keyIdentifier_={Up:goog.events.KeyCodes.UP,Down:goog.events.KeyCodes.DOWN,Left:goog.events.KeyCodes.LEFT,Right:goog.events.KeyCodes.RIGHT,Enter:goog.events.KeyCodes.ENTER,F1:goog.events.KeyCodes.F1,F2:goog.events.KeyCodes.F2,F3:goog.events.KeyCodes.F3,F4:goog.events.KeyCodes.F4,F5:goog.events.KeyCodes.F5,F6:goog.events.KeyCodes.F6,F7:goog.events.KeyCodes.F7,F8:goog.events.KeyCodes.F8,F9:goog.events.KeyCodes.F9,F10:goog.events.KeyCodes.F10,F11:goog.events.KeyCodes.F11,F12:goog.events.KeyCodes.F12,
"U+007F":goog.events.KeyCodes.DELETE,Home:goog.events.KeyCodes.HOME,End:goog.events.KeyCodes.END,PageUp:goog.events.KeyCodes.PAGE_UP,PageDown:goog.events.KeyCodes.PAGE_DOWN,Insert:goog.events.KeyCodes.INSERT};goog.events.KeyHandler.USES_KEYDOWN_=goog.userAgent.IE||goog.userAgent.WEBKIT&&goog.userAgent.isVersion("525");goog.events.KeyHandler.SAVE_ALT_FOR_KEYPRESS_=goog.userAgent.MAC&&goog.userAgent.GECKO;
goog.events.KeyHandler.prototype.handleKeyDown_=function(a){goog.userAgent.WEBKIT&&(this.lastKey_==goog.events.KeyCodes.CTRL&&!a.ctrlKey||this.lastKey_==goog.events.KeyCodes.ALT&&!a.altKey||goog.userAgent.MAC&&this.lastKey_==goog.events.KeyCodes.META&&!a.metaKey)&&(this.keyCode_=this.lastKey_=-1);-1==this.lastKey_&&(a.ctrlKey&&a.keyCode!=goog.events.KeyCodes.CTRL?this.lastKey_=goog.events.KeyCodes.CTRL:a.altKey&&a.keyCode!=goog.events.KeyCodes.ALT?this.lastKey_=goog.events.KeyCodes.ALT:a.metaKey&&
a.keyCode!=goog.events.KeyCodes.META&&(this.lastKey_=goog.events.KeyCodes.META));goog.events.KeyHandler.USES_KEYDOWN_&&!goog.events.KeyCodes.firesKeyPressEvent(a.keyCode,this.lastKey_,a.shiftKey,a.ctrlKey,a.altKey)?this.handleEvent(a):(this.keyCode_=goog.userAgent.GECKO?goog.events.KeyCodes.normalizeGeckoKeyCode(a.keyCode):a.keyCode,goog.events.KeyHandler.SAVE_ALT_FOR_KEYPRESS_&&(this.altKey_=a.altKey))};goog.events.KeyHandler.prototype.resetState=function(){this.keyCode_=this.lastKey_=-1};
goog.events.KeyHandler.prototype.handleKeyup_=function(a){this.resetState();this.altKey_=a.altKey};
goog.events.KeyHandler.prototype.handleEvent=function(a){var b=a.getBrowserEvent(),c,d,e=b.altKey;goog.userAgent.IE&&a.type==goog.events.EventType.KEYPRESS?(c=this.keyCode_,d=c!=goog.events.KeyCodes.ENTER&&c!=goog.events.KeyCodes.ESC?b.keyCode:0):goog.userAgent.WEBKIT&&a.type==goog.events.EventType.KEYPRESS?(c=this.keyCode_,d=0<=b.charCode&&63232>b.charCode&&goog.events.KeyCodes.isCharacterKey(c)?b.charCode:0):goog.userAgent.OPERA?(c=this.keyCode_,d=goog.events.KeyCodes.isCharacterKey(c)?b.keyCode:
0):(c=b.keyCode||this.keyCode_,d=b.charCode||0,goog.events.KeyHandler.SAVE_ALT_FOR_KEYPRESS_&&(e=this.altKey_),goog.userAgent.MAC&&d==goog.events.KeyCodes.QUESTION_MARK&&c==goog.events.KeyCodes.WIN_KEY&&(c=goog.events.KeyCodes.SLASH));var f=c,g=b.keyIdentifier;c?63232<=c&&c in goog.events.KeyHandler.safariKey_?f=goog.events.KeyHandler.safariKey_[c]:25==c&&a.shiftKey&&(f=9):g&&g in goog.events.KeyHandler.keyIdentifier_&&(f=goog.events.KeyHandler.keyIdentifier_[g]);a=f==this.lastKey_;this.lastKey_=
f;b=new goog.events.KeyEvent(f,d,a,b);b.altKey=e;this.dispatchEvent(b)};goog.events.KeyHandler.prototype.getElement=function(){return this.element_};
goog.events.KeyHandler.prototype.attach=function(a,b){this.keyUpKey_&&this.detach();this.element_=a;this.keyPressKey_=goog.events.listen(this.element_,goog.events.EventType.KEYPRESS,this,b);this.keyDownKey_=goog.events.listen(this.element_,goog.events.EventType.KEYDOWN,this.handleKeyDown_,b,this);this.keyUpKey_=goog.events.listen(this.element_,goog.events.EventType.KEYUP,this.handleKeyup_,b,this)};
goog.events.KeyHandler.prototype.detach=function(){this.keyPressKey_&&(goog.events.unlistenByKey(this.keyPressKey_),goog.events.unlistenByKey(this.keyDownKey_),goog.events.unlistenByKey(this.keyUpKey_),this.keyUpKey_=this.keyDownKey_=this.keyPressKey_=null);this.element_=null;this.keyCode_=this.lastKey_=-1};goog.events.KeyHandler.prototype.disposeInternal=function(){goog.events.KeyHandler.superClass_.disposeInternal.call(this);this.detach()};
goog.events.KeyEvent=function(a,b,c,d){goog.events.BrowserEvent.call(this,d);this.type=goog.events.KeyHandler.EventType.KEY;this.keyCode=a;this.charCode=b;this.repeat=c};goog.inherits(goog.events.KeyEvent,goog.events.BrowserEvent);goog.ui.ControlRenderer=function(){};goog.addSingletonGetter(goog.ui.ControlRenderer);goog.ui.ControlRenderer.getCustomRenderer=function(a,b){var c=new a;c.getCssClass=function(){return b};return c};goog.ui.ControlRenderer.CSS_CLASS="goog-control";goog.ui.ControlRenderer.IE6_CLASS_COMBINATIONS=[];goog.ui.ControlRenderer.prototype.getAriaRole=function(){};
goog.ui.ControlRenderer.prototype.createDom=function(a){var b=a.getDomHelper().createDom("div",this.getClassNames(a).join(" "),a.getContent());this.setAriaStates(a,b);return b};goog.ui.ControlRenderer.prototype.getContentElement=function(a){return a};
goog.ui.ControlRenderer.prototype.enableClassName=function(a,b,c){if(a=a.getElement?a.getElement():a)if(goog.userAgent.IE&&!goog.userAgent.isVersion("7")){var d=this.getAppliedCombinedClassNames_(goog.dom.classes.get(a),b);d.push(b);goog.partial(c?goog.dom.classes.add:goog.dom.classes.remove,a).apply(null,d)}else goog.dom.classes.enable(a,b,c)};goog.ui.ControlRenderer.prototype.enableExtraClassName=function(a,b,c){this.enableClassName(a,b,c)};goog.ui.ControlRenderer.prototype.canDecorate=function(a){return!0};
goog.ui.ControlRenderer.prototype.decorate=function(a,b){b.id&&a.setId(b.id);var c=this.getContentElement(b);c&&c.firstChild?a.setContentInternal(c.firstChild.nextSibling?goog.array.clone(c.childNodes):c.firstChild):a.setContentInternal(null);var d=0,e=this.getCssClass(),f=this.getStructuralCssClass(),g=!1,h=!1,c=!1,k=goog.dom.classes.get(b);goog.array.forEach(k,function(a){g||a!=e?h||a!=f?d|=this.getStateFromClass(a):h=!0:(g=!0,f==e&&(h=!0))},this);a.setStateInternal(d);g||(k.push(e),f==e&&(h=!0));
h||k.push(f);var l=a.getExtraClassNames();l&&k.push.apply(k,l);if(goog.userAgent.IE&&!goog.userAgent.isVersion("7")){var m=this.getAppliedCombinedClassNames_(k);0<m.length&&(k.push.apply(k,m),c=!0)}g&&h&&!l&&!c||goog.dom.classes.set(b,k.join(" "));this.setAriaStates(a,b);return b};goog.ui.ControlRenderer.prototype.initializeDom=function(a){a.isRightToLeft()&&this.setRightToLeft(a.getElement(),!0);a.isEnabled()&&this.setFocusable(a,a.isVisible())};
goog.ui.ControlRenderer.prototype.setAriaRole=function(a,b){var c=b||this.getAriaRole();c&&(goog.asserts.assert(a,"The element passed as a first parameter cannot be null."),goog.a11y.aria.setRole(a,c))};
goog.ui.ControlRenderer.prototype.setAriaStates=function(a,b){goog.asserts.assert(a);goog.asserts.assert(b);a.isVisible()||goog.a11y.aria.setState(b,goog.a11y.aria.State.HIDDEN,!a.isVisible());a.isEnabled()||this.updateAriaState(b,goog.ui.Component.State.DISABLED,!a.isEnabled());a.isSupportedState(goog.ui.Component.State.SELECTED)&&this.updateAriaState(b,goog.ui.Component.State.SELECTED,a.isSelected());a.isSupportedState(goog.ui.Component.State.CHECKED)&&this.updateAriaState(b,goog.ui.Component.State.CHECKED,
a.isChecked());a.isSupportedState(goog.ui.Component.State.OPENED)&&this.updateAriaState(b,goog.ui.Component.State.OPENED,a.isOpen())};goog.ui.ControlRenderer.prototype.setAllowTextSelection=function(a,b){goog.style.setUnselectable(a,!b,!goog.userAgent.IE&&!goog.userAgent.OPERA)};goog.ui.ControlRenderer.prototype.setRightToLeft=function(a,b){this.enableClassName(a,this.getStructuralCssClass()+"-rtl",b)};
goog.ui.ControlRenderer.prototype.isFocusable=function(a){var b;return a.isSupportedState(goog.ui.Component.State.FOCUSED)&&(b=a.getKeyEventTarget())?goog.dom.isFocusableTabIndex(b):!1};goog.ui.ControlRenderer.prototype.setFocusable=function(a,b){var c;if(a.isSupportedState(goog.ui.Component.State.FOCUSED)&&(c=a.getKeyEventTarget())){if(!b&&a.isFocused()){try{c.blur()}catch(d){}a.isFocused()&&a.handleBlur(null)}goog.dom.isFocusableTabIndex(c)!=b&&goog.dom.setFocusableTabIndex(c,b)}};
goog.ui.ControlRenderer.prototype.setVisible=function(a,b){goog.style.setElementShown(a,b);a&&goog.a11y.aria.setState(a,goog.a11y.aria.State.HIDDEN,!b)};goog.ui.ControlRenderer.prototype.setState=function(a,b,c){var d=a.getElement();if(d){var e=this.getClassForState(b);e&&this.enableClassName(a,e,c);this.updateAriaState(d,b,c)}};
goog.ui.ControlRenderer.prototype.updateAriaState=function(a,b,c){goog.ui.ControlRenderer.ARIA_STATE_MAP_||(goog.ui.ControlRenderer.ARIA_STATE_MAP_=goog.object.create(goog.ui.Component.State.DISABLED,goog.a11y.aria.State.DISABLED,goog.ui.Component.State.SELECTED,goog.a11y.aria.State.SELECTED,goog.ui.Component.State.CHECKED,goog.a11y.aria.State.CHECKED,goog.ui.Component.State.OPENED,goog.a11y.aria.State.EXPANDED));if(b=goog.ui.ControlRenderer.ARIA_STATE_MAP_[b])goog.asserts.assert(a,"The element passed as a first parameter cannot be null."),
goog.a11y.aria.setState(a,b,c)};goog.ui.ControlRenderer.prototype.setContent=function(a,b){var c=this.getContentElement(a);if(c&&(goog.dom.removeChildren(c),b))if(goog.isString(b))goog.dom.setTextContent(c,b);else{var d=function(a){if(a){var b=goog.dom.getOwnerDocument(c);c.appendChild(goog.isString(a)?b.createTextNode(a):a)}};goog.isArray(b)?goog.array.forEach(b,d):!goog.isArrayLike(b)||"nodeType"in b?d(b):goog.array.forEach(goog.array.clone(b),d)}};
goog.ui.ControlRenderer.prototype.getKeyEventTarget=function(a){return a.getElement()};goog.ui.ControlRenderer.prototype.getCssClass=function(){return goog.ui.ControlRenderer.CSS_CLASS};goog.ui.ControlRenderer.prototype.getIe6ClassCombinations=function(){return[]};goog.ui.ControlRenderer.prototype.getStructuralCssClass=function(){return this.getCssClass()};
goog.ui.ControlRenderer.prototype.getClassNames=function(a){var b=this.getCssClass(),c=[b],d=this.getStructuralCssClass();d!=b&&c.push(d);b=this.getClassNamesForState(a.getState());c.push.apply(c,b);(a=a.getExtraClassNames())&&c.push.apply(c,a);goog.userAgent.IE&&!goog.userAgent.isVersion("7")&&c.push.apply(c,this.getAppliedCombinedClassNames_(c));return c};
goog.ui.ControlRenderer.prototype.getAppliedCombinedClassNames_=function(a,b){var c=[];b&&(a=a.concat([b]));goog.array.forEach(this.getIe6ClassCombinations(),function(d){!goog.array.every(d,goog.partial(goog.array.contains,a))||b&&!goog.array.contains(d,b)||c.push(d.join("_"))});return c};goog.ui.ControlRenderer.prototype.getClassNamesForState=function(a){for(var b=[];a;){var c=a&-a;b.push(this.getClassForState(c));a&=~c}return b};
goog.ui.ControlRenderer.prototype.getClassForState=function(a){this.classByState_||this.createClassByStateMap_();return this.classByState_[a]};goog.ui.ControlRenderer.prototype.getStateFromClass=function(a){this.stateByClass_||this.createStateByClassMap_();a=parseInt(this.stateByClass_[a],10);return isNaN(a)?0:a};
goog.ui.ControlRenderer.prototype.createClassByStateMap_=function(){var a=this.getStructuralCssClass();this.classByState_=goog.object.create(goog.ui.Component.State.DISABLED,a+"-disabled",goog.ui.Component.State.HOVER,a+"-hover",goog.ui.Component.State.ACTIVE,a+"-active",goog.ui.Component.State.SELECTED,a+"-selected",goog.ui.Component.State.CHECKED,a+"-checked",goog.ui.Component.State.FOCUSED,a+"-focused",goog.ui.Component.State.OPENED,a+"-open")};
goog.ui.ControlRenderer.prototype.createStateByClassMap_=function(){this.classByState_||this.createClassByStateMap_();this.stateByClass_=goog.object.transpose(this.classByState_)};goog.ui.decorate=function(a){var b=goog.ui.registry.getDecorator(a);b&&b.decorate(a);return b};goog.ui.Control=function(a,b,c){goog.ui.Component.call(this,c);this.renderer_=b||goog.ui.registry.getDefaultRenderer(this.constructor);this.setContentInternal(a)};goog.inherits(goog.ui.Control,goog.ui.Component);goog.ui.Control.registerDecorator=goog.ui.registry.setDecoratorByClassName;goog.ui.Control.getDecorator=goog.ui.registry.getDecorator;goog.ui.Control.decorate=goog.ui.decorate;goog.ui.Control.prototype.content_=null;goog.ui.Control.prototype.state_=0;
goog.ui.Control.prototype.supportedStates_=goog.ui.Component.State.DISABLED|goog.ui.Component.State.HOVER|goog.ui.Component.State.ACTIVE|goog.ui.Component.State.FOCUSED;goog.ui.Control.prototype.autoStates_=goog.ui.Component.State.ALL;goog.ui.Control.prototype.statesWithTransitionEvents_=0;goog.ui.Control.prototype.visible_=!0;goog.ui.Control.prototype.extraClassNames_=null;goog.ui.Control.prototype.handleMouseEvents_=!0;goog.ui.Control.prototype.allowTextSelection_=!1;
goog.ui.Control.prototype.preferredAriaRole_=null;goog.ui.Control.prototype.isHandleMouseEvents=function(){return this.handleMouseEvents_};goog.ui.Control.prototype.setHandleMouseEvents=function(a){this.isInDocument()&&a!=this.handleMouseEvents_&&this.enableMouseEventHandling_(a);this.handleMouseEvents_=a};goog.ui.Control.prototype.getKeyEventTarget=function(){return this.renderer_.getKeyEventTarget(this)};
goog.ui.Control.prototype.getKeyHandler=function(){return this.keyHandler_||(this.keyHandler_=new goog.events.KeyHandler)};goog.ui.Control.prototype.getRenderer=function(){return this.renderer_};goog.ui.Control.prototype.setRenderer=function(a){if(this.isInDocument())throw Error(goog.ui.Component.Error.ALREADY_RENDERED);this.getElement()&&this.setElementInternal(null);this.renderer_=a};goog.ui.Control.prototype.getExtraClassNames=function(){return this.extraClassNames_};
goog.ui.Control.prototype.addClassName=function(a){a&&(this.extraClassNames_?goog.array.contains(this.extraClassNames_,a)||this.extraClassNames_.push(a):this.extraClassNames_=[a],this.renderer_.enableExtraClassName(this,a,!0))};goog.ui.Control.prototype.removeClassName=function(a){a&&this.extraClassNames_&&(goog.array.remove(this.extraClassNames_,a),0==this.extraClassNames_.length&&(this.extraClassNames_=null),this.renderer_.enableExtraClassName(this,a,!1))};
goog.ui.Control.prototype.enableClassName=function(a,b){b?this.addClassName(a):this.removeClassName(a)};goog.ui.Control.prototype.createDom=function(){var a=this.renderer_.createDom(this);this.setElementInternal(a);this.renderer_.setAriaRole(a,this.getPreferredAriaRole());this.isAllowTextSelection()||this.renderer_.setAllowTextSelection(a,!1);this.isVisible()||this.renderer_.setVisible(a,!1)};goog.ui.Control.prototype.getPreferredAriaRole=function(){return this.preferredAriaRole_};
goog.ui.Control.prototype.setPreferredAriaRole=function(a){this.preferredAriaRole_=a};goog.ui.Control.prototype.getContentElement=function(){return this.renderer_.getContentElement(this.getElement())};goog.ui.Control.prototype.canDecorate=function(a){return this.renderer_.canDecorate(a)};
goog.ui.Control.prototype.decorateInternal=function(a){a=this.renderer_.decorate(this,a);this.setElementInternal(a);this.renderer_.setAriaRole(a,this.getPreferredAriaRole());this.isAllowTextSelection()||this.renderer_.setAllowTextSelection(a,!1);this.visible_="none"!=a.style.display};
goog.ui.Control.prototype.enterDocument=function(){goog.ui.Control.superClass_.enterDocument.call(this);this.renderer_.initializeDom(this);if(this.supportedStates_&~goog.ui.Component.State.DISABLED&&(this.isHandleMouseEvents()&&this.enableMouseEventHandling_(!0),this.isSupportedState(goog.ui.Component.State.FOCUSED))){var a=this.getKeyEventTarget();if(a){var b=this.getKeyHandler();b.attach(a);this.getHandler().listen(b,goog.events.KeyHandler.EventType.KEY,this.handleKeyEvent).listen(a,goog.events.EventType.FOCUS,
this.handleFocus).listen(a,goog.events.EventType.BLUR,this.handleBlur)}}};
goog.ui.Control.prototype.enableMouseEventHandling_=function(a){var b=this.getHandler(),c=this.getElement();a?(b.listen(c,goog.events.EventType.MOUSEOVER,this.handleMouseOver).listen(c,goog.events.EventType.MOUSEDOWN,this.handleMouseDown).listen(c,goog.events.EventType.MOUSEUP,this.handleMouseUp).listen(c,goog.events.EventType.MOUSEOUT,this.handleMouseOut),this.handleContextMenu!=goog.nullFunction&&b.listen(c,goog.events.EventType.CONTEXTMENU,this.handleContextMenu),goog.userAgent.IE&&b.listen(c,
goog.events.EventType.DBLCLICK,this.handleDblClick)):(b.unlisten(c,goog.events.EventType.MOUSEOVER,this.handleMouseOver).unlisten(c,goog.events.EventType.MOUSEDOWN,this.handleMouseDown).unlisten(c,goog.events.EventType.MOUSEUP,this.handleMouseUp).unlisten(c,goog.events.EventType.MOUSEOUT,this.handleMouseOut),this.handleContextMenu!=goog.nullFunction&&b.unlisten(c,goog.events.EventType.CONTEXTMENU,this.handleContextMenu),goog.userAgent.IE&&b.unlisten(c,goog.events.EventType.DBLCLICK,this.handleDblClick))};
goog.ui.Control.prototype.exitDocument=function(){goog.ui.Control.superClass_.exitDocument.call(this);this.keyHandler_&&this.keyHandler_.detach();this.isVisible()&&this.isEnabled()&&this.renderer_.setFocusable(this,!1)};goog.ui.Control.prototype.disposeInternal=function(){goog.ui.Control.superClass_.disposeInternal.call(this);this.keyHandler_&&(this.keyHandler_.dispose(),delete this.keyHandler_);delete this.renderer_;this.extraClassNames_=this.content_=null};goog.ui.Control.prototype.getContent=function(){return this.content_};
goog.ui.Control.prototype.setContent=function(a){this.renderer_.setContent(this.getElement(),a);this.setContentInternal(a)};goog.ui.Control.prototype.setContentInternal=function(a){this.content_=a};goog.ui.Control.prototype.getCaption=function(){var a=this.getContent();if(!a)return"";a=goog.isString(a)?a:goog.isArray(a)?goog.array.map(a,goog.dom.getRawTextContent).join(""):goog.dom.getTextContent(a);return goog.string.collapseBreakingSpaces(a)};goog.ui.Control.prototype.setCaption=function(a){this.setContent(a)};
goog.ui.Control.prototype.setRightToLeft=function(a){goog.ui.Control.superClass_.setRightToLeft.call(this,a);var b=this.getElement();b&&this.renderer_.setRightToLeft(b,a)};goog.ui.Control.prototype.isAllowTextSelection=function(){return this.allowTextSelection_};goog.ui.Control.prototype.setAllowTextSelection=function(a){this.allowTextSelection_=a;var b=this.getElement();b&&this.renderer_.setAllowTextSelection(b,a)};goog.ui.Control.prototype.isVisible=function(){return this.visible_};
goog.ui.Control.prototype.setVisible=function(a,b){if(b||this.visible_!=a&&this.dispatchEvent(a?goog.ui.Component.EventType.SHOW:goog.ui.Component.EventType.HIDE)){var c=this.getElement();c&&this.renderer_.setVisible(c,a);this.isEnabled()&&this.renderer_.setFocusable(this,a);this.visible_=a;return!0}return!1};goog.ui.Control.prototype.isEnabled=function(){return!this.hasState(goog.ui.Component.State.DISABLED)};
goog.ui.Control.prototype.isParentDisabled_=function(){var a=this.getParent();return!!a&&"function"==typeof a.isEnabled&&!a.isEnabled()};goog.ui.Control.prototype.setEnabled=function(a){!this.isParentDisabled_()&&this.isTransitionAllowed(goog.ui.Component.State.DISABLED,!a)&&(a||(this.setActive(!1),this.setHighlighted(!1)),this.isVisible()&&this.renderer_.setFocusable(this,a),this.setState(goog.ui.Component.State.DISABLED,!a))};goog.ui.Control.prototype.isHighlighted=function(){return this.hasState(goog.ui.Component.State.HOVER)};
goog.ui.Control.prototype.setHighlighted=function(a){this.isTransitionAllowed(goog.ui.Component.State.HOVER,a)&&this.setState(goog.ui.Component.State.HOVER,a)};goog.ui.Control.prototype.isActive=function(){return this.hasState(goog.ui.Component.State.ACTIVE)};goog.ui.Control.prototype.setActive=function(a){this.isTransitionAllowed(goog.ui.Component.State.ACTIVE,a)&&this.setState(goog.ui.Component.State.ACTIVE,a)};goog.ui.Control.prototype.isSelected=function(){return this.hasState(goog.ui.Component.State.SELECTED)};
goog.ui.Control.prototype.setSelected=function(a){this.isTransitionAllowed(goog.ui.Component.State.SELECTED,a)&&this.setState(goog.ui.Component.State.SELECTED,a)};goog.ui.Control.prototype.isChecked=function(){return this.hasState(goog.ui.Component.State.CHECKED)};goog.ui.Control.prototype.setChecked=function(a){this.isTransitionAllowed(goog.ui.Component.State.CHECKED,a)&&this.setState(goog.ui.Component.State.CHECKED,a)};goog.ui.Control.prototype.isFocused=function(){return this.hasState(goog.ui.Component.State.FOCUSED)};
goog.ui.Control.prototype.setFocused=function(a){this.isTransitionAllowed(goog.ui.Component.State.FOCUSED,a)&&this.setState(goog.ui.Component.State.FOCUSED,a)};goog.ui.Control.prototype.isOpen=function(){return this.hasState(goog.ui.Component.State.OPENED)};goog.ui.Control.prototype.setOpen=function(a){this.isTransitionAllowed(goog.ui.Component.State.OPENED,a)&&this.setState(goog.ui.Component.State.OPENED,a)};goog.ui.Control.prototype.getState=function(){return this.state_};
goog.ui.Control.prototype.hasState=function(a){return!!(this.state_&a)};goog.ui.Control.prototype.setState=function(a,b){this.isSupportedState(a)&&b!=this.hasState(a)&&(this.renderer_.setState(this,a,b),this.state_=b?this.state_|a:this.state_&~a)};goog.ui.Control.prototype.setStateInternal=function(a){this.state_=a};goog.ui.Control.prototype.isSupportedState=function(a){return!!(this.supportedStates_&a)};
goog.ui.Control.prototype.setSupportedState=function(a,b){if(this.isInDocument()&&this.hasState(a)&&!b)throw Error(goog.ui.Component.Error.ALREADY_RENDERED);!b&&this.hasState(a)&&this.setState(a,!1);this.supportedStates_=b?this.supportedStates_|a:this.supportedStates_&~a};goog.ui.Control.prototype.isAutoState=function(a){return!!(this.autoStates_&a)&&this.isSupportedState(a)};goog.ui.Control.prototype.setAutoStates=function(a,b){this.autoStates_=b?this.autoStates_|a:this.autoStates_&~a};
goog.ui.Control.prototype.isDispatchTransitionEvents=function(a){return!!(this.statesWithTransitionEvents_&a)&&this.isSupportedState(a)};goog.ui.Control.prototype.setDispatchTransitionEvents=function(a,b){this.statesWithTransitionEvents_=b?this.statesWithTransitionEvents_|a:this.statesWithTransitionEvents_&~a};
goog.ui.Control.prototype.isTransitionAllowed=function(a,b){return this.isSupportedState(a)&&this.hasState(a)!=b&&(!(this.statesWithTransitionEvents_&a)||this.dispatchEvent(goog.ui.Component.getStateTransitionEvent(a,b)))&&!this.isDisposed()};goog.ui.Control.prototype.handleMouseOver=function(a){!goog.ui.Control.isMouseEventWithinElement_(a,this.getElement())&&this.dispatchEvent(goog.ui.Component.EventType.ENTER)&&this.isEnabled()&&this.isAutoState(goog.ui.Component.State.HOVER)&&this.setHighlighted(!0)};
goog.ui.Control.prototype.handleMouseOut=function(a){!goog.ui.Control.isMouseEventWithinElement_(a,this.getElement())&&this.dispatchEvent(goog.ui.Component.EventType.LEAVE)&&(this.isAutoState(goog.ui.Component.State.ACTIVE)&&this.setActive(!1),this.isAutoState(goog.ui.Component.State.HOVER)&&this.setHighlighted(!1))};goog.ui.Control.prototype.handleContextMenu=goog.nullFunction;goog.ui.Control.isMouseEventWithinElement_=function(a,b){return!!a.relatedTarget&&goog.dom.contains(b,a.relatedTarget)};
goog.ui.Control.prototype.handleMouseDown=function(a){this.isEnabled()&&(this.isAutoState(goog.ui.Component.State.HOVER)&&this.setHighlighted(!0),a.isMouseActionButton()&&(this.isAutoState(goog.ui.Component.State.ACTIVE)&&this.setActive(!0),this.renderer_.isFocusable(this)&&this.getKeyEventTarget().focus()));!this.isAllowTextSelection()&&a.isMouseActionButton()&&a.preventDefault()};
goog.ui.Control.prototype.handleMouseUp=function(a){this.isEnabled()&&(this.isAutoState(goog.ui.Component.State.HOVER)&&this.setHighlighted(!0),this.isActive()&&this.performActionInternal(a)&&this.isAutoState(goog.ui.Component.State.ACTIVE)&&this.setActive(!1))};goog.ui.Control.prototype.handleDblClick=function(a){this.isEnabled()&&this.performActionInternal(a)};
goog.ui.Control.prototype.performActionInternal=function(a){this.isAutoState(goog.ui.Component.State.CHECKED)&&this.setChecked(!this.isChecked());this.isAutoState(goog.ui.Component.State.SELECTED)&&this.setSelected(!0);this.isAutoState(goog.ui.Component.State.OPENED)&&this.setOpen(!this.isOpen());var b=new goog.events.Event(goog.ui.Component.EventType.ACTION,this);a&&(b.altKey=a.altKey,b.ctrlKey=a.ctrlKey,b.metaKey=a.metaKey,b.shiftKey=a.shiftKey,b.platformModifierKey=a.platformModifierKey);return this.dispatchEvent(b)};
goog.ui.Control.prototype.handleFocus=function(a){this.isAutoState(goog.ui.Component.State.FOCUSED)&&this.setFocused(!0)};goog.ui.Control.prototype.handleBlur=function(a){this.isAutoState(goog.ui.Component.State.ACTIVE)&&this.setActive(!1);this.isAutoState(goog.ui.Component.State.FOCUSED)&&this.setFocused(!1)};goog.ui.Control.prototype.handleKeyEvent=function(a){return this.isVisible()&&this.isEnabled()&&this.handleKeyEventInternal(a)?(a.preventDefault(),a.stopPropagation(),!0):!1};
goog.ui.Control.prototype.handleKeyEventInternal=function(a){return a.keyCode==goog.events.KeyCodes.ENTER&&this.performActionInternal(a)};goog.ui.registry.setDefaultRenderer(goog.ui.Control,goog.ui.ControlRenderer);goog.ui.registry.setDecoratorByClassName(goog.ui.ControlRenderer.CSS_CLASS,function(){return new goog.ui.Control(null)});goog.ui.Container=function(a,b,c){goog.ui.Component.call(this,c);this.renderer_=b||goog.ui.ContainerRenderer.getInstance();this.orientation_=a||this.renderer_.getDefaultOrientation()};goog.inherits(goog.ui.Container,goog.ui.Component);goog.ui.Container.EventType={AFTER_SHOW:"aftershow",AFTER_HIDE:"afterhide"};goog.ui.Container.Orientation={HORIZONTAL:"horizontal",VERTICAL:"vertical"};goog.ui.Container.prototype.keyEventTarget_=null;goog.ui.Container.prototype.keyHandler_=null;
goog.ui.Container.prototype.renderer_=null;goog.ui.Container.prototype.orientation_=null;goog.ui.Container.prototype.visible_=!0;goog.ui.Container.prototype.enabled_=!0;goog.ui.Container.prototype.focusable_=!0;goog.ui.Container.prototype.highlightedIndex_=-1;goog.ui.Container.prototype.openItem_=null;goog.ui.Container.prototype.mouseButtonPressed_=!1;goog.ui.Container.prototype.allowFocusableChildren_=!1;goog.ui.Container.prototype.openFollowsHighlight_=!0;
goog.ui.Container.prototype.childElementIdMap_=null;goog.ui.Container.prototype.getKeyEventTarget=function(){return this.keyEventTarget_||this.renderer_.getKeyEventTarget(this)};
goog.ui.Container.prototype.setKeyEventTarget=function(a){if(this.focusable_){var b=this.getKeyEventTarget(),c=this.isInDocument();this.keyEventTarget_=a;var d=this.getKeyEventTarget();c&&(this.keyEventTarget_=b,this.enableFocusHandling_(!1),this.keyEventTarget_=a,this.getKeyHandler().attach(d),this.enableFocusHandling_(!0))}else throw Error("Can't set key event target for container that doesn't support keyboard focus!");};
goog.ui.Container.prototype.getKeyHandler=function(){return this.keyHandler_||(this.keyHandler_=new goog.events.KeyHandler(this.getKeyEventTarget()))};goog.ui.Container.prototype.getRenderer=function(){return this.renderer_};goog.ui.Container.prototype.setRenderer=function(a){if(this.getElement())throw Error(goog.ui.Component.Error.ALREADY_RENDERED);this.renderer_=a};goog.ui.Container.prototype.createDom=function(){this.setElementInternal(this.renderer_.createDom(this))};
goog.ui.Container.prototype.getContentElement=function(){return this.renderer_.getContentElement(this.getElement())};goog.ui.Container.prototype.canDecorate=function(a){return this.renderer_.canDecorate(a)};goog.ui.Container.prototype.decorateInternal=function(a){this.setElementInternal(this.renderer_.decorate(this,a));"none"==a.style.display&&(this.visible_=!1)};
goog.ui.Container.prototype.enterDocument=function(){goog.ui.Container.superClass_.enterDocument.call(this);this.forEachChild(function(a){a.isInDocument()&&this.registerChildId_(a)},this);var a=this.getElement();this.renderer_.initializeDom(this);this.setVisible(this.visible_,!0);this.getHandler().listen(this,goog.ui.Component.EventType.ENTER,this.handleEnterItem).listen(this,goog.ui.Component.EventType.HIGHLIGHT,this.handleHighlightItem).listen(this,goog.ui.Component.EventType.UNHIGHLIGHT,this.handleUnHighlightItem).listen(this,
goog.ui.Component.EventType.OPEN,this.handleOpenItem).listen(this,goog.ui.Component.EventType.CLOSE,this.handleCloseItem).listen(a,goog.events.EventType.MOUSEDOWN,this.handleMouseDown).listen(goog.dom.getOwnerDocument(a),goog.events.EventType.MOUSEUP,this.handleDocumentMouseUp).listen(a,[goog.events.EventType.MOUSEDOWN,goog.events.EventType.MOUSEUP,goog.events.EventType.MOUSEOVER,goog.events.EventType.MOUSEOUT,goog.events.EventType.CONTEXTMENU],this.handleChildMouseEvents);this.isFocusable()&&this.enableFocusHandling_(!0)};
goog.ui.Container.prototype.enableFocusHandling_=function(a){var b=this.getHandler(),c=this.getKeyEventTarget();a?b.listen(c,goog.events.EventType.FOCUS,this.handleFocus).listen(c,goog.events.EventType.BLUR,this.handleBlur).listen(this.getKeyHandler(),goog.events.KeyHandler.EventType.KEY,this.handleKeyEvent):b.unlisten(c,goog.events.EventType.FOCUS,this.handleFocus).unlisten(c,goog.events.EventType.BLUR,this.handleBlur).unlisten(this.getKeyHandler(),goog.events.KeyHandler.EventType.KEY,this.handleKeyEvent)};
goog.ui.Container.prototype.exitDocument=function(){this.setHighlightedIndex(-1);this.openItem_&&this.openItem_.setOpen(!1);this.mouseButtonPressed_=!1;goog.ui.Container.superClass_.exitDocument.call(this)};goog.ui.Container.prototype.disposeInternal=function(){goog.ui.Container.superClass_.disposeInternal.call(this);this.keyHandler_&&(this.keyHandler_.dispose(),this.keyHandler_=null);this.renderer_=this.openItem_=this.childElementIdMap_=this.keyEventTarget_=null};
goog.ui.Container.prototype.handleEnterItem=function(a){return!0};
goog.ui.Container.prototype.handleHighlightItem=function(a){var b=this.indexOfChild(a.target);if(-1<b&&b!=this.highlightedIndex_){var c=this.getHighlighted();c&&c.setHighlighted(!1);this.highlightedIndex_=b;c=this.getHighlighted();this.isMouseButtonPressed()&&c.setActive(!0);this.openFollowsHighlight_&&this.openItem_&&c!=this.openItem_&&(c.isSupportedState(goog.ui.Component.State.OPENED)?c.setOpen(!0):this.openItem_.setOpen(!1))}b=this.getElement();goog.asserts.assert(b,"The DOM element for the container cannot be null.");
null!=a.target.getElement()&&goog.a11y.aria.setState(b,goog.a11y.aria.State.ACTIVEDESCENDANT,a.target.getElement().id)};goog.ui.Container.prototype.handleUnHighlightItem=function(a){a.target==this.getHighlighted()&&(this.highlightedIndex_=-1);a=this.getElement();goog.asserts.assert(a,"The DOM element for the container cannot be null.");goog.a11y.aria.setState(a,goog.a11y.aria.State.ACTIVEDESCENDANT,"")};
goog.ui.Container.prototype.handleOpenItem=function(a){(a=a.target)&&a!=this.openItem_&&a.getParent()==this&&(this.openItem_&&this.openItem_.setOpen(!1),this.openItem_=a)};goog.ui.Container.prototype.handleCloseItem=function(a){a.target==this.openItem_&&(this.openItem_=null)};goog.ui.Container.prototype.handleMouseDown=function(a){this.enabled_&&this.setMouseButtonPressed(!0);var b=this.getKeyEventTarget();b&&goog.dom.isFocusableTabIndex(b)?b.focus():a.preventDefault()};
goog.ui.Container.prototype.handleDocumentMouseUp=function(a){this.setMouseButtonPressed(!1)};goog.ui.Container.prototype.handleChildMouseEvents=function(a){var b=this.getOwnerControl(a.target);if(b)switch(a.type){case goog.events.EventType.MOUSEDOWN:b.handleMouseDown(a);break;case goog.events.EventType.MOUSEUP:b.handleMouseUp(a);break;case goog.events.EventType.MOUSEOVER:b.handleMouseOver(a);break;case goog.events.EventType.MOUSEOUT:b.handleMouseOut(a);break;case goog.events.EventType.CONTEXTMENU:b.handleContextMenu(a)}};
goog.ui.Container.prototype.getOwnerControl=function(a){if(this.childElementIdMap_)for(var b=this.getElement();a&&a!==b;){var c=a.id;if(c in this.childElementIdMap_)return this.childElementIdMap_[c];a=a.parentNode}return null};goog.ui.Container.prototype.handleFocus=function(a){};goog.ui.Container.prototype.handleBlur=function(a){this.setHighlightedIndex(-1);this.setMouseButtonPressed(!1);this.openItem_&&this.openItem_.setOpen(!1)};
goog.ui.Container.prototype.handleKeyEvent=function(a){return this.isEnabled()&&this.isVisible()&&(0!=this.getChildCount()||this.keyEventTarget_)&&this.handleKeyEventInternal(a)?(a.preventDefault(),a.stopPropagation(),!0):!1};
goog.ui.Container.prototype.handleKeyEventInternal=function(a){var b=this.getHighlighted();if(b&&"function"==typeof b.handleKeyEvent&&b.handleKeyEvent(a)||this.openItem_&&this.openItem_!=b&&"function"==typeof this.openItem_.handleKeyEvent&&this.openItem_.handleKeyEvent(a))return!0;if(a.shiftKey||a.ctrlKey||a.metaKey||a.altKey)return!1;switch(a.keyCode){case goog.events.KeyCodes.ESC:if(this.isFocusable())this.getKeyEventTarget().blur();else return!1;break;case goog.events.KeyCodes.HOME:this.highlightFirst();
break;case goog.events.KeyCodes.END:this.highlightLast();break;case goog.events.KeyCodes.UP:if(this.orientation_==goog.ui.Container.Orientation.VERTICAL)this.highlightPrevious();else return!1;break;case goog.events.KeyCodes.LEFT:if(this.orientation_==goog.ui.Container.Orientation.HORIZONTAL)this.isRightToLeft()?this.highlightNext():this.highlightPrevious();else return!1;break;case goog.events.KeyCodes.DOWN:if(this.orientation_==goog.ui.Container.Orientation.VERTICAL)this.highlightNext();else return!1;
break;case goog.events.KeyCodes.RIGHT:if(this.orientation_==goog.ui.Container.Orientation.HORIZONTAL)this.isRightToLeft()?this.highlightPrevious():this.highlightNext();else return!1;break;default:return!1}return!0};goog.ui.Container.prototype.registerChildId_=function(a){var b=a.getElement(),b=b.id||(b.id=a.getId());this.childElementIdMap_||(this.childElementIdMap_={});this.childElementIdMap_[b]=a};
goog.ui.Container.prototype.addChild=function(a,b){goog.asserts.assertInstanceof(a,goog.ui.Control,"The child of a container must be a control");goog.ui.Container.superClass_.addChild.call(this,a,b)};
goog.ui.Container.prototype.addChildAt=function(a,b,c){a.setDispatchTransitionEvents(goog.ui.Component.State.HOVER,!0);a.setDispatchTransitionEvents(goog.ui.Component.State.OPENED,!0);!this.isFocusable()&&this.isFocusableChildrenAllowed()||a.setSupportedState(goog.ui.Component.State.FOCUSED,!1);a.setHandleMouseEvents(!1);goog.ui.Container.superClass_.addChildAt.call(this,a,b,c);a.isInDocument()&&this.isInDocument()&&this.registerChildId_(a);b<=this.highlightedIndex_&&this.highlightedIndex_++};
goog.ui.Container.prototype.removeChild=function(a,b){if(a=goog.isString(a)?this.getChild(a):a){var c=this.indexOfChild(a);-1!=c&&(c==this.highlightedIndex_?a.setHighlighted(!1):c<this.highlightedIndex_&&this.highlightedIndex_--);(c=a.getElement())&&c.id&&this.childElementIdMap_&&goog.object.remove(this.childElementIdMap_,c.id)}a=goog.ui.Container.superClass_.removeChild.call(this,a,b);a.setHandleMouseEvents(!0);return a};goog.ui.Container.prototype.getOrientation=function(){return this.orientation_};
goog.ui.Container.prototype.setOrientation=function(a){if(this.getElement())throw Error(goog.ui.Component.Error.ALREADY_RENDERED);this.orientation_=a};goog.ui.Container.prototype.isVisible=function(){return this.visible_};
goog.ui.Container.prototype.setVisible=function(a,b){if(b||this.visible_!=a&&this.dispatchEvent(a?goog.ui.Component.EventType.SHOW:goog.ui.Component.EventType.HIDE)){this.visible_=a;var c=this.getElement();c&&(goog.style.setElementShown(c,a),this.isFocusable()&&this.renderer_.enableTabIndex(this.getKeyEventTarget(),this.enabled_&&this.visible_),b||this.dispatchEvent(this.visible_?goog.ui.Container.EventType.AFTER_SHOW:goog.ui.Container.EventType.AFTER_HIDE));return!0}return!1};
goog.ui.Container.prototype.isEnabled=function(){return this.enabled_};
goog.ui.Container.prototype.setEnabled=function(a){this.enabled_!=a&&this.dispatchEvent(a?goog.ui.Component.EventType.ENABLE:goog.ui.Component.EventType.DISABLE)&&(a?(this.enabled_=!0,this.forEachChild(function(a){a.wasDisabled?delete a.wasDisabled:a.setEnabled(!0)})):(this.forEachChild(function(a){a.isEnabled()?a.setEnabled(!1):a.wasDisabled=!0}),this.enabled_=!1,this.setMouseButtonPressed(!1)),this.isFocusable()&&this.renderer_.enableTabIndex(this.getKeyEventTarget(),a&&this.visible_))};
goog.ui.Container.prototype.isFocusable=function(){return this.focusable_};goog.ui.Container.prototype.setFocusable=function(a){a!=this.focusable_&&this.isInDocument()&&this.enableFocusHandling_(a);this.focusable_=a;this.enabled_&&this.visible_&&this.renderer_.enableTabIndex(this.getKeyEventTarget(),a)};goog.ui.Container.prototype.isFocusableChildrenAllowed=function(){return this.allowFocusableChildren_};
goog.ui.Container.prototype.setFocusableChildrenAllowed=function(a){this.allowFocusableChildren_=a};goog.ui.Container.prototype.isOpenFollowsHighlight=function(){return this.openFollowsHighlight_};goog.ui.Container.prototype.setOpenFollowsHighlight=function(a){this.openFollowsHighlight_=a};goog.ui.Container.prototype.getHighlightedIndex=function(){return this.highlightedIndex_};
goog.ui.Container.prototype.setHighlightedIndex=function(a){(a=this.getChildAt(a))?a.setHighlighted(!0):-1<this.highlightedIndex_&&this.getHighlighted().setHighlighted(!1)};goog.ui.Container.prototype.setHighlighted=function(a){this.setHighlightedIndex(this.indexOfChild(a))};goog.ui.Container.prototype.getHighlighted=function(){return this.getChildAt(this.highlightedIndex_)};
goog.ui.Container.prototype.highlightFirst=function(){this.highlightHelper(function(a,b){return(a+1)%b},this.getChildCount()-1)};goog.ui.Container.prototype.highlightLast=function(){this.highlightHelper(function(a,b){a--;return 0>a?b-1:a},0)};goog.ui.Container.prototype.highlightNext=function(){this.highlightHelper(function(a,b){return(a+1)%b},this.highlightedIndex_)};goog.ui.Container.prototype.highlightPrevious=function(){this.highlightHelper(function(a,b){a--;return 0>a?b-1:a},this.highlightedIndex_)};
goog.ui.Container.prototype.highlightHelper=function(a,b){for(var c=0>b?this.indexOfChild(this.openItem_):b,d=this.getChildCount(),c=a.call(this,c,d),e=0;e<=d;){var f=this.getChildAt(c);if(f&&this.canHighlightItem(f))return this.setHighlightedIndexFromKeyEvent(c),!0;e++;c=a.call(this,c,d)}return!1};goog.ui.Container.prototype.canHighlightItem=function(a){return a.isVisible()&&a.isEnabled()&&a.isSupportedState(goog.ui.Component.State.HOVER)};
goog.ui.Container.prototype.setHighlightedIndexFromKeyEvent=function(a){this.setHighlightedIndex(a)};goog.ui.Container.prototype.getOpenItem=function(){return this.openItem_};goog.ui.Container.prototype.isMouseButtonPressed=function(){return this.mouseButtonPressed_};goog.ui.Container.prototype.setMouseButtonPressed=function(a){this.mouseButtonPressed_=a};fyre.ui.Dialog=function(a){this.dialog=new goog.ui.Dialog(a||"fyre-cp-modal");this.dialog.createDom();this.dialog.setEscapeToCancel(!0);this.dialog.setDraggable(!1);this.dialog.setButtonSet(goog.ui.Dialog.ButtonSet.createOkCancel());this.dialog.onKey_=goog.bind(function(a){a.keyCode!==goog.events.KeyCodes.ENTER&&goog.ui.Dialog.prototype.onKey_.call(this.dialog,a)},this)};goog.addSingletonGetter(fyre.ui.Dialog);fyre.ui.Dialog.prototype.addControl=function(a){this.dialog.addChild(a,!0);return this};
fyre.ui.Dialog.prototype.setContent=function(a){this.dialog.setContent(a);return this};fyre.ui.Dialog.prototype.setElement=function(a){this.removeElement();fyre.dom(this.dialog.getContentElement()).append(a);return this};fyre.ui.Dialog.prototype.removeElement=function(a){goog.dom.removeChildren(this.dialog.getContentElement());return this};fyre.ui.Dialog.prototype.open=function(){this.dialog.setVisible(!0);return this};
fyre.ui.Dialog.prototype.close=function(a){this.dialog.setVisible(!1);!0===a&&this.dialog.removeChildren(!0);return this};
fyre.ui.Dialog.prototype.decorate=function(a){var b=a.openInternal,c=a.closeInternal,d=a.repositionInternal,e=this,f=function(a){return function(){a.close.apply(a);a.trigger(goog.ui.Dialog.EventType.SELECT)}}(a);a.openInternal=function(){b&&!1===b.call(a)||(e.setElement(a.el),e.open(),goog.events.listen(e.dialog,goog.ui.Dialog.EventType.SELECT,f),a.reposition(),goog.isFunction(a.setFocus)&&a.setFocus())};a.closeInternal=function(){c&&!1===c.call(a)||(e.close(),goog.events.unlisten(e.dialog,goog.ui.Dialog.EventType.SELECT,
f))};a.repositionInternal=function(){d&&!1===d.call(a)||e.dialog.reposition()};a.popupType=function(){return fyre.ui.Dialog}};fyre.app={};fyre.app.Base=function(a){this.opts=a?a:{};this.messenger=fyre.messenger.base.createChannel(this.NAME);this.initialize(this.opts);fyre.object.Base.call(this)};goog.inherits(fyre.app.Base,fyre.object.Base);fyre.app.Base.prototype.initialize=function(a){for(event in a.events)this.messenger.subscribe(event,a.events[event])};fyre.app.Base.prototype.poll=function(){this.domReadyTimeout=setTimeout(goog.bind(this.checkReadyTimeOut,this),25)};
fyre.app.Base.prototype.checkReadyTimeOut=function(){clearTimeout(this.domReadyTimeout);this.isReady()?this.messenger.trigger(fyre.sp.events.DOM_READY):this.poll()};fyre.app.Base.prototype.isReady=function(){return document.getElementById(this.opts.el)};fyre.sp.templates.login="function"==typeof fyre.sp.templates.login?fyre.sp.templates.login:fyre.lib.Handlebars.template(function(a,b,c,d,e){this.compilerInfo=[3,">= 1.0.0-rc.4"];c=c||a.helpers;e=e||{};var f,g=c.helperMissing,h=this.escapeExpression;a={hash:{},data:e};a='<div class="fyre-cp-login">\n    <header class="fyre-cp-modal-header">\n        Sign in with\n        <img src="'+(h((f=c.media_url,f?f.call(b,"images/default/logo.png",a):g.call(b,"media_url","images/default/logo.png",a)))+'" align="right" alt="Livefyre" />\n    </header>\n    <section>\n        ');
if((f=c["if"].call(b,b.socialAuth,{hash:{},inverse:this.noop,fn:this.program(1,function(a,b){var d,e;d={hash:{},data:b};return d="\n            "+(h((e=c.include,e?e.call(a,"fyre.sp.templates.engage",d):g.call(a,"include","fyre.sp.templates.engage",d)))+"\n        ")},e),data:e}))||0===f)a+=f;a+="\n        ";if((f=c["if"].call(b,b.localAuth,{hash:{},inverse:this.noop,fn:this.program(3,function(a,b){var d,e;d={hash:{},data:b};return d="\n            "+(h((e=c.include,e?e.call(a,"fyre.sp.templates.locallogin",
d):g.call(a,"include","fyre.sp.templates.locallogin",d)))+"\n        ")},e),data:e}))||0===f)a+=f;return a+="\n    </section>\n</div>"});goog.exportSymbol("fyre.sp.templates.login",fyre.sp.templates.login);fyre.client={};fyre.client.XpcClient=function(){};goog.addSingletonGetter(fyre.client.XpcClient);fyre.client.XpcClient.prototype.initXpc=function(a,b,c,d){var e,f=function(){d()?(g.abort(),g.dispose()):e=window.setTimeout(goog.bind(f,this),1E3)},g=new fyre.io.Iframe({child_page:a,success:function(a){window.clearTimeout(e);g.dispose();b(a)},failure:function(a){window.clearTimeout(e);g.dispose();c(a)}});g.send();goog.isFunction(d)&&f.call(this)};goog.window={};goog.window.DEFAULT_POPUP_HEIGHT=500;goog.window.DEFAULT_POPUP_WIDTH=690;goog.window.DEFAULT_POPUP_TARGET="google_popup";
goog.window.open=function(a,b,c){b||(b={});var d=c||window;c="undefined"!=typeof a.href?a.href:String(a);a=b.target||a.target;var e=[],f;for(f in b)switch(f){case "width":case "height":case "top":case "left":e.push(f+"="+b[f]);break;case "target":case "noreferrer":break;default:e.push(f+"="+(b[f]?1:0))}f=e.join(",");if(b.noreferrer){if(b=d.open("",a,f))goog.userAgent.IE&&-1!=c.indexOf(";")&&(c="'"+c.replace(/'/g,"%27")+"'"),b.opener=null,c=goog.string.htmlEscape(c),b.document.write('<META HTTP-EQUIV="refresh" content="0; url='+
c+'">'),b.document.close()}else b=d.open(c,a,f);return b};goog.window.openBlank=function(a,b,c){a=a?goog.string.htmlEscape(a):"";return goog.window.open('javascript:"'+encodeURI(a)+'"',b,c)};goog.window.popup=function(a,b){b||(b={});b.target=b.target||a.target||goog.window.DEFAULT_POPUP_TARGET;b.width=b.width||goog.window.DEFAULT_POPUP_WIDTH;b.height=b.height||goog.window.DEFAULT_POPUP_HEIGHT;var c=goog.window.open(a,b);if(!c)return!0;c.focus();return!1};goog.net.Cookies=function(a){this.document_=a};goog.net.Cookies.MAX_COOKIE_LENGTH=3950;goog.net.Cookies.SPLIT_RE_=/\s*;\s*/;goog.net.Cookies.prototype.isEnabled=function(){return navigator.cookieEnabled};goog.net.Cookies.prototype.isValidName=function(a){return!/[;=\s]/.test(a)};goog.net.Cookies.prototype.isValidValue=function(a){return!/[;\r\n]/.test(a)};
goog.net.Cookies.prototype.set=function(a,b,c,d,e,f){if(!this.isValidName(a))throw Error('Invalid cookie name "'+a+'"');if(!this.isValidValue(b))throw Error('Invalid cookie value "'+b+'"');goog.isDef(c)||(c=-1);e=e?";domain="+e:"";d=d?";path="+d:"";f=f?";secure":"";c=0>c?"":0==c?";expires="+(new Date(1970,1,1)).toUTCString():";expires="+(new Date(goog.now()+1E3*c)).toUTCString();this.setCookie_(a+"="+b+e+d+c+f)};
goog.net.Cookies.prototype.get=function(a,b){for(var c=a+"=",d=this.getParts_(),e=0,f;f=d[e];e++){if(0==f.lastIndexOf(c,0))return f.substr(c.length);if(f==a)return""}return b};goog.net.Cookies.prototype.remove=function(a,b,c){var d=this.containsKey(a);this.set(a,"",0,b,c);return d};goog.net.Cookies.prototype.getKeys=function(){return this.getKeyValues_().keys};goog.net.Cookies.prototype.getValues=function(){return this.getKeyValues_().values};goog.net.Cookies.prototype.isEmpty=function(){return!this.getCookie_()};
goog.net.Cookies.prototype.getCount=function(){return this.getCookie_()?this.getParts_().length:0};goog.net.Cookies.prototype.containsKey=function(a){return goog.isDef(this.get(a))};goog.net.Cookies.prototype.containsValue=function(a){for(var b=this.getKeyValues_().values,c=0;c<b.length;c++)if(b[c]==a)return!0;return!1};goog.net.Cookies.prototype.clear=function(){for(var a=this.getKeyValues_().keys,b=a.length-1;0<=b;b--)this.remove(a[b])};
goog.net.Cookies.prototype.setCookie_=function(a){this.document_.cookie=a};goog.net.Cookies.prototype.getCookie_=function(){return this.document_.cookie};goog.net.Cookies.prototype.getParts_=function(){return(this.getCookie_()||"").split(goog.net.Cookies.SPLIT_RE_)};goog.net.Cookies.prototype.getKeyValues_=function(){for(var a=this.getParts_(),b=[],c=[],d,e,f=0;e=a[f];f++)d=e.indexOf("="),-1==d?(b.push(""),c.push(e)):(b.push(e.substring(0,d)),c.push(e.substring(d+1)));return{keys:b,values:c}};
goog.net.cookies=new goog.net.Cookies(document);goog.net.cookies.MAX_COOKIE_LENGTH=goog.net.Cookies.MAX_COOKIE_LENGTH;fyre.controller.IframeController=function(a,b){fyre.controller.Controller.call(this,a,b)};goog.inherits(fyre.controller.IframeController,fyre.controller.Controller);fyre.controller.IframeController.prototype.initialize=function(a){this.view=a.view;this.url=a.url;this.xpcChildPage=a.xpcChildPage;goog.array.forEach(a.openOn||[],this.registerOpenEvent,this);goog.array.forEach(a.closeOn||[],this.registerCloseEvent,this);this.onClose=a.onClose;this.onOpen=a.onOpen;this.client=fyre.client.XpcClient.getInstance()};
fyre.controller.IframeController.prototype.registerOpenEvent=function(a){this.subscribe(a,this.open)};fyre.controller.IframeController.prototype.registerCloseEvent=function(a){this.subscribe(a,this.close)};fyre.controller.IframeController.prototype.open=function(a){a=goog.isFunction(this.url)?this.url(a):this.url;this.view.setIframeSrc(a);this.view.open();this.client.initXpc(this.xpcChildPage,goog.bind(this.xpcSuccessHandler,this),goog.bind(this.xpcFailureHandler,this),goog.bind(this.poller,this))};
fyre.controller.IframeController.prototype.poller=function(){return this.view.isDisposed()};fyre.controller.IframeController.prototype.close=function(){};fyre.controller.IframeController.prototype.xpcSuccessHandler=function(a){a=a.iframeDirective;this.view.close();if(a){var b=this.parseIframeDirective_(a);a=b.data;(b=this.EVENT_MAP[b.event])&&goog.isString(this["on"+b])&&this.trigger(this["on"+b],a)}};fyre.controller.IframeController.prototype.xpcFailureHandler=function(a){this.view.close()};
fyre.controller.IframeController.prototype.parseIframeDirective_=function(a){a=a.split(fyre.controller.IframeController.DIRECTIVE_SEPARATOR);return{event:a[0],data:1<a.length?a[1]:null}};fyre.controller.IframeController.EVENT_MAP=fyre.controller.IframeController.prototype.EVENT_MAP={CLOSE:"Close"};fyre.controller.IframeController.DIRECTIVE_SEPARATOR="|";fyre.sp.templates.mobilelogin="function"==typeof fyre.sp.templates.mobilelogin?fyre.sp.templates.mobilelogin:fyre.lib.Handlebars.template(function(a,b,c,d,e){this.compilerInfo=[3,">= 1.0.0-rc.4"];c=c||a.helpers;e=e||{};var f,g=c.helperMissing,h=this.escapeExpression;a={hash:{},data:e};a='<div class="fyre-cp-login">\n    <header class="fyre-cp-modal-header">\n        Sign in with\n        <img src="'+(h((f=c.media_url,f?f.call(b,"images/default/logo.png",a):g.call(b,"media_url","images/default/logo.png",
a)))+'" align="right" alt="Livefyre" />\n    </header>\n    ');if((f=c["if"].call(b,b.showNav,{hash:{},inverse:this.noop,fn:this.program(1,function(a,b){return'\n    <nav class="fyre-cp-mobile-nav">\n        <ul class="fyre-cp-mobile-tabs">\n            <li class="fyre-cp-active">\n                <a name="social" class="fyre-cp-mobile-tab">Social Account</a>\n            </li>\n            <li>\n                <a name="local" class="fyre-cp-mobile-tab">Test Site Account</a>\n            </li>\n        </ul>\n    </nav>\n    '},
e),data:e}))||0===f)a+=f;a+="\n    <section>\n        ";if((f=c["if"].call(b,b.socialAuth,{hash:{},inverse:this.noop,fn:this.program(3,function(a,b){var d,e;d={hash:{},data:b};return d='\n            <section class="fyre-cp-mobile-tab-content fyre-cp-mobile-tab-social">\n                '+(h((e=c.include,e?e.call(a,"fyre.sp.templates.engage",d):g.call(a,"include","fyre.sp.templates.engage",d)))+"\n            </section>\n        ")},e),data:e}))||0===f)a+=f;a+="\n        ";if((f=c["if"].call(b,b.localAuth,
{hash:{},inverse:this.noop,fn:this.program(5,function(a,b){var d,e;d={hash:{},data:b};return d='\n            <section class="fyre-cp-edit-tab-content fyre-cp-mobile-tab-local fyre-cp-hidden">\n                '+(h((e=c.include,e?e.call(a,"fyre.sp.templates.locallogin",d):g.call(a,"include","fyre.sp.templates.locallogin",d)))+"\n            </section>\n        ")},e),data:e}))||0===f)a+=f;return a+="\n    </section>\n</div>"});goog.exportSymbol("fyre.sp.templates.mobilelogin",fyre.sp.templates.mobilelogin);fyre.sp.templates.engage="function"==typeof fyre.sp.templates.engage?fyre.sp.templates.engage:fyre.lib.Handlebars.template(function(a,b,c,d,e){this.compilerInfo=[3,">= 1.0.0-rc.4"];c=c||a.helpers;e=e||{};d=this.escapeExpression;a='<div class="fyre-login">\n    <div id="';(c=c.engageDivId)?c=c.call(b,{hash:{},data:e}):(c=b.engageDivId,c="function"===typeof c?c.apply(b):c);return a+=d(c)+'"></div>\n    <div class="fyre-tos">\n        By logging in, you agree to Default Site\'s <a href="#linkhere">Terms of Service</a>\n    </div>\n</div>'});
goog.exportSymbol("fyre.sp.templates.engage",fyre.sp.templates.engage);fyre.sp.templates.locallogin="function"==typeof fyre.sp.templates.locallogin?fyre.sp.templates.locallogin:fyre.lib.Handlebars.template(function(a,b,c,d,e){this.compilerInfo=[3,">= 1.0.0-rc.4"];c=c||a.helpers;e=e||{};var f=this.escapeExpression;a='<section class="fyre-cp-local-login">\n    <form class="fyre-cp-form">\n        <header class="fyre-cp-form-header">Your Default Site account</header>\n        <label for="username">Username</label>\n        <input type="text" name="username" class="fyre-cp-input-username" data-fyre-validate="required" tabindex="1"/>\n        <label for="password">Password <a href="';
(d=c.forgotPwUrl)?d=d.call(b,{hash:{},data:e}):(d=b.forgotPwUrl,d="function"===typeof d?d.apply(b):d);a+=f(d)+'" class="fyre-cp-link-forgot" title="Forgot password?">Forgot?</a></label>\n        <input type="password" name="password" class="fyre-cp-input-password" data-fyre-validate="required" tabindex="2"/>\n        <footer class="fyre-cp-form-btns">\n            <a href="';(d=c.createAccountUrl)?d=d.call(b,{hash:{},data:e}):(d=b.createAccountUrl,d="function"===typeof d?d.apply(b):d);return a+=f(d)+
'" class="fyre-cp-link-create" title="Create Account">Create Account</a>\n            <input class="fyre-cp-form-submit-btn" type="submit" value="Sign in" tabindex="3"/>\n        </footer>\n    </form>\n</section>'});goog.exportSymbol("fyre.sp.templates.locallogin",fyre.sp.templates.locallogin);fyre.sp.ui.Engage=function(a,b){fyre.ui.PopupView.call(this,a,b)};goog.inherits(fyre.sp.ui.Engage,fyre.ui.PopupView);fyre.sp.ui.Engage.CLASSES={FORGOT_LINK:"fyre-cp-link-forgot",CREATE_LINK:"fyre-cp-link-create",MOBILE_TAB:"fyre-cp-mobile-tab",MOBILE_TAB_CONTENT:"fyre-cp-mobile-tab-content",ACTIVE:"fyre-cp-active",INPUT_PW:"fyre-cp-input-password",INPUT_USERNAME:"fyre-cp-input-username",FORM:"fyre-cp-form"};
fyre.sp.ui.Engage.COOKIE_NAMES={FORGOT_PASSWORD:"FORGOT_PASSWORD",CREATE_ACCOUNT:"CREATE_ACCOUNT",COMPLETE_ACCOUNT:"COMPLETE_ACCOUNT"};fyre.sp.ui.Engage.prototype.initialize=function(a){this.followLinks=a.followLinks||!1;this.next=a.next;this.subscribe(fyre.sp.events.ENGAGE_AUTH_INIT,this.open);this.subscribe(fyre.sp.events.ENGAGE_CLOSE,this.close);this.subscribe(fyre.sp.events.AUTH_LOGIN_FAILURE,this.handleAuthFailure);this.rendered=!1};
fyre.sp.ui.Engage.prototype.renderSafe=function(){var a=this.isMobile?fyre.sp.templates.mobilelogin:fyre.sp.templates.login;if(!this.rendered){var b=fyre.sp.config.servers.profile+"/pages/",c=b+"profile/create/",b=b+"util/reset_password/";goog.isString(this.next)&&(c=goog.string.subs("%s?next=%s",c,this.next),b=goog.string.subs("%s?next=%s",b,this.next));a=a({engageDivId:fyre.sp.config.JANRAIN_ENGAGE_EMBED_ID,forgotPwUrl:b,createAccountUrl:c,socialAuth:fyre.sp.config.auth.SOCIAL,localAuth:fyre.sp.config.auth.LOCAL,
showNav:fyre.sp.config.auth.SOCIAL&&fyre.sp.config.auth.LOCAL});this.$el.html(a);this.rendered=!0;fyre.sp.config.auth.LOCAL&&(this.validator=new fyre.forms.validate(this.getFormEl()));fyre.sp.config.auth.SOCIAL&&(janrain.ready=!0)}};fyre.sp.ui.Engage.prototype.registerControls=function(){fyre.sp.config.auth.LOCAL&&(this.registerControl(this.getFormEl(),goog.events.EventType.SUBMIT,this.handleLoginSubmit),this.followLinks||this.registerLinks_(),this.isMobile&&this.registerNav_())};
fyre.sp.ui.Engage.prototype.registerLinks_=function(){var a=fyre.sp.ui.Engage.CLASSES,b=this.$el.getByClass(a.FORGOT_LINK);this.registerControl(b,goog.events.EventType.CLICK,this.handleForgotPwClick);a=this.$el.getByClass(a.CREATE_LINK);this.registerControl(a,goog.events.EventType.CLICK,this.handleCreateAcctClick)};
fyre.sp.ui.Engage.prototype.registerNav_=function(){var a=fyre.sp.ui.Engage.CLASSES,b=this.$el.findElementsByClass(a.MOBILE_TAB);this.active_tab=this.$el.getByClass(a.MOBILE_TAB_CONTENT);this.registerControl(b.all(),goog.events.EventType.CLICK,this.handleNavClick)};
fyre.sp.ui.Engage.prototype.handleNavClick=function(a){var b=fyre.sp.ui.Engage.CLASSES,c=fyre.dom(a.target),d=c.parent(),c=c.attr("name");a.preventDefault();d.hasClass(b.ACTIVE)||(d.siblings().removeClass(b.ACTIVE),d.addClass(b.ACTIVE),this.active_tab.hide(),this.active_tab=this.$el.findElementByClass("fyre-cp-mobile-tab-"+c),this.active_tab.show("block"))};
fyre.sp.ui.Engage.prototype.handleForgotPwClick=function(a){var b=fyre.sp.ui.Engage.COOKIE_NAMES;a.preventDefault();this.popupType()==fyre.ui.Iframe?(this.setIframeCookieValue(b.FORGOT_PASSWORD),this.close()):this.messenger.trigger(fyre.sp.events.PW_RESET_INIT)};fyre.sp.ui.Engage.prototype.handleCreateAcctClick=function(a){var b=fyre.sp.ui.Engage.COOKIE_NAMES;a.preventDefault();this.popupType()==fyre.ui.Iframe?(this.setIframeCookieValue(b.CREATE_ACCOUNT),this.close()):this.messenger.trigger(fyre.sp.events.PROFILE_CREATE_INIT)};
fyre.sp.ui.Engage.prototype.handleLoginSubmit=function(a){a.preventDefault();this.validator.run()&&(a=goog.dom.forms.getFormDataMap(this.getFormEl().element),this.messenger.trigger(fyre.sp.events.AUTH_LOGIN_INIT,a))};fyre.sp.ui.Engage.prototype.handleAuthFailure=function(a){fyre.sp.config.auth.LOCAL&&this.validator.addError(this.getUsernameEl(),a.msg)};fyre.sp.ui.Engage.prototype.getFormEl=function(){return this.$el.getByClass(fyre.sp.ui.Engage.CLASSES.FORM)};
fyre.sp.ui.Engage.prototype.getUsernameEl=function(){return this.$el.getByClass(fyre.sp.ui.Engage.CLASSES.INPUT_USERNAME)};fyre.sp.ui.Engage.prototype.getPasswordEl=function(){return this.$el.getByClass(fyre.sp.ui.Engage.CLASSES.INPUT_PW)};fyre.sp.ui.Engage.prototype.clearForm=function(){var a=this.getUsernameEl(),b=this.getPasswordEl();a.element.value="";b.element.value="";this.validator.removeErrors()};fyre.sp.ui.Engage.prototype.openInternal=function(){this.render()};
fyre.sp.ui.Engage.prototype.close=function(a){var b=fyre.sp.ui.Engage.COOKIE_NAMES;this.popupType()==fyre.ui.Iframe&&goog.isObject(a)&&!a.isComplete&&this.setIframeCookieValue(b.COMPLETE_ACCOUNT+fyre.controller.IframeController.DIRECTIVE_SEPARATOR+a.lfcp_token);this.trigger(fyre.sp.events.ENGAGE_AUTH_CLOSE);fyre.sp.ui.Engage.superClass_.close.call(this)};
fyre.sp.ui.Engage.prototype.closeInternal=function(){fyre.sp.config.auth.SOCIAL&&janrain&&janrain.engage&&goog.isObject(fyre.dom(fyre.sp.config.JANRAIN_ENGAGE_EMBED_ID).element)&&janrain.engage.signin.widget.refresh();fyre.sp.config.auth.LOCAL&&this.clearForm()};fyre.sp.ui.Engage.prototype.setFocus=function(){var a=this.getUsernameEl();a&&a.element.focus()};fyre.error={};fyre.error.ExceptionHandler=function(a){};goog.addSingletonGetter(fyre.error.ExceptionHandler);fyre.error.ExceptionHandler.prototype.on_=function(){return fyre.sp.config.FORCE_SEND_EXCEPTIONS||!goog.DEBUG};fyre.error.ExceptionHandler.prototype.catcherr=function(a,b){goog.asserts.assert(goog.isFunction(a));var c=Array.prototype.slice.call(arguments,1),d=c&&c.pop()||"";if(this.on_())try{a.apply(null,c)}catch(e){fyre.logging.getLogger(d).severe(e,e)}else return a.apply(null,c)};
fyre.error.ExceptionHandler.prototype.wrapFunction_=function(a,b){var c=this;return function(){var d=Array.prototype.slice.call(arguments);d.unshift(a);d.push(b);return c.catcherr.apply(c,d)}};fyre.error.ExceptionHandler.prototype.wrapBus=function(a){goog.asserts.assert(a instanceof fyre.messenger.PubSub);goog.asserts.assert(!a.originalTrigger_,"cannot wrap a bus twice.");a.originalTrigger_=a.trigger;a.trigger=this.wrapFunction_(goog.bind(a.trigger,a),a.name)};
fyre.error.ExceptionHandler.prototype.unwrapBus=function(a){goog.asserts.assert(a instanceof fyre.messenger.PubSub);goog.asserts.assert(a.originalTrigger_,"bus has not been wrapped.");delete a.trigger;a.trigger=a.originalTrigger_;delete a.originalTrigger_};goog.pubsub={};goog.pubsub.PubSub=function(){goog.Disposable.call(this);this.subscriptions_=[];this.topics_={}};goog.inherits(goog.pubsub.PubSub,goog.Disposable);goog.pubsub.PubSub.prototype.key_=1;goog.pubsub.PubSub.prototype.publishDepth_=0;goog.pubsub.PubSub.prototype.subscribe=function(a,b,c){var d=this.topics_[a];d||(d=this.topics_[a]=[]);var e=this.key_;this.subscriptions_[e]=a;this.subscriptions_[e+1]=b;this.subscriptions_[e+2]=c;this.key_=e+3;d.push(e);return e};
goog.pubsub.PubSub.prototype.subscribeOnce=function(a,b,c){var d=this.subscribe(a,function(a){b.apply(c,arguments);this.unsubscribeByKey(d)},this);return d};goog.pubsub.PubSub.prototype.unsubscribe=function(a,b,c){if(a=this.topics_[a]){var d=this.subscriptions_;if(a=goog.array.find(a,function(a){return d[a+1]==b&&d[a+2]==c}))return this.unsubscribeByKey(a)}return!1};
goog.pubsub.PubSub.prototype.unsubscribeByKey=function(a){if(0!=this.publishDepth_)return this.pendingKeys_||(this.pendingKeys_=[]),this.pendingKeys_.push(a),!1;var b=this.subscriptions_[a];if(b){var c=this.topics_[b];c&&goog.array.remove(c,a);delete this.subscriptions_[a];delete this.subscriptions_[a+1];delete this.subscriptions_[a+2]}return!!b};
goog.pubsub.PubSub.prototype.publish=function(a,b){var c=this.topics_[a];if(c){this.publishDepth_++;for(var d=goog.array.slice(arguments,1),e=0,f=c.length;e<f;e++){var g=c[e];this.subscriptions_[g+1].apply(this.subscriptions_[g+2],d)}this.publishDepth_--;if(this.pendingKeys_&&0==this.publishDepth_){for(;c=this.pendingKeys_.pop();)this.unsubscribeByKey(c);this.isDisposed()&&this.cleanUp_()}return 0!=e}return!1};
goog.pubsub.PubSub.prototype.clear=function(a){if(a){var b=this.topics_[a];b&&(goog.array.forEach(b,this.unsubscribeByKey,this),delete this.topics_[a])}else this.subscriptions_.length=0,this.topics_={}};goog.pubsub.PubSub.prototype.getCount=function(a){if(a){var b=this.topics_[a];return b?b.length:0}a=0;for(b in this.topics_)a+=this.getCount(b);return a};goog.pubsub.PubSub.prototype.cleanUp_=function(){delete this.subscriptions_;delete this.topics_;delete this.pendingKeys_};
goog.pubsub.PubSub.prototype.disposeInternal=function(){goog.pubsub.PubSub.superClass_.disposeInternal.call(this);if(0!=this.publishDepth_)for(var a=1;a<this.subscriptions_.length;a+=3)this.unsubscribeByKey(a);else this.cleanUp_()};fyre.messenger={};fyre.messenger.PubSub=function(a,b){fyre.object.Base.call(this);this.name=a;this.channel=new goog.pubsub.PubSub;this.history={};b||this.initBusExceptionHandler_();this.configureLogging("fyre.messenger.PubSub")};goog.inherits(fyre.messenger.PubSub,fyre.object.Base);goog.exportSymbol("fyre.messenger.PubSub",fyre.messenger.PubSub);fyre.messenger.PubSub.SUBSCRIBE="subscribe";fyre.messenger.PubSub.UNSUBSCRIBE="unsubscribe";
fyre.messenger.PubSub.prototype.subscribe=function(a,b,c){goog.asserts.assert(goog.isString(a),"Invalid messenger channel "+a);var d={channel:this.channel,msg:a,callback:b};3<=arguments.length&&(d.context=c);this.trigger(fyre.messenger.PubSub.SUBSCRIBE,d);this.channel.subscribe.apply(this.channel,arguments);this.logger.finer("Subscribe to message "+a+" on channel "+this.name)};goog.exportProperty(fyre.messenger.PubSub.prototype,"subscribe",fyre.messenger.PubSub.prototype.subscribe);
fyre.messenger.PubSub.prototype.subscribeOnce=function(a,b,c){goog.asserts.assert(goog.isString(a),"Invalid messenger channel "+a);var d={channel:this.channel,msg:a,callback:b};3<=arguments.length&&(d.context=c);this.trigger(fyre.messenger.PubSub.SUBSCRIBE,d);this.channel.subscribeOnce.apply(this.channel,arguments);this.logger.finer("Subscribe once to message "+a+" on channel "+this.name)};goog.exportProperty(fyre.messenger.PubSub.prototype,"subscribeOnce",fyre.messenger.PubSub.prototype.subscribeOnce);
fyre.messenger.PubSub.prototype.unsubscribe=function(a,b,c){goog.asserts.assert(goog.isString(a),"Invalid messenger channel "+a);var d={channel:this.channel,msg:a,callback:b};3<=arguments.length&&(d.context=c);this.channel.publish(fyre.messenger.PubSub.UNSUBSCRIBE,d);this.channel.unsubscribe.apply(this.channel,arguments);this.logger.finer("Unsubscribe to message "+a+" on channel "+this.name)};goog.exportProperty(fyre.messenger.PubSub.prototype,"unsubscribe",fyre.messenger.PubSub.prototype.unsubscribe);
fyre.messenger.PubSub.prototype.trigger=function(a,b){goog.asserts.assert(goog.isString(a),"Invalid messenger channel "+a);this.channel.publish.apply(this.channel,arguments);this.history.hasOwnProperty(a)||(this.history[a]=[]);this.history[a].push({ts:new Date,data:b});this.logger.finer("Trigger message "+a+" on channel "+this.name)};goog.exportProperty(fyre.messenger.PubSub.prototype,"trigger",fyre.messenger.PubSub.prototype.trigger);
fyre.messenger.PubSub.prototype.initBusExceptionHandler_=function(){var a=this.busExceptionHandler_;a||(a=fyre.error.ExceptionHandler.getInstance(),a.wrapBus(this),this.busExceptionHandler_=a)};fyre.messenger.PubSub.prototype.getHistory=function(a){return a?this.history[a]:this.history};goog.exportProperty(fyre.messenger.PubSub.prototype,"getHistory",fyre.messenger.PubSub.prototype.getHistory);fyre.messenger._Messenger=function(a,b){fyre.messenger.PubSub.call(this,a,b);this.subchannels={}};
goog.inherits(fyre.messenger._Messenger,fyre.messenger.PubSub);fyre.messenger._Messenger.prototype.createChannel=function(a,b){goog.object.containsKey(this.subchannels,a)||(this.subchannels[a]=new fyre.messenger.SubChannel(a,this,b));return this.subchannels[a]};goog.exportProperty(fyre.messenger._Messenger.prototype,"createChannel",fyre.messenger._Messenger.prototype.createChannel);fyre.messenger._Messenger.prototype.createSubChannel=function(a,b){return this.createChannel(this.name+"."+a,b)};
fyre.messenger.base=new fyre.messenger._Messenger("main");goog.exportSymbol("fyre.messenger.base",fyre.messenger.base);fyre.messenger._Messenger.prototype.getChannel=function(a){return this.subchannels[a]};fyre.messenger._Messenger.prototype.triggerAll=function(a,b){this.trigger(a,b,!1);goog.object.forEach(this.subchannels,function(c){c.triggerAll(a,b)})};
fyre.messenger.SubChannel=function(a,b,c){fyre.messenger._Messenger.call(this,a,c);this.publisher_funcs={on:this.subscribe,off:this.unsubscribe,trigger:this.trigger};this.publishers=[];this.parent=b};goog.inherits(fyre.messenger.SubChannel,fyre.messenger._Messenger);goog.exportSymbol("fyre.messenger.SubChannel",fyre.messenger.SubChannel);goog.exportProperty(fyre.messenger.SubChannel.prototype,"subscribe",fyre.messenger.SubChannel.prototype.subscribe);
goog.exportProperty(fyre.messenger.SubChannel.prototype,"unsubscribe",fyre.messenger.SubChannel.prototype.unsubscribe);fyre.messenger.SubChannel.prototype.trigger=function(a,b,c){fyre.messenger.SubChannel.superClass_.trigger.call(this,a,b);var d=3<=arguments.length?c:!0;goog.asserts.assertBoolean(d);d&&this.parent.trigger(a,b)};goog.exportProperty(fyre.messenger.SubChannel.prototype,"trigger",fyre.messenger.SubChannel.prototype.trigger);
fyre.messenger.SubChannel.prototype.decorate=function(a){goog.object.extend(a,this.publisher_funcs);this.publishers.push(a)};goog.exportProperty(fyre.messenger.SubChannel.prototype,"decorate",fyre.messenger.SubChannel.prototype.decorate);fyre.messenger.SubChannel.prototype.undecorate=function(a){for(var b in this.publisher_funcs)a.hasOwnProperty[b]&&delete a[b];goog.array.remove(this.publishers,a)};goog.exportProperty(fyre.messenger.SubChannel.prototype,"undecorate",fyre.messenger.SubChannel.prototype.undecorate);
fyre.messenger.SubChannel.prototype.getPublishers=function(){return this.publishers};goog.exportProperty(fyre.messenger.SubChannel.prototype,"getPublishers",fyre.messenger.SubChannel.prototype.getPublishers);fyre.sp.controller.EngageController=function(a,b){fyre.controller.Controller.call(this,a,b)};goog.inherits(fyre.sp.controller.EngageController,fyre.controller.Controller);
fyre.sp.controller.EngageController.prototype.initialize=function(a){this.subscribe(fyre.sp.events.ENGAGE_AUTH_INIT,this.handleAuthInit);this.subscribe(fyre.sp.events.ENGAGE_TOKEN_RECEIVED,this.handleTokenReceived);this.client=a.engageClient;this.configureLogging("fyre.sp.controller.EngageController");var b=this.messenger;janrainWidgetOnload=function(){janrain.events.onProviderLoginToken.addHandler(function(a){b.trigger(fyre.sp.events.ENGAGE_TOKEN_RECEIVED,{token:a.token})})}};
fyre.sp.controller.EngageController.prototype.handleAuthInit=function(){this.client.initAuth()};fyre.sp.controller.EngageController.prototype.handleTokenReceived=function(a){fyre.sp.authController.authByEngageToken(a.token)};fyre.sp.client.EngageClient=function(a,b){fyre.object.Communicator.call(this,a,b)};goog.inherits(fyre.sp.client.EngageClient,fyre.object.Communicator);
fyre.sp.client.EngageClient.prototype.initialize=function(a){var b="http://widget-cdn.rpxnow.com/js/lib/{APP}/engage.js";"https:"===document.location.protocol&&(b="https://rpxnow.com/js/lib/{APP}/engage.js");this.src=b.replace("{APP}",a.app);goog.userAgent.IE&&(this.src+="?_cb="+Math.random());this.id=a.id||fyre.sp.config.JANRAIN_ENGAGE_ID;this._janrainSetup(a);this.configureLogging("fyre.sp.client.EngageClient")};
fyre.sp.client.EngageClient.prototype.initAuth=function(){fyre.util.existsOnPage("script","src",this.src)||fyre.util.loadScript(this.src,window.document,{id:this.id})};fyre.sp.client.EngageClient.prototype._janrainSetup=function(a){"object"!==typeof janrain&&(janrain={});janrain.settings={tokenUrl:a.tokenUrl||window.location.href,tokenAction:a.tokenAction||"event",popup:!1===a.popup?!1:!0,type:"embed",language:fyre.sp.config.localization};this.janrain=janrain};fyre.sp.widget.Engage=function(a,b){fyre.widget.Base.call(this,a,b);fyre.sp.config.auth.SOCIAL&&this.subscribe(fyre.sp.events.DOM_READY,this.handleDomReady)};goog.inherits(fyre.sp.widget.Engage,fyre.widget.Base);
fyre.sp.widget.Engage.prototype.initialize=function(a){fyre.sp.widget.Engage.superClass_.initialize.call(this,a);this.authClient=a.authClient||new fyre.sp.client.AuthClient(this.messenger);fyre.sp.config.auth.SOCIAL&&(this.engageClient=a.engageClient||new fyre.sp.client.EngageClient(this.messenger,{id:a.id,popup:a.popup,tokenAction:a.tokenAction,app:a.app,tokenUrl:a.tokenUrl}),this.controller=a.engageController||new fyre.sp.controller.EngageController(this.messenger,{engageClient:this.engageClient,
authClient:this.authClient}));this.view=new fyre.sp.ui.Engage(this.messenger,{followLinks:a.followLinks,next:a.next});a.viewDecorator&&a.viewDecorator.decorate(this.view)};fyre.sp.widget.Engage.prototype.handleDomReady=function(){janrain.ready=!0};fyre.sp.widget.Engage.prototype.signIn=function(){this.messenger.trigger(fyre.sp.events.ENGAGE_AUTH_INIT)};fyre.sp.widget.Engage.prototype.signOut=function(){this.messenger.trigger(fyre.sp.events.AUTH_LOGOUT_INIT)};fyre.sp.app={};fyre.sp.app.EngageBase=function(a){a=this.adaptOpts(a);fyre.app.Base.call(this,a)};goog.inherits(fyre.sp.app.EngageBase,fyre.app.Base);fyre.sp.app.EngageBase.prototype.adaptOpts=function(a){var b={};a.app&&(b.app=a.app);a.el&&(b.el=a.el);a.tokenUrl&&(b.tokenUrl=a.tokenUrl);a.next&&(b.next=a.next);a.type&&(b.type=a.type);return b};fyre.sp.app.EngageBase.prototype.initialize=function(a){fyre.sp.authController.loginByCookie(this.messenger)};fyre.sp.app.EngageBase.prototype.isReady=function(){return!0};
fyre.sp.app.EngageBase.prototype.addHandler=function(a,b){this.messenger.subscribe(a,b)};fyre.sp.app.EngageBase.prototype.signIn=function(){fyre.util.browser.isMobile()&&fyre.sp.authController.setMobileAuthTriggerCookie();this.messenger.trigger(fyre.sp.events.ENGAGE_AUTH_INIT)};fyre.sp.app.EngageBase.prototype.signOut=function(){this.messenger.trigger(fyre.sp.events.AUTH_LOGOUT_INIT)};fyre.sp.app.EngageBase.AUTH_TYPES=fyre.sp.app.EngageBase.prototype.AUTH_TYPES={REDIRECT:"redirect",WINDOW:"window"};
fyre.sp.app.EngageBase.prototype.setAuthType=function(a){var b=fyre.sp.app.EngageBase.AUTH_TYPES;return goog.object.some(b,function(b){return b===a})?a:b.REDIRECT};fyre.sp.controller.IframeController=function(a,b){fyre.controller.IframeController.call(this,a,b)};goog.inherits(fyre.sp.controller.IframeController,fyre.controller.IframeController);fyre.sp.controller.IframeController.prototype.initialize=function(a){fyre.sp.controller.IframeController.superClass_.initialize.call(this,a);this.xpcChildPage=fyre.sp.config.servers.profile+"/pages/xdreceiver.html"};
fyre.sp.controller.IframeController.prototype.xpcSuccessHandler=function(a){var b=a.profileData;b&&this.trigger(fyre.sp.events.AUTH_SET_COOKIE,b);fyre.sp.controller.IframeController.superClass_.xpcSuccessHandler.call(this,a)};fyre.ui.Iframe=function(a,b){fyre.ui.View.call(this,a,b)};goog.inherits(fyre.ui.Iframe,fyre.ui.View);fyre.ui.Iframe.prototype.initialize=function(a){fyre.ui.Iframe.superClass_.initialize.call(this,a);a=a||{};this.attrs=goog.object.clone(fyre.ui.Iframe.ATTRIBUTES);goog.object.extend(this.attrs,a.attrs||{});this.hasCookiesEnabled=a.hasCookiesEnabled||!1};fyre.ui.Iframe.prototype.renderSafe=function(){var a=fyre.dom.create("iframe",this.attrs);this.$el.append(a.element)};
fyre.ui.Iframe.prototype.setIframeSrc=function(a){this.attrs.src=a};fyre.ui.Iframe.prototype.open=function(){this.openInternal()};fyre.ui.Iframe.prototype.openInternal=function(){this.render()};fyre.ui.Iframe.prototype.close=function(){this.closeInternal()};fyre.ui.Iframe.prototype.closeInternal=function(){this.dispose()};fyre.ui.Iframe.prototype.dispose=function(){this.$el.empty()};fyre.ui.Iframe.prototype.reposition=function(){this.repositionInternal()};
fyre.ui.Iframe.prototype.repositionInternal=function(){};fyre.ui.Iframe.prototype.decorate=function(a){var b=a.openInternal,c=a.closeInternal,d=this;a.openInternal=function(){b&&b.call(a)};a.closeInternal=function(){c&&!1===c.call(a)||d.close()};a.popupType=function(){return fyre.ui.Iframe};a.setIframeCookieValue=goog.bind(d.setCookieValue,d);this.hasCookiesEnabled=!0};fyre.ui.Iframe.prototype.getIframeCookieName=function(){return"fyre-iframe"};fyre.ui.Iframe.ATTRIBUTES={frameborder:"0",scrolling:"no"};fyre.sp.ui.Iframe=function(a,b){b=b||{};fyre.ui.Iframe.call(this,a,b);this.style=goog.object.clone(fyre.sp.ui.Iframe.BASE_STYLE);goog.object.extend(this.style,b.style||{})};goog.inherits(fyre.sp.ui.Iframe,fyre.ui.Iframe);fyre.sp.ui.Iframe.prototype.renderSafe=function(){var a=fyre.dom.create("iframe",this.attrs);goog.object.forEach(this.style,function(b,c){a.element.style[c]=b});this.$el.element.style.height=this.style.height;this.$el.element.style.width=this.style.width;this.$el.append(a.element)};
fyre.sp.ui.Iframe.prototype.open=function(){this.isDisposed()&&(this.isDisposed_=!1,fyre.sp.ui.Iframe.superClass_.open.call(this))};fyre.sp.ui.Iframe.prototype.close=function(){this.isDisposed_=!0;fyre.sp.ui.Iframe.superClass_.close.call(this)};fyre.sp.ui.Iframe.prototype.closeInternal=function(){var a=this.cookieValue||"CLOSE";this.hasCookiesEnabled&&goog.net.cookies.set(this.getIframeCookieName(),a,fyre.sp.config.iframeCookieMaxAge,"/",fyre.sp.config.cookie_domain);this.dispose()};
fyre.sp.ui.Iframe.prototype.isDisposed=function(){return!goog.isDef(this.isDisposed_)||this.isDisposed_};fyre.sp.ui.Iframe.prototype.setCookieValue=function(a){this.cookieValue=a};fyre.sp.ui.Iframe.prototype.getIframeCookieName=function(){return fyre.sp.config.iframeCookie};fyre.sp.ui.Iframe.BASE_STYLE={width:"440px",height:"515px",border:"0px"};fyre.controller.WindowController=function(a,b){fyre.controller.Controller.call(this,a,b)};goog.inherits(fyre.controller.WindowController,fyre.controller.Controller);fyre.controller.WindowController.prototype.initialize=function(a){this.url=a.url;this.window_opts=a.window_opts;goog.array.forEach(a.openOn||[],this.registerOpenEvent,this);goog.array.forEach(a.closeOn||[],this.registerCloseEvent,this);this.onClose=a.onClose;this.onOpen=a.onOpen;this.pollWindow=a.pollWindow||!1};
fyre.controller.WindowController.prototype.registerOpenEvent=function(a){this.subscribe(a,this.open)};fyre.controller.WindowController.prototype.registerCloseEvent=function(a){this.subscribe(a,this.close)};fyre.controller.WindowController.prototype.open=function(a){a=goog.isFunction(this.url)?this.url(a):this.url;this.window=goog.window.open(a,this.window_opts);this.onOpen&&this.trigger(this.onOpen,this.window);this.pollWindow&&this.onClose&&this.poll()};
fyre.controller.WindowController.prototype.close=function(){this.window.close();this.onClose&&this.trigger(this.onClose,this.window)};fyre.controller.WindowController.prototype.poll=function(){this.windowTimeout=setTimeout(goog.bind(this.checkWindowClosed,this),25)};fyre.controller.WindowController.prototype.checkWindowClosed=function(){clearTimeout(this.windowTimeout);this._checkWindowClosed()?this.onClose&&this.trigger(this.onClose):this.poll()};
fyre.controller.WindowController.prototype._checkWindowClosed=function(){try{return this.window&&this.window.closed||goog.userAgent.product.ANDROID&&!1!==this.window.closed}catch(a){if(goog.userAgent.product.OPERA)return!0;throw a;}};fyre.controller.LocationController=function(a,b){fyre.controller.WindowController.call(this,a,b)};goog.inherits(fyre.controller.LocationController,fyre.controller.WindowController);
fyre.controller.LocationController.prototype.open=function(a){a=goog.isFunction(this.url)?this.url(a):this.url;window.location=a};fyre.controller.LocationController.prototype.poll=function(){};fyre.sp.widget.WindowWidget=function(a,b){fyre.widget.Base.call(this,a,b)};goog.inherits(fyre.sp.widget.WindowWidget,fyre.widget.Base);fyre.sp.widget.WindowWidget.prototype.initialize=function(a){fyre.sp.widget.WindowWidget.superClass_.initialize.call(this,a);this.controller=a.windowController||new fyre.controller.WindowController(this.messenger,a)};fyre.sp.widget.LocationWidget=function(a,b){fyre.widget.Base.call(this,a,b)};goog.inherits(fyre.sp.widget.LocationWidget,fyre.widget.Base);
fyre.sp.widget.LocationWidget.prototype.initialize=function(a){fyre.sp.widget.LocationWidget.superClass_.initialize.call(this,a);this.controller=a.locationController||new fyre.controller.LocationController(this.messenger,a)};fyre.sp.widget.IframeWidget=function(a,b){fyre.widget.Base.call(this,a,b)};goog.inherits(fyre.sp.widget.IframeWidget,fyre.widget.Base);
fyre.sp.widget.IframeWidget.prototype.initialize=function(a){fyre.sp.widget.IframeWidget.superClass_.initialize.call(this,a);this.view=a.iframeView||new fyre.sp.ui.Iframe(this.messenger,a);this.controller=a.iframeController||new fyre.sp.controller.IframeController(this.messenger,a);this.controller.view=this.view;a.viewDecorator&&a.viewDecorator.decorate(this.view)};fyre.sp.templates.emailverification="function"==typeof fyre.sp.templates.emailverification?fyre.sp.templates.emailverification:fyre.lib.Handlebars.template(function(a,b,c,d,e){this.compilerInfo=[3,">= 1.0.0-rc.4"];c=c||a.helpers;e=e||{};var f;a=c.helperMissing;d=this.escapeExpression;e={hash:{},data:e};return b='<span class="fyre-cp-back-button"></span>\n<header class="fyre-cp-modal-header">\n    Email Verification Sent\n    <img src="'+(d((f=c.media_url,f?f.call(b,"images/default/logo.png",e):a.call(b,
"media_url","images/default/logo.png",e)))+'" align="right" alt="Livefyre" />\n</header>\n<section class="fyre-cp-one-column">\n    <p>Please check your email to complete your registration.</p>\n</section>\n')});goog.exportSymbol("fyre.sp.templates.emailverification",fyre.sp.templates.emailverification);fyre.sp.ui.EmailVerification=function(a,b){fyre.ui.PopupView.call(this,a,b)};goog.inherits(fyre.sp.ui.EmailVerification,fyre.ui.PopupView);fyre.sp.ui.EmailVerification.CLASSES={BACK_BTN:"fyre-cp-back-button"};fyre.sp.ui.EmailVerification.prototype.initialize=function(a){fyre.sp.ui.EmailVerification.superClass_.initialize.call(this,a);this.subscribe(fyre.sp.events.EMAIL_VERIFICATION_INIT,this.open)};fyre.sp.ui.EmailVerification.prototype.openInternal=function(){this.render()};
fyre.sp.ui.EmailVerification.prototype.renderSafe=function(){this.$el.html(fyre.sp.templates.emailverification())};fyre.sp.ui.EmailVerification.prototype.getBackButton=function(){return this.$el.getByClass(fyre.sp.ui.EmailVerification.CLASSES.BACK_BTN)};fyre.sp.ui.EmailVerification.prototype.registerControls=function(){this.popupType()==fyre.ui.Window&&this.registerControl(this.getBackButton(),goog.events.EventType.CLICK,this.close);fyre.sp.ui.EmailVerification.superClass_.registerControls.call(this)};fyre.sp.controller.ProfileIframeController=function(a,b){fyre.sp.controller.IframeController.call(this,a,b)};goog.inherits(fyre.sp.controller.ProfileIframeController,fyre.sp.controller.IframeController);fyre.sp.controller.ProfileIframeController.prototype.initialize=function(a){fyre.sp.controller.ProfileIframeController.superClass_.initialize.call(this,a);this.onEmailVerification=a.onEmailVerification};
fyre.sp.controller.ProfileIframeController.EVENT_MAP=fyre.sp.controller.ProfileIframeController.prototype.EVENT_MAP={CLOSE:"Close",EMAIL_VERIFICATION:"EmailVerification"};fyre.sp.templates.resetpasswordemailform="function"==typeof fyre.sp.templates.resetpasswordemailform?fyre.sp.templates.resetpasswordemailform:fyre.lib.Handlebars.template(function(a,b,c,d,e){this.compilerInfo=[3,">= 1.0.0-rc.4"];c=c||a.helpers;e=e||{};var f,g=c.helperMissing;a=this.escapeExpression;d={hash:{},data:e};d='<header class="fyre-cp-modal-header">\n    Reset password\n    <img src="'+(a((f=c.media_url,f?f.call(b,"images/default/logo.png",d):g.call(b,"media_url","images/default/logo.png",
d)))+'" align="right" alt="Livefyre" />\n</header>\n<section class="fyre-cp-one-column">\n    <p>\n        Forgot your password? Enter your username or email address below, \n        and we\'ll send you a link to change your password.\n    </p>\n    <form class="fyre-cp-form">\n        <label for="username">Username or Email Address *</label>\n        <input type="text" name="username" class="fyre-cp-input-username" data-fyre-validate="required" />\n        <input type="hidden" name="resetUrl" value="');
(c=c.resetUrl)?c=c.call(b,{hash:{},data:e}):(c=b.resetUrl,c="function"===typeof c?c.apply(b):c);return d+=a(c)+'" />\n        <footer class="fyre-cp-form-btns">\n            <input type="button" class="fyre-cp-form-back-btn" value="Back"></a>\n            <input type="submit" value="Reset" class="fyre-cp-form-submit-btn" />\n        </footer>\n    </form>\n</section>\n'});goog.exportSymbol("fyre.sp.templates.resetpasswordemailform",fyre.sp.templates.resetpasswordemailform);fyre.sp.templates.resetpasswordemailsuccess="function"==typeof fyre.sp.templates.resetpasswordemailsuccess?fyre.sp.templates.resetpasswordemailsuccess:fyre.lib.Handlebars.template(function(a,b,c,d,e){this.compilerInfo=[3,">= 1.0.0-rc.4"];c=c||a.helpers;e=e||{};var f;a=c.helperMissing;d=this.escapeExpression;e={hash:{},data:e};return b='<header class="fyre-cp-modal-header">\n    Reset password email sent\n    <img src="'+(d((f=c.media_url,f?f.call(b,"images/default/logo.png",e):a.call(b,"media_url",
"images/default/logo.png",e)))+'" align="right" alt="Livefyre" />\n</header>\n<section class="fyre-cp-one-column">\n    <p class="fyre-cp-reset-pw-success">\n        Email sent! Check your inbox for a link to reset your password\n    </p>\n    <div class="fyre-cp-form-btns">\n        <input type="button" value="Close" class="fyre-cp-form-submit-btn" />\n    </div>\n</section>')});goog.exportSymbol("fyre.sp.templates.resetpasswordemailsuccess",fyre.sp.templates.resetpasswordemailsuccess);fyre.sp.ui.ResetPasswordView=function(a,b){fyre.ui.PopupView.call(this,a,b)};goog.inherits(fyre.sp.ui.ResetPasswordView,fyre.ui.PopupView);fyre.sp.ui.ResetPasswordView.CLASSES={FORM:"fyre-cp-form",SUBMIT_BTN:"fyre-cp-form-submit-btn",BACK_BTN:"fyre-cp-form-back-btn",USERNAME_INPUT:"fyre-cp-input-username"};fyre.sp.ui.ResetPasswordView.COOKIE_NAMES={BACK:"BACK"};
fyre.sp.ui.ResetPasswordView.prototype.initialize=function(a){fyre.sp.ui.ResetPasswordView.superClass_.initialize.call(this,a);this.subscribe(fyre.sp.events.PW_RESET_INIT,this.open);this.subscribe(fyre.sp.events.PW_RESET_FAILURE,this.handleFormFailure);this.subscribe(fyre.sp.events.PW_RESET_SUCCESS,this.handleFormSuccess)};fyre.sp.ui.ResetPasswordView.prototype.getForm=function(){return this.$el.getByClass(fyre.sp.ui.ResetPasswordView.CLASSES.FORM)};
fyre.sp.ui.ResetPasswordView.prototype.handleFormSubmit=function(a){a.preventDefault();this.validator.run()&&(a=goog.dom.forms.getFormDataMap(this.getForm().element),this.messenger.trigger(fyre.sp.events.PW_RESET_SUBMIT,a.toObject()))};
fyre.sp.ui.ResetPasswordView.prototype.handleBackClick=function(a){var b=fyre.sp.ui.ResetPasswordView.COOKIE_NAMES;a.preventDefault();this.container.dispose();this.popupType()==fyre.ui.Iframe?(this.setIframeCookieValue(b.BACK),this.close()):this.isMobile?window.history.back():this.messenger.trigger(fyre.sp.events.ENGAGE_AUTH_INIT)};
fyre.sp.ui.ResetPasswordView.prototype.registerControls=function(){var a=fyre.sp.ui.ResetPasswordView.CLASSES;this.registerControl(this.getForm(),goog.events.EventType.SUBMIT,this.handleFormSubmit);this.registerControl(this.$el.getByClass(a.BACK_BTN),goog.events.EventType.CLICK,this.handleBackClick)};fyre.sp.ui.ResetPasswordView.prototype.openInternal=function(){this.render()};
fyre.sp.ui.ResetPasswordView.prototype.renderSafe=function(){var a=goog.Uri.parse(window.location.href),b=a.getQueryData().get("next");b&&(a=goog.Uri.parse(goog.string.urlDecode(fyre.util.base64.decodeString(b))));this.$el.html(fyre.sp.templates.resetpasswordemailform({resetUrl:a.toString()}));this.validator=new fyre.forms.validate(this.getForm())};
fyre.sp.ui.ResetPasswordView.prototype.handleFormFailure=function(a){var b=this.$el.getByClass(fyre.sp.ui.ResetPasswordView.CLASSES.USERNAME_INPUT);this.validator.addError(b,a.msg)};fyre.sp.ui.ResetPasswordView.prototype.handleFormSuccess=function(){var a=fyre.sp.ui.ResetPasswordView.CLASSES;this.container.dispose();this.$el.html(fyre.sp.templates.resetpasswordemailsuccess());this.registerControl(this.$el.getByClass(a.SUBMIT_BTN),goog.events.EventType.CLICK,this.close)};fyre.sp.widget.ResetPasswordWidget=function(a,b){fyre.widget.Base.call(this,a,b)};goog.inherits(fyre.sp.widget.ResetPasswordWidget,fyre.widget.Base);
fyre.sp.widget.ResetPasswordWidget.prototype.initialize=function(a){fyre.sp.widget.ResetPasswordWidget.superClass_.initialize.call(this,a);this.client=a.utilClient||new fyre.sp.client.UtilClient(this.messenger,{});this.controller=a.utilController||new fyre.sp.controller.UtilController(this.messenger,{utilClient:this.client});this.view=new fyre.sp.ui.ResetPasswordView(this.messenger,{});a.viewDecorator&&a.viewDecorator.decorate(this.view)};fyre.sp.controller.EngageIframeController=function(a,b){fyre.sp.controller.IframeController.call(this,a,b)};goog.inherits(fyre.sp.controller.EngageIframeController,fyre.sp.controller.IframeController);fyre.sp.controller.EngageIframeController.prototype.initialize=function(a){fyre.sp.controller.EngageIframeController.superClass_.initialize.call(this,a);this.onCompleteAccount=a.onCompleteAccount;this.onCreateAccount=a.onCreateAccount;this.onForgotPassword=a.onForgotPassword};
fyre.sp.controller.EngageIframeController.EVENT_MAP=fyre.sp.controller.EngageIframeController.prototype.EVENT_MAP={CLOSE:"Close",COMPLETE_ACCOUNT:"CompleteAccount",CREATE_ACCOUNT:"CreateAccount",FORGOT_PASSWORD:"ForgotPassword"};fyre.sp.controller.UtilIframeController=function(a,b){fyre.sp.controller.IframeController.call(this,a,b)};goog.inherits(fyre.sp.controller.UtilIframeController,fyre.sp.controller.IframeController);fyre.sp.controller.UtilIframeController.prototype.initialize=function(a){fyre.sp.controller.UtilIframeController.superClass_.initialize.call(this,a);this.onBack=a.onBack};fyre.sp.controller.UtilIframeController.EVENT_MAP=fyre.sp.controller.UtilIframeController.prototype.EVENT_MAP={CLOSE:"Close",BACK:"Back"};fyre.sp.app.BrowserEngage=function(a){fyre.sp.app.EngageBase.call(this,a);goog.userAgent.IE&&fyre.sp.config.auth.LOCAL?this.ieInit_():this.init_();this.completeProfileWidget=new fyre.sp.widget.IframeWidget(this.messenger,{url:function(a){var c=new goog.Uri(fyre.sp.config.servers.profile+"/pages/profile/complete/");c.setQueryData(goog.Uri.QueryData.createFromMap({token:a}));return c.toString()},el:this.opts.el,openOn:[fyre.sp.events.PROFILE_COMPLETE_INIT],onClose:fyre.sp.events.LOGIN_BY_COOKIE,style:{height:"222px"},
viewDecorator:fyre.ui.Dialog.getInstance()});this.createProfileWidget=new fyre.sp.widget.IframeWidget(this.messenger,{style:{height:"289px"},el:this.opts.el,viewDecorator:fyre.ui.Dialog.getInstance(),iframeController:new fyre.sp.controller.ProfileIframeController(this.messenger,{url:fyre.sp.config.servers.profile+"/pages/profile/create/",openOn:[fyre.sp.events.PROFILE_CREATE_INIT],onClose:fyre.sp.events.LOGIN_BY_COOKIE,onEmailVerification:fyre.sp.events.EMAIL_VERIFICATION_INIT})});this.emailVerificationView=
new fyre.sp.ui.EmailVerification(this.messenger,{});fyre.ui.Dialog.getInstance().decorate(this.emailVerificationView);this.messenger.subscribe(fyre.sp.events.DOM_READY,this.handleDomReady,this);this.messenger.trigger(fyre.sp.events.READY);this.poll();this.messenger.subscribe(goog.ui.Dialog.EventType.SELECT,goog.partial(this.messenger.trigger,fyre.sp.events.AUTH_LOGIN_INCOMPLETE))};goog.inherits(fyre.sp.app.BrowserEngage,fyre.sp.app.EngageBase);
fyre.sp.app.BrowserEngage.prototype.init_=function(){this.engage=new fyre.sp.widget.Engage(this.messenger,{app:this.opts.app,tokenUrl:this.opts.tokenUrl,viewDecorator:fyre.ui.Dialog.getInstance(),id:this.opts.id});var a=new fyre.sp.controller.UtilController(this.messenger,{app:this.opts.app,viewDecorator:fyre.ui.Dialog.getInstance()});this.resetPassword=new fyre.sp.widget.ResetPasswordWidget(this.messenger,{app:this.opts.app,viewDecorator:fyre.ui.Dialog.getInstance(),utilController:a});this.editPasswordWidget=
new fyre.sp.widget.EditPasswordWidget(this.messenger,{app:this.opts.app,viewDecorator:fyre.ui.Dialog.getInstance(),utilController:a})};fyre.sp.app.BrowserEngage.prototype.ieInit_=function(){this.ieInitEngage_();this.ieInitUtil_()};
fyre.sp.app.BrowserEngage.prototype.ieInitEngage_=function(){var a=new fyre.sp.ui.Iframe(this.messenger,{style:{height:"259px",width:this.getIframeWidth_()},el:this.opts.el}),b=new fyre.sp.controller.EngageIframeController(this.messenger,{url:goog.partial(function(a){var b=new goog.Uri(fyre.sp.config.servers.profile+"/pages/auth/engage/"),e=new goog.Uri.QueryData;e.extend(a);b.setQueryData(goog.Uri.QueryData.createFromMap(e));return b.toString()},this.opts),openOn:[fyre.sp.events.ENGAGE_AUTH_INIT],
onClose:fyre.sp.events.LOGIN_BY_COOKIE,onCompleteAccount:fyre.sp.events.PROFILE_COMPLETE_INIT,onCreateAccount:fyre.sp.events.PROFILE_CREATE_INIT,onForgotPassword:fyre.sp.events.PW_RESET_INIT});this.engage=new fyre.sp.widget.IframeWidget(this.messenger,{iframeController:b,iframeView:a,viewDecorator:fyre.ui.Dialog.getInstance()})};
fyre.sp.app.BrowserEngage.prototype.ieInitUtil_=function(){var a=new fyre.sp.ui.Iframe(this.messenger,{style:{height:"259px",width:"390px"},el:this.opts.el}),b=new fyre.sp.controller.UtilIframeController(this.messenger,{url:goog.partial(function(a){var b=new goog.Uri(fyre.sp.config.servers.profile+"/pages/util/reset_password/"),e=new goog.Uri.QueryData;a.next=fyre.util.base64.encodeString(window.location.href);e.extend(a);b.setQueryData(goog.Uri.QueryData.createFromMap(e));return b.toString()},this.opts),
openOn:[fyre.sp.events.PW_RESET_INIT],onBack:fyre.sp.events.ENGAGE_AUTH_INIT,view:a});this.resetPassword=new fyre.sp.widget.IframeWidget(this.messenger,{iframeController:b,iframeView:a,viewDecorator:fyre.ui.Dialog.getInstance()});b=new fyre.sp.controller.UtilIframeController(this.messenger,{url:goog.bind(function(a){var b=this.getTokenFromHash();b&&(a.token=b);a.is_ie=!0;var b=new goog.Uri(fyre.sp.config.servers.profile+"/pages/profile/edit/password/"),e=new goog.Uri.QueryData;e.extend(a);b.setQueryData(goog.Uri.QueryData.createFromMap(e));
return b.toString()},this,this.opts),onClose:fyre.sp.events.LOGIN_BY_COOKIE,openOn:[fyre.sp.events.PW_EDIT_INIT],view:a});this.editPasswordWidget=new fyre.sp.widget.IframeWidget(this.messenger,{iframeController:b,iframeView:a,viewDecorator:fyre.ui.Dialog.getInstance()})};fyre.sp.app.BrowserEngage.prototype.addHandler=function(a,b){this.messenger.subscribe(a,b)};fyre.sp.app.BrowserEngage.prototype.signIn=function(){this.messenger.trigger(fyre.sp.events.ENGAGE_AUTH_INIT)};
fyre.sp.app.BrowserEngage.prototype.signOut=function(){this.messenger.trigger(fyre.sp.events.AUTH_LOGOUT_INIT)};fyre.sp.app.BrowserEngage.prototype.handleDomReady=function(){this.handlePasswordReset();this.handleAuthByEmailVerificationToken()};fyre.sp.app.BrowserEngage.prototype.handlePasswordReset=function(){var a=fyre.util.hash.get("token");a&&this.messenger.trigger(fyre.sp.events.PW_EDIT_INIT,a)};
fyre.sp.app.BrowserEngage.prototype.handleAuthByEmailVerificationToken=function(){var a=fyre.util.hash.get("emailVerificationToken");a&&this.messenger.trigger(fyre.sp.events.AUTH_BY_EMAIL_VERIFICATION_TOKEN,a)};fyre.sp.app.BrowserEngage.prototype.getIframeWidth_=function(){return"all"===fyre.sp.config.auth.SCHEMA?"616px":"307px"};fyre.sp.app.BrowserEngage.prototype.NAME="fyre.sp.app.BrowserEngage";fyre.ui.Window=function(a){this.window=a};fyre.ui.Window.prototype.open=function(){return this};fyre.ui.Window.prototype.close=function(){if(this.window.opener)window.close();else{var a=new goog.Uri(window.location),b=a.getQueryData().get("next"),a=a.getQueryData().get("redirect_url");b?window.location=fyre.util.base64.decodeString(b):a?window.location=a:window.history.back()}};
fyre.ui.Window.prototype.decorate=function(a){var b=a.openInternal,c=a.closeInternal,d=this;a.openInternal=function(){b&&b.call(a)};a.closeInternal=function(){c&&!1===c.call(a)||d.close()};a.popupType=function(){return fyre.ui.Window}};fyre.sp.app.ResetPasswordPage=function(a){a=this.adaptOpts(a);fyre.app.Base.call(this,a);a={viewDecorator:fyre.util.browser.isMobile()?new fyre.ui.Window(window):new fyre.sp.ui.Iframe(a),el:this.opts.el};this.el=this.opts.el;this.resetPassword=new fyre.sp.widget.ResetPasswordWidget(this.messenger,a);this.messenger.trigger(fyre.sp.events.READY);this.messenger.subscribe(fyre.sp.events.DOM_READY,this.handleDomReady,this);this.poll()};goog.inherits(fyre.sp.app.ResetPasswordPage,fyre.app.Base);
goog.exportSymbol("fyre.sp.app.ResetPasswordPage",fyre.sp.app.PageResetPassword);fyre.sp.app.ResetPasswordPage.prototype.adaptOpts=function(a){var b={};a.el&&(b.el=a.el);a.style&&(b.style=a.style);return b};fyre.sp.app.ResetPasswordPage.prototype.handleDomReady=function(){var a=this.el?document.getElementById(this.el):document.body;this.resetPassword.decorate(a);this.messenger.trigger(fyre.sp.events.PW_RESET_INIT)};
fyre.sp.app.ResetPasswordPage.prototype.isReady=function(){return!(this.el?!document.getElementById(this.el):!document.body)};fyre.sp.app.ResetPasswordPage.prototype.NAME="fyre.sp.app.ResetPasswordPage";fyre.sp.ui.ProfileBase=function(a,b){fyre.ui.PopupView.call(this,a,b)};goog.inherits(fyre.sp.ui.ProfileBase,fyre.ui.PopupView);fyre.sp.ui.ProfileBase.prototype.openInternal=function(){this.render()};fyre.sp.ui.ProfileBase.prototype.getLoader=function(){return this.$el.getByClass("fyre-loader")};fyre.sp.ui.ProfileBase.prototype.getBody=function(){return this.$el.getByClass("fyre-profile-body")};fyre.sp.ui.ProfileBase.prototype.getCommentCount=function(){return this.$el.getByClass("fyre-profile-user-comments")};
fyre.sp.ui.ProfileBase.prototype.getLikeCount=function(){return this.$el.getByClass("fyre-profile-user-likes")};fyre.sp.ui.ProfileBase.prototype.closeInternal=function(){fyre.sp.ui.ProfileBase.superClass_.closeInternal.call(this);this.model.set(this.model.defaults)};fyre.sp.templates.viewprofile="function"==typeof fyre.sp.templates.viewprofile?fyre.sp.templates.viewprofile:fyre.lib.Handlebars.template(function(a,b,c,d,e){function f(a,b){var d,e;d={hash:{},data:b};d='\n                <div class="fyre-profile-comment">\n                    <div class="fyre-profile-comment-text">\n                        '+(h((e=c.partial_text,e?e.call(a,a.body_plain,d):k.call(a,"partial_text",a.body_plain,d)))+'\n                    </div>\n                    <div class="fyre-profile-comment-footer">\n                        Posted '+
h((e=(e=a.created_at,null==e||!1===e?e:e.calculated_time),"function"===typeof e?e.apply(a):e))+' on <a href="');(e=c.url)?e=e.call(a,{hash:{},data:b}):(e=a.url,e="function"===typeof e?e.apply(a):e);d+=h(e)+'" target="_blank">';(e=c.conv_title)?e=e.call(a,{hash:{},data:b}):(e=a.conv_title,e="function"===typeof e?e.apply(a):e);return d+=h(e)+"</a>\n                    </div>\n                </div>\n            "}this.compilerInfo=[3,">= 1.0.0-rc.4"];c=c||a.helpers;e=e||{};var g,h=this.escapeExpression,
k=c.helperMissing,l=this;d={hash:{},data:e};a='\x3c!-- view profile template --\x3e\n<div class="fyre-profile">\n    <span class="fyre-cp-back-button"></span>\n    <header class="fyre-cp-modal-header">\n        <img src="'+(h((g=c.media_url,g?g.call(b,"images/default/logo.png",d):k.call(b,"media_url","images/default/logo.png",d)))+'" align="right" alt="Livefyre" />\n    </header>\n    <section class="fyre-profile-section">\n        ');if((d=c["if"].call(b,b.avatar,{hash:{},inverse:l.noop,fn:l.program(1,
function(a,b){var d,e;d='\n        <img src="';(e=c.avatar)?e=e.call(a,{hash:{},data:b}):(e=a.avatar,e="function"===typeof e?e.apply(a):e);d+=h(e)+'" class="fyre-profile-avatar" alt="';(e=c.username)?e=e.call(a,{hash:{},data:b}):(e=a.username,e="function"===typeof e?e.apply(a):e);return d+=h(e)+'" />\n        '},e),data:e}))||0===d)a+=d;a+='\n        <h2 class="fyre-profile-displayname">\n            <span>';(d=c.displayName)?d=d.call(b,{hash:{},data:e}):(d=b.displayName,d="function"===typeof d?d.apply(b):
d);a+=h(d)+'</span>\n            <img class="fyre-loader" src="';d={hash:{},data:e};a+=h((g=c.media_url,g?g.call(b,"images/default/loader.gif",d):k.call(b,"media_url","images/default/loader.gif",d)))+'" alt="Loading" />\n        </h2>\n        <p class="fyre-profile-user-comments">\n            <span>';d={hash:{},data:e};a+=h((g=c["default"],g?g.call(b,(g=b.comments,null==g||!1===g?g:g.user_comment_count),0,d):k.call(b,"default",(g=b.comments,null==g||!1===g?g:g.user_comment_count),0,d)))+'</span> Comments\n        </p>\n        <p class="fyre-profile-user-likes">\n            <span>';
d={hash:{},data:e};a+=h((g=c["default"],g?g.call(b,(g=b.comments,null==g||!1===g?g:g.user_liked_count),0,d):k.call(b,"default",(g=b.comments,null==g||!1===g?g:g.user_liked_count),0,d)))+'</span> Likes\n        </p>\n    </section>\n    <article class="fyre-profile-body">\n        <aside class="fyre-profile-bio">\n            ';if((d=c["if"].call(b,b.currentLocation,{hash:{},inverse:l.noop,fn:l.program(3,function(a,b){var d,e;d='\n            <span class="fyre-profile-location-pin"></span>\n            <strong>';
(e=c.displayName)?e=e.call(a,{hash:{},data:b}):(e=a.displayName,e="function"===typeof e?e.apply(a):e);d+=h(e)+" is from ";(e=c.currentLocation)?e=e.call(a,{hash:{},data:b}):(e=a.currentLocation,e="function"===typeof e?e.apply(a):e);return d+=h(e)+"</strong>\n            "},e),data:e}))||0===d)a+=d;a+='\n            <p class="fyre-profile-bio-text">\n                ';d={hash:{},data:e};a+=h((g=c.partial_text,g?g.call(b,b.aboutMe,d):k.call(b,"partial_text",b.aboutMe,d)))+'\n            </p>\n        </aside>\n        <div class="fyre-profile-comments-header">Recent Comments</div>\n        ';
if((d=c["if"].call(b,(g=b.comments,null==g||!1===g?g:g.recent_comments),{hash:{},inverse:l.program(8,function(a,b){var d,e;d={hash:{},data:b};return d='\n            <div class="fyre-profile-comment">\n                <div class="fyre-profile-comment-text">\n                    <p>'+(h((e=c["default"],e?e.call(a,a.username,"This user",d):k.call(a,"default",a.username,"This user",d)))+" hasn't left any comments.</p>\n                </div>\n            </div>\n        ")},e),fn:l.program(5,function(a,
b){var d,e,g;d='\n            <div class="fyre-profile-comment-wrapper">\n            ';if((g=c.each.call(a,(e=a.comments,null==e||!1===e?e:e.recent_comments),{hash:{},inverse:l.noop,fn:l.program(6,f,b),data:b}))||0===g)d+=g;return d+"\n            </div>\n        "},e),data:e}))||0===d)a+=d;return a+='\n    </article>\n    <footer class="fyre-profile-footer">\n        <span class="fyre-powered-by">powered by</span>\n    </footer>\n</div>\n'});goog.exportSymbol("fyre.sp.templates.viewprofile",fyre.sp.templates.viewprofile);fyre.sp.ui.ProfileView=function(a,b){fyre.sp.ui.ProfileBase.call(this,a,b)};goog.inherits(fyre.sp.ui.ProfileView,fyre.sp.ui.ProfileBase);fyre.sp.ui.ProfileView.CLASSES={BACK_BTN:"fyre-cp-back-button",MORE_LINK:"fyre-profile-more-link"};
fyre.sp.ui.ProfileView.prototype.initialize=function(a){fyre.sp.ui.ProfileView.superClass_.initialize.call(this,a);this.subscribe(fyre.sp.events.PROFILE_GET_INIT,this.open);this.subscribe(fyre.sp.events.PROFILE_GET_COMPLETE,this.handleGetComplete);this.subscribe(fyre.sp.events.PROFILE_GET_FAILURE,this.handleGetFailure);fyre.messenger.base.subscribe(fyre.sp.events.AUTH_LOGOUT_COMPLETE,this.close,this)};fyre.sp.ui.ProfileView.prototype.getBackButton=function(){return this.$el.getByClass(fyre.sp.ui.ProfileView.CLASSES.BACK_BTN)};
fyre.sp.ui.ProfileView.prototype.getMoreLinks=function(){return this.$el.getNByClass(fyre.sp.ui.ProfileView.CLASSES.MORE_LINK)};fyre.sp.ui.ProfileView.prototype.showMore=function(a){fyre.dom(a.getBrowserEvent().target).hide().next().show("inline");a.preventDefault();this.reposition()};
fyre.sp.ui.ProfileView.prototype.registerControls=function(){this.popupType()==fyre.ui.Window&&this.registerControl(this.getBackButton(),goog.events.EventType.CLICK,this.close);this.registerControl(this.getMoreLinks(),goog.events.EventType.CLICK,this.showMore)};
fyre.sp.ui.ProfileView.prototype.renderSafe=function(){var a=this.model.ATTRIBUTES,b=this.model.toJSON();b.hasBio=b[a.ABOUT_ME]||b[a.LOCATION];b.isPopup=this.popupType()==fyre.ui.Window;this.$el.html(fyre.sp.templates.viewprofile(b));this.getLoader().show("inline");this.getBody().hide();this.getCommentCount().hide();this.getLikeCount().hide()};
fyre.sp.ui.ProfileView.prototype.handleGetComplete=function(a){this.render();this.getLoader().hide();this.getBody().show();this.getCommentCount().show();this.getLikeCount().show();this.reposition()};fyre.sp.ui.ProfileView.prototype.handleGetFailure=function(a){this.close()};fyre.sp.client.ProfileClient=function(a,b){fyre.object.Communicator.call(this,a,b)};goog.inherits(fyre.sp.client.ProfileClient,fyre.object.Communicator);fyre.sp.client.ProfileClient.prototype.initialize=function(a){this.configureLogging("fyre.sp.client.ProfileClient")};
fyre.sp.client.ProfileClient.prototype.getCompleteProfile=function(a,b,c){var d=null;b={url:fyre.sp.config.servers.profile+"/api/v1.0/public/profile/complete/",success:b,failure:c};c=new fyre.io.XDR(b);goog.userAgent.IE&&(c=new fyre.io.Req(b));goog.isString(a)&&(d={token:a});c.send(d)};fyre.sp.client.ProfileClient.prototype.getProfile=function(a,b,c){var d=null;b=new fyre.io.XDR({url:fyre.sp.config.servers.profile+"/api/v1.0/public/profile/",success:b,failure:c});goog.isString(a)&&(d={id:a});b.send(d)};
fyre.sp.client.ProfileClient.baseProfile_=function(a){return function(b,c,d){var e=new goog.net.IframeIo;goog.events.listen(e,goog.net.EventType.COMPLETE,function(a){a=a.target;var b=a.getResponseJson();a.isSuccess()?c(b):d(b)});e.sendFromForm(b,fyre.sp.config.servers.profile+a)}};fyre.sp.client.ProfileClient.prototype.editProfile=fyre.sp.client.ProfileClient.baseProfile_("/api/v1.0/public/profile/edit/");fyre.sp.client.ProfileClient.prototype.createProfile=fyre.sp.client.ProfileClient.baseProfile_("/api/v1.0/public/profile/create/");
fyre.sp.client.ProfileClient.prototype.completeProfile=fyre.sp.client.ProfileClient.baseProfile_("/api/v1.0/public/profile/complete/");fyre.sp.client.ProfileClient.prototype.editPassword=function(a,b,c){(new fyre.io.XDR({url:fyre.sp.config.PUBLIC_API_URL+"/profile/edit/password/",method:"POST",success:b,failure:c})).send({password:a.password[0],token:a.token[0]})};fyre.sp.model={};fyre.sp.model.Profile=function(){this.model_={};this.ATTRIBUTES=fyre.sp.model.Profile.ATTRIBUTES;this.set(fyre.sp.model.Profile.DEFAULTS)};fyre.sp.model.Profile.prototype.set=function(a,b){goog.isDef(b)?this.model_[a]=b:goog.object.forEach(a,function(a,b){this.model_[b]=a},this)};fyre.sp.model.Profile.prototype.get=function(a){return goog.object.get(this.model_,a,null)};fyre.sp.model.Profile.prototype.toJSON=function(){return this.model_};
fyre.sp.model.Profile.ATTRIBUTES={ID:"id",DISPLAY_NAME:"displayName",FIRST_NAME:"givenName",LAST_NAME:"familyName",BIO:"aboutMe",LOCATION:"currentLocation",EMAIL:"email",URL:"url",PHOTO:"avatar",EMAIL_SETTINGS:"email_notifications",EMAIL_VERIFIED:"emailVerified",COMMENTS:"comments",AUTO_FOLLOW:"auto_follow",TOKEN:"token",HAS_PASSWORD:"hasPassword"};
fyre.sp.model.Profile.DEFAULTS=function(){var a={},b=fyre.sp.model.Profile.ATTRIBUTES;a[b.ID]="-1";a[b.DISPLAY_NAME]="Loading Profile";a[b.FIRST_NAME]="";a[b.LAST_NAME]="";a[b.BIO]="";a[b.LOCATION]="";a[b.EMAIL]="";a[b.URL]="";a[b.PHOTO]="";a[b.EMAIL_SETTINGS]={comments:"never",likes:"never",replies:"hourly",moderator_comments:"hourly",moderator_flags:"immediately"};a[b.COMMENTS]=[];a[b.AUTO_FOLLOW]=!1;a[b.TOKEN]="";a[b.HAS_PASSWORD]=!1;return a}();fyre.sp.client.ProfileAdapter=function(){};goog.addSingletonGetter(fyre.sp.client.ProfileAdapter);fyre.sp.client.ProfileAdapter.prototype.adaptGetFailure=function(a){a||(a={});var b="Error",c=404;goog.isObject(a)&&("msg"in a&&(b=a.msg),"code"in a&&(c=a.code));return{code:c,msg:b}};fyre.sp.client.ProfileAdapter.prototype.adaptUpdateSuccess=function(a){return this.adaptGetResponse(a)};
fyre.sp.client.ProfileAdapter.prototype.adaptGetSuccess=function(a){a=a.data;var b=[{name:"immediately",selected:!1},{name:"hourly",selected:!1},{name:"never",selected:!1}],c={};fyre.util.forEach(a.email_notifications,function(a,e){c[e]=[];fyre.util.forEach(b,function(b){b={name:b.name,selected:!1};b.name===a&&(b.selected=!0);c[e].push(b)})});a.email_notifications=c;return a};
fyre.sp.client.ProfileAdapter.prototype.adaptCompleteSuccess=function(a){a=a.data;goog.object.containsKey(a,"errors")||goog.object.extend(a,{errors:{}});return a};fyre.sp.controller.ProfileController=function(a,b){fyre.controller.Controller.call(this,a,b)};goog.inherits(fyre.sp.controller.ProfileController,fyre.controller.Controller);
fyre.sp.controller.ProfileController.prototype.initialize=function(a){this.subscribe(fyre.sp.events.PROFILE_COMPLETE_INIT,this.handleGetCompleteProfile);this.subscribe(fyre.sp.events.PROFILE_COMPLETE_SUBMIT,this.handleCompleteProfile);this.subscribe(fyre.sp.events.PROFILE_GET_INIT,this.handleGetProfile);this.subscribe(fyre.sp.events.PROFILE_EDIT_INIT,this.handleGetEditProfile);this.subscribe(fyre.sp.events.PROFILE_EDIT_SUBMIT,this.handleEditProfile);this.subscribe(fyre.sp.events.PROFILE_CREATE_SUBMIT,
this.handleCreateProfile);this.model=a.model||new fyre.sp.model.Profile;this.client=a.profileClient||new fyre.sp.client.ProfileClient(this.messenger);this.adapter=fyre.sp.client.ProfileAdapter.getInstance();this.configureLogging("fyre.sp.controller.ProfileController")};fyre.sp.controller.ProfileController.prototype.handleGetCompleteProfile=function(a){this.client.getCompleteProfile(a,goog.bind(this.handleGetCompleteProfileSuccess,this),goog.bind(this.handleGetCompleteProfileFailure,this))};
fyre.sp.controller.ProfileController.prototype.handleGetCompleteProfileSuccess=function(a){this.isSuccess(a)?(a=this.adapter.adaptCompleteSuccess(a),this.model.set(a.profile),this.messenger.trigger(fyre.sp.events.PROFILE_COMPLETE_INIT_SUCCESS,a)):this.messenger.trigger(fyre.sp.events.PROFILE_COMPLETE_INIT_FAILURE,a.data)};fyre.sp.controller.ProfileController.prototype.handleGetCompleteProfileFailure=function(a){};
fyre.sp.controller.ProfileController.prototype.handleGetProfile=function(a){this.client.getProfile(a,goog.bind(this.handleGetProfileSuccess,this),goog.bind(this.handleGetProfileFailure,this))};fyre.sp.controller.ProfileController.prototype.handleGetProfileSuccess=function(a){this.isSuccess(a)?(a=this.adapter.adaptGetSuccess(a),this.model.set(a),this.messenger.trigger(fyre.sp.events.PROFILE_GET_COMPLETE,a)):this.messenger.trigger(fyre.sp.events.PROFILE_GET_ERROR,a.data)};
fyre.sp.controller.ProfileController.prototype.handleGetProfileFailure=function(a){a=this.adapter.adaptGetFailure(a);this.messenger.trigger(fyre.sp.events.PROFILE_GET_FAILURE,a)};fyre.sp.controller.ProfileController.prototype.handleGetEditProfile=function(){this.client.getProfile(null,goog.bind(this.handleGetEditProfileSuccess,this),goog.bind(this.handleGetEditProfileFailure,this))};
fyre.sp.controller.ProfileController.prototype.handleGetEditProfileSuccess=function(a){this.isSuccess(a)?(a=this.adapter.adaptGetSuccess(a),this.model.set(a),this.messenger.trigger(fyre.sp.events.PROFILE_EDIT_INIT_SUCCESS,a)):this.handleUpdateProfileFailure(a)};fyre.sp.controller.ProfileController.prototype.handleGetEditProfileFailure=function(a){a=this.adapter.adaptGetFailure(a);this.messenger.trigger(fyre.sp.events.PROFILE_EDIT_INIT_FAILURE,a)};
fyre.sp.controller.ProfileController.prototype.handleEditProfile=function(a){this.client.editProfile(a,goog.bind(this.handleEditProfileSuccess,this),goog.bind(this.handleEditProfileFailure,this))};
fyre.sp.controller.ProfileController.prototype.handleEditProfileSuccess=function(a){!this.isSuccess(a)||"errors"in a.data?this.messenger.trigger(fyre.sp.events.PROFILE_EDIT_SUBMIT_FAILURE,a.data):(a=this.adapter.adaptGetSuccess(a),this.model.set(a),this.messenger.trigger(fyre.sp.events.PROFILE_EDIT_SUBMIT_SUCCESS,a))};fyre.sp.controller.ProfileController.prototype.handleEditProfileFailure=function(a){};
fyre.sp.controller.ProfileController.prototype.handleCreateProfile=function(a){this.client.createProfile(a,goog.bind(this.handleCreateProfileSuccess,this),goog.bind(this.handleCreateProfileFailure,this))};
fyre.sp.controller.ProfileController.prototype.handleCreateProfileSuccess=function(a){var b=this.isSuccess(a),c=goog.object.containsKey(a.data,"errors");b&&!c?(a=fyre.sp.client.AuthAdapter.getInstance().adaptUserData(a),this.messenger.trigger(fyre.sp.events.PROFILE_CREATE_COMPLETE,a)):this.messenger.trigger(fyre.sp.events.PROFILE_CREATE_FAILURE,a.data)};fyre.sp.controller.ProfileController.prototype.handleCreateProfileFailure=function(a){};
fyre.sp.controller.ProfileController.prototype.handleCompleteProfile=function(a){this.client.completeProfile(a,goog.bind(this.handleCompleteProfileSuccess,this),goog.bind(this.handleCompleteProfileFailure,this))};
fyre.sp.controller.ProfileController.prototype.handleCompleteProfileSuccess=function(a){var b=this.isSuccess(a),c=goog.object.containsKey(a.data,"errors");b&&!c?(a=fyre.sp.client.AuthAdapter.getInstance().adaptUserData(a),this.messenger.trigger(fyre.sp.events.PROFILE_COMPLETE_SUBMIT_SUCCESS,a)):this.messenger.trigger(fyre.sp.events.PROFILE_COMPLETE_SUBMIT_FAILURE,a.data)};fyre.sp.controller.ProfileController.prototype.handleCompleteProfileFailure=function(a){};fyre.sp.widget.ProfileWidgetBase=function(a,b){fyre.widget.Base.call(this,a,b)};goog.inherits(fyre.sp.widget.ProfileWidgetBase,fyre.widget.Base);
fyre.sp.widget.ProfileWidgetBase.prototype.initialize=function(a){fyre.sp.widget.ProfileWidgetBase.superClass_.initialize.call(this,a);this.profile=a.profile||new fyre.sp.model.Profile;this.client=a.profileClient||new fyre.sp.client.ProfileClient(this.messenger,{});this.controller=a.profileController||new fyre.sp.controller.ProfileController(this.messenger,{profileClient:this.client});this.view=this.getView(a);a.viewDecorator&&a.viewDecorator.decorate(this.view)};fyre.sp.widget.ProfileWidget=function(a,b){fyre.sp.widget.ProfileWidgetBase.call(this,a,b)};goog.inherits(fyre.sp.widget.ProfileWidget,fyre.sp.widget.ProfileWidgetBase);fyre.sp.widget.ProfileWidget.prototype.getView=function(a){this.profile=a.profile||new fyre.sp.model.Profile;return new fyre.sp.ui.ProfileView(this.messenger,{model:this.profile,el:a.el})};fyre.sp.templates.completeprofile="function"==typeof fyre.sp.templates.completeprofile?fyre.sp.templates.completeprofile:fyre.lib.Handlebars.template(function(a,b,c,d,e){this.compilerInfo=[3,">= 1.0.0-rc.4"];c=c||a.helpers;e=e||{};var f,g=this.escapeExpression,h=c.helperMissing;a='<span class="fyre-cp-back-button"></span>\n<header class="fyre-cp-modal-header">\n    Complete ';(d=c.providerName)?d=d.call(b,{hash:{},data:e}):(d=b.providerName,d="function"===typeof d?d.apply(b):d);a+=g(d)+' account\n    <img src="';
f={hash:{},data:e};a+=g((d=c.media_url,d?d.call(b,"images/default/logo.png",f):h.call(b,"media_url","images/default/logo.png",f)))+'" align="right" alt="Livefyre" />\n</header>\n<section class="fyre-cp-two-column fyre-cp-profile-create">\n    <form class="fyre-cp-form" enctype="multipart/form-data" method="post">\n        <input type="hidden" name="token" value="';(d=c.token)?d=d.call(b,{hash:{},data:e}):(d=b.token,d="function"===typeof d?d.apply(b):d);a+=g(d)+'" />\n        <ul>\n            <li>\n                <label for="username">Username *</label>\n                <input type="text" name="displayName" class="fyre-cp-input-displayname" value="';
(d=c.displayName)?d=d.call(b,{hash:{},data:e}):(d=b.displayName,d="function"===typeof d?d.apply(b):d);a+=g(d)+'" data-fyre-validate="required" />\n            </li>\n            ';if((d=c.unless.call(b,b.is_mobile,{hash:{},inverse:this.noop,fn:this.program(1,function(a,b){var d,e;d='\n            <li class="fyre-cp-profile-avatar">\n                <label for="avatar">\n                    <img src="';(e=c.avatar)?e=e.call(a,{hash:{},data:b}):(e=a.avatar,e="function"===typeof e?e.apply(a):e);return d+=
g(e)+'" />\n                    <a class="fyre-cp-profile-avatar-change">Change avatar</a>\n                </label>\n                <div class="fyre-cp-profile-avatar-wrapper fyre-cp-hidden">\n                    <label for="avatar">Avatar</label>\n                    <input type="file" name="image" class="fyre-cp-input-image" data-fyre-validate="fileType-image fileSize-1500000" />\n                </div>\n            </li>\n            '},e),data:e}))||0===d)a+=d;a+='\n            <li>\n                <label for="email">Email Address *</label>\n                <input type="text" name="email" class="fyre-cp-input-email" value="';
(d=c.email)?d=d.call(b,{hash:{},data:e}):(d=b.email,d="function"===typeof d?d.apply(b):d);return a+=g(d)+'" data-fyre-validate="required email" />\n            </li>\n            <li class="fyre-cp-profile-confirm">\n                <label for="terms">\n                    By clicking <b>Create</b>, you accept The Default Site\'s <a href="#somelink">Terms &amp; Conditions</a>\n                </label>\n                <div class="fyre-cp-form-btns">\n                    <input type="submit" class="fyre-cp-form-submit-btn" value="Create" />\n                </div>\n            </li>\n        </ul>\n    </form>\n</section>\n'});
goog.exportSymbol("fyre.sp.templates.completeprofile",fyre.sp.templates.completeprofile);fyre.sp.templates.editprofile="function"==typeof fyre.sp.templates.editprofile?fyre.sp.templates.editprofile:fyre.lib.Handlebars.template(function(a,b,c,d,e){function f(a,b){var d,e,f;d=""+('\n                                <option value="'+l((e=a.name,"function"===typeof e?e.apply(a):e))+'" ');if((f=c["if"].call(a,a.selected,{hash:{},inverse:m.noop,fn:m.program(8,g,b),data:b}))||0===f)d+=f;return d+=">"+l((e=a.name,"function"===typeof e?e.apply(a):e))+"</option>\n                            "}function g(a,
b){return'selected="selected"'}this.compilerInfo=[3,">= 1.0.0-rc.4"];c=c||a.helpers;e=e||{};var h,k,l=this.escapeExpression,m=this;d=c.helperMissing;k={hash:{},data:e};a='\x3c!-- edit profile template --\x3e\n<div class="fyre-profile">\n    <span class="fyre-cp-back-button"></span>\n    <header class="fyre-cp-modal-header">\n        <img src="'+(l((h=c.media_url,h?h.call(b,"images/default/logo.png",k):d.call(b,"media_url","images/default/logo.png",k)))+'" align="right" alt="Livefyre" />\n    </header>\n    <section class="fyre-profile-section">\n        ');
if((k=c["if"].call(b,b.avatar,{hash:{},inverse:m.noop,fn:m.program(1,function(a,b){var d,e;d='\n        <img src="';(e=c.avatar)?e=e.call(a,{hash:{},data:b}):(e=a.avatar,e="function"===typeof e?e.apply(a):e);d+=l(e)+'" class="fyre-profile-avatar" alt="';(e=c.username)?e=e.call(a,{hash:{},data:b}):(e=a.username,e="function"===typeof e?e.apply(a):e);return d+=l(e)+'" />\n        '},e),data:e}))||0===k)a+=k;a+='\n        <h2 class="fyre-profile-displayname">\n            <span>';(k=c.displayName)?k=
k.call(b,{hash:{},data:e}):(k=b.displayName,k="function"===typeof k?k.apply(b):k);a+=l(k)+'</span>\n            <a href="#" class="fyre-profile-edit-link"></a>\n            <img class="fyre-loader" src="';k={hash:{},data:e};a+=l((h=c.media_url,h?h.call(b,"images/default/loader.gif",k):d.call(b,"media_url","images/default/loader.gif",k)))+'" alt="Loading" />\n        </h2>\n        <input type="text" value="';(k=c.displayName)?k=k.call(b,{hash:{},data:e}):(k=b.displayName,k="function"===typeof k?k.apply(b):
k);a+=l(k)+'" class="fyre-cp-input-displayname fyre-cp-hidden" />\n        <p class="fyre-profile-user-comments">\n            <span>';k={hash:{},data:e};a+=l((h=c["default"],h?h.call(b,(h=b.comments,null==h||!1===h?h:h.user_comment_count),0,k):d.call(b,"default",(h=b.comments,null==h||!1===h?h:h.user_comment_count),0,k)))+'</span> Comments\n        </p>\n        <p class="fyre-profile-user-likes">\n            <span>';k={hash:{},data:e};a+=l((h=c["default"],h?h.call(b,(h=b.comments,null==h||!1===
h?h:h.user_liked_count),0,k):d.call(b,"default",(h=b.comments,null==h||!1===h?h:h.user_liked_count),0,k)))+'</span> Likes\n        </p>\n    </section>\n    <nav class="fyre-cp-edit-nav">\n        <ul class="fyre-cp-edit-tabs">\n            <li class="fyre-cp-active">\n                <a name="profile" class="fyre-cp-edit-tab">Profile</a>\n            </li>\n            <li>\n                <a name="notifications" class="fyre-cp-edit-tab">Notifications</a>\n            </li>\n            <li>\n                ';
if((k=c["if"].call(b,b.showPassword,{hash:{},inverse:m.noop,fn:m.program(3,function(a,b){return'\n                <a name="passwords" class="fyre-cp-edit-tab">Password</a>\n                '},e),data:e}))||0===k)a+=k;a+='\n            </li>\n        </ul>\n    </nav>\n    <section class="fyre-cp-edit">\n        <section class="fyre-cp-edit-tab-content fyre-cp-edit-tab-profile">\n            <form class="fyre-cp-form fyre-cp-edit-form" enctype="multipart/form-data" method="post" name="fyre-cp-form-profile">\n                <input type="hidden" name="id" value="';
(k=c.id)?k=k.call(b,{hash:{},data:e}):(k=b.id,k="function"===typeof k?k.apply(b):k);a+=l(k)+'" />\n                <input type="hidden" name="displayName" value="';(k=c.displayName)?k=k.call(b,{hash:{},data:e}):(k=b.displayName,k="function"===typeof k?k.apply(b):k);a+=l(k)+'" class="fyre-cp-edit-form-displayname" />\n                <input type="hidden" name="form_type" value="profile" />\n                <ul class="fyre-cp-edit-form-profile">\n                    ';if((k=c.unless.call(b,b.is_mobile,
{hash:{},inverse:m.noop,fn:m.program(5,function(a,b){return'\n                    <li>\n                        <label for="image">Avatar</label>\n                        <input type="file" name="image" class="fyre-cp-input-image" />\n                    </li>\n                    '},e),data:e}))||0===k)a+=k;a+='\n                    <li>\n                        <label for="email">Email address *</label>\n                        <input type="text" name="email" value="';(k=c.email)?k=k.call(b,{hash:{},
data:e}):(k=b.email,k="function"===typeof k?k.apply(b):k);a+=l(k)+'" class="fyre-cp-input-email" data-fyre-validate="email" />\n                    </li>\n                    <li>\n                        <label for="givenName">First name</label>\n                        <input type="text" name="givenName" value="';(k=c.givenName)?k=k.call(b,{hash:{},data:e}):(k=b.givenName,k="function"===typeof k?k.apply(b):k);a+=l(k)+'" class="fyre-cp-input-givenName" />\n                    </li>\n                    <li>\n                        <label for="familyName">Last name</label>\n                        <input type="text" name="familyName" value="';
(k=c.familyName)?k=k.call(b,{hash:{},data:e}):(k=b.familyName,k="function"===typeof k?k.apply(b):k);a+=l(k)+'" class="fyre-cp-input-familyName" />\n                    </li>\n                    <li>\n                        <label for="currentLocation">Location</label>\n                        <input type="text" name="currentLocation" value="';(k=c.currentLocation)?k=k.call(b,{hash:{},data:e}):(k=b.currentLocation,k="function"===typeof k?k.apply(b):k);a+=l(k)+'" class="fyre-cp-input-currentLocation" />\n                    </li>\n                    <li class="fyre-cp-edit-bio">\n                        <label for="aboutMe">Bio</label>\n                        <textarea name="aboutMe" class="fyre-input-aboutMe" fyre-validate="maxlength-500" maxlength="500">';
(k=c.aboutMe)?k=k.call(b,{hash:{},data:e}):(k=b.aboutMe,k="function"===typeof k?k.apply(b):k);a+=l(k)+'</textarea>\n                    </li>\n                </ul>\n                <footer class="fyre-cp-edit-form-footer">\n                    <div class="fyre-cp-edit-close-wrapper fyre-cp-form-btns">\n                        <span class="fyre-cp-edit-save-msg"></span>\n                        <input type="submit" class="fyre-cp-form-cancel-btn" value="Close" />\n                    </div>\n                    <div class="fyre-cp-edit-save-wrapper fyre-cp-form-btns fyre-cp-hidden">\n                        <input type="submit" class="fyre-cp-form-cancel-btn" value="Cancel" />\n                        <input type="submit" class="fyre-cp-form-submit-btn" value="Save" />\n                    </div>\n                </footer>\n            </form>\n        </section>\n        <section class="fyre-cp-edit-tab-content fyre-cp-edit-tab-notifications fyre-cp-hidden">\n            <form class="fyre-cp-form fyre-cp-edit-form" enctype="multipart/form-data" method="post" name="fyre-cp-form-notifications">\n                <input type="hidden" name="id" value="';
(k=c.id)?k=k.call(b,{hash:{},data:e}):(k=b.id,k="function"===typeof k?k.apply(b):k);a+=l(k)+'" />\n                <input type="hidden" name="displayName" value="';(k=c.displayName)?k=k.call(b,{hash:{},data:e}):(k=b.displayName,k="function"===typeof k?k.apply(b):k);a+=l(k)+'" class="fyre-cp-edit-form-displayname" />\n                <input type="hidden" name="form_type" value="notifications" />\n                <ul class="fyre-cp-edit-form-notifications">\n                    <li>\n                        <label for="email_comments">Email comments in conversations I follow</label>\n                        <select name="email_comments"class="fyre-cp-input-email_comments">\n                            ';
if((k=c.each.call(b,(h=b.email_notifications,null==h||!1===h?h:h.comments),{hash:{},inverse:m.noop,fn:m.program(7,f,e),data:e}))||0===k)a+=k;a+='\n                        </select>\n                    </li>\n                    <li>\n                        <label for="email_likes">Email when someone likes my comment</label>\n                        <select name="email_likes" class="fyre-cp-input-email_likes">\n                            ';if((k=c.each.call(b,(h=b.email_notifications,null==h||!1===
h?h:h.likes),{hash:{},inverse:m.noop,fn:m.program(7,f,e),data:e}))||0===k)a+=k;a+='\n                        </select>\n                    </li>\n                    <li>\n                        <label for="email_replies">Email when someone replies to me</label>\n                        <select name="email_replies" class="fyre-cp-input-email_replies">\n                            ';if((k=c.each.call(b,(h=b.email_notifications,null==h||!1===h?h:h.replies),{hash:{},inverse:m.noop,fn:m.program(7,f,
e),data:e}))||0===k)a+=k;a+='\n                        </select>\n                    </li>\n                    <li>\n                        <label for="auto_follow">Automatically follow conversations I join</label>\n                        <input type="checkbox" name="auto_follow" class="fyre-cp-input-auto_follow" value="true" ';if((k=c["if"].call(b,b.auto_follow,{hash:{},inverse:m.noop,fn:m.program(10,function(a,b){return'checked="checked"'},e),data:e}))||0===k)a+=k;a+=' />\n                    </li>\n                </ul>\n                <footer class="fyre-cp-edit-form-footer">\n                    <div class="fyre-cp-edit-close-wrapper fyre-cp-form-btns">\n                        <span class="fyre-cp-edit-save-msg"></span>\n                        <input type="submit" class="fyre-cp-form-cancel-btn" value="Close" />\n                    </div>\n                    <div class="fyre-cp-edit-save-wrapper fyre-cp-form-btns fyre-cp-hidden">\n                        <input type="submit" class="fyre-cp-form-cancel-btn" value="Cancel" />\n                        <input type="submit" class="fyre-cp-form-submit-btn" value="Save" />\n                    </div>\n                </footer>\n            </form>\n        </section>\n        ';
if((k=c["if"].call(b,b.showPassword,{hash:{},inverse:m.noop,fn:m.program(12,function(a,b){var d,e;d='\n        <section class="fyre-cp-edit-tab-content fyre-cp-edit-tab-passwords fyre-cp-hidden">\n            <form class="fyre-cp-form fyre-cp-edit-form" enctype="multipart/form-data" method="post" name="fyre-cp-form-passwords">\n                <input type="hidden" name="id" value="';(e=c.id)?e=e.call(a,{hash:{},data:b}):(e=a.id,e="function"===typeof e?e.apply(a):e);d+=l(e)+'" />\n                <input type="hidden" name="displayName" value="';
(e=c.displayName)?e=e.call(a,{hash:{},data:b}):(e=a.displayName,e="function"===typeof e?e.apply(a):e);return d+=l(e)+'" class="fyre-cp-edit-form-displayname" />\n                <input type="hidden" name="form_type" value="passwords" />\n                <ul class="fyre-cp-edit-form-profile">\n                    <li>\n                        <label for="password_old">Old Password *</label>\n                        <input type="password" name="password_old" class="fyre-cp-input-password_old" data-fyre-validate="required"/>\n                    </li>\n                    <li>\n                        <label for="password">New Password *</label>\n                        <input type="password" name="password" class="fyre-cp-input-password" data-fyre-validate="required"/>\n                    </li>\n                    <li>\n                        <label for="password_verify">New Password *</label>\n                        <input type="password" name="password_verify" class="fyre-cp-input-password_verify" data-fyre-validate="required"/>\n                    </li>\n                </ul>\n                <footer class="fyre-cp-edit-form-footer">\n                    <div class="fyre-cp-edit-close-wrapper fyre-cp-form-btns">\n                        <span class="fyre-cp-edit-save-msg"></span>\n                        <input type="submit" class="fyre-cp-form-cancel-btn" value="Close" />\n                    </div>\n                    <div class="fyre-cp-edit-save-wrapper fyre-cp-form-btns fyre-cp-hidden">\n                        <input type="submit" class="fyre-cp-form-cancel-btn" value="Cancel" />\n                        <input type="submit" class="fyre-cp-form-submit-btn" value="Save" />\n                    </div>\n                </footer>\n            </form>\n        </section>\n        '},
e),data:e}))||0===k)a+=k;return a+="\n    </section>\n</div>\n"});goog.exportSymbol("fyre.sp.templates.editprofile",fyre.sp.templates.editprofile);fyre.sp.ui.ProfileFormBase=function(a,b){fyre.sp.ui.ProfileBase.call(this,a,b)};goog.inherits(fyre.sp.ui.ProfileFormBase,fyre.sp.ui.ProfileBase);fyre.sp.ui.ProfileFormBase.prototype.EVENTS={};fyre.sp.ui.ProfileFormBase.prototype.getEvent=function(a){return this.EVENTS[a]};fyre.sp.ui.ProfileFormBase.CLASSES={FORM:"fyre-cp-form",CANCEL_BTN:"fyre-cp-form-cancel-btn",BACK_BTN:"fyre-cp-back-button"};fyre.sp.ui.ProfileFormBase.prototype.getForm=function(){return this.$el.getByClass(fyre.sp.ui.ProfileFormBase.CLASSES.FORM)};
fyre.sp.ui.ProfileFormBase.prototype.getCancelButton=function(){return this.$el.getByClass(fyre.sp.ui.ProfileFormBase.CLASSES.CANCEL_BTN)};fyre.sp.ui.ProfileFormBase.prototype.getBackButton=function(){return this.$el.getByClass(fyre.sp.ui.ProfileFormBase.CLASSES.BACK_BTN)};fyre.sp.ui.ProfileFormBase.prototype.handleFormSubmit=function(a){a.preventDefault();this.validator.run()&&(a=this.getForm(),this.messenger.trigger(this.getEvent("form-submit"),a.element))};
fyre.sp.ui.ProfileFormBase.prototype.handleFormErrors=function(a){a=this.prepareErrors(a);this.validator.writeErrorsToDom(a)};fyre.sp.ui.ProfileFormBase.prototype.prepareErrors=function(a){var b,c=[],d=this.getForm();goog.object.forEach(a.errors,function(a,f){b=d.getByClass("fyre-cp-input-"+f.toLowerCase());c.push([b,a[0]])});return c};fyre.sp.ui.ProfileFormBase.prototype.handleFormCancel=function(a){a.preventDefault();this.close()};fyre.sp.ui.ProfileFormBase.prototype.handleFormSubmitSuccess=function(){this.close()};
fyre.sp.ui.ProfileFormBase.prototype.registerControls=function(){this.registerControl(this.getForm(),goog.events.EventType.SUBMIT,this.handleFormSubmit);this.registerControl(this.getCancelButton(),goog.events.EventType.CLICK,this.handleFormCancel);this.validator=new fyre.forms.validate(this.getForm())};fyre.sp.ui.CompleteProfileView=function(a,b){fyre.sp.ui.ProfileFormBase.call(this,a,b)};goog.inherits(fyre.sp.ui.CompleteProfileView,fyre.sp.ui.ProfileFormBase);fyre.sp.ui.CompleteProfileView.CLASSES={AVATAR_CHANGE_LINK:"fyre-cp-profile-avatar-change",AVATAR_CHANGE_WRAPPER:"fyre-cp-profile-avatar-wrapper",HIDDEN:"fyre-cp-hidden"};
fyre.sp.ui.CompleteProfileView.prototype.EVENTS={"form-init":fyre.sp.events.PROFILE_COMPLETE_INIT,"form-init-complete":fyre.sp.events.PROFILE_COMPLETE_INIT_SUCCESS,"form-init-failure":fyre.sp.events.PROFILE_COMPLETE_INIT_FAILURE,"form-submit":fyre.sp.events.PROFILE_COMPLETE_SUBMIT,"form-submit-complete":fyre.sp.events.PROFILE_COMPLETE_SUBMIT_SUCCESS,"form-submit-failure":fyre.sp.events.PROFILE_COMPLETE_SUBMIT_FAILURE};
fyre.sp.ui.CompleteProfileView.prototype.initialize=function(a){fyre.sp.ui.CompleteProfileView.superClass_.initialize.call(this,a);this.subscribe(this.getEvent("form-init"),this.open);this.subscribe(this.getEvent("form-init-complete"),this.handleGetComplete);this.subscribe(this.getEvent("form-submit-complete"),this.handleFormSubmitSuccess);this.subscribe(this.getEvent("form-submit-failure"),this.handleFormErrors)};
fyre.sp.ui.CompleteProfileView.prototype.renderSafe=function(){var a=this.model.toJSON(),b=this.model.ATTRIBUTES;a.is_mobile=this.isMobile;a.avatar=a[b.PHOTO]||fyre.sp.config.DEFAULT_AVATAR;this.$el.html(fyre.sp.templates.completeprofile(a))};fyre.sp.ui.CompleteProfileView.prototype.handleGetComplete=function(a){this.render();goog.isObject(a.errors)&&this.handleFormErrors(a)};fyre.sp.ui.CompleteProfileView.prototype.handleGetFailure=function(){this.close()};
fyre.sp.ui.CompleteProfileView.prototype.getAvatarChangeLink=function(){return this.$el.getByClass(fyre.sp.ui.CompleteProfileView.CLASSES.AVATAR_CHANGE_LINK)};fyre.sp.ui.CompleteProfileView.prototype.getAvatarChangeWrapper=function(){return this.$el.getByClass(fyre.sp.ui.CompleteProfileView.CLASSES.AVATAR_CHANGE_WRAPPER)};fyre.sp.ui.CompleteProfileView.prototype.swapAvatarLink=function(){var a=fyre.sp.ui.CompleteProfileView.CLASSES.HIDDEN;this.getAvatarChangeLink().parent().addClass(a);this.getAvatarChangeWrapper().removeClass(a)};
fyre.sp.ui.CompleteProfileView.prototype.registerControls=function(){this.popupType()==fyre.ui.Window&&this.registerControl(this.getBackButton(),goog.events.EventType.CLICK,this.close);this.isMobile||this.registerControl(this.getAvatarChangeLink(),goog.events.EventType.CLICK,this.swapAvatarLink);fyre.sp.ui.CompleteProfileView.superClass_.registerControls.call(this)};fyre.sp.widget.CompleteProfileWidget=function(a,b){fyre.sp.widget.ProfileWidgetBase.call(this,a,b)};goog.inherits(fyre.sp.widget.CompleteProfileWidget,fyre.sp.widget.ProfileWidgetBase);fyre.sp.widget.CompleteProfileWidget.prototype.getView=function(a){this.profile=a.profile||new fyre.sp.model.Profile;return new fyre.sp.ui.CompleteProfileView(this.messenger,{model:this.profile,el:a.el})};fyre.sp.app.ProfileBase=function(a){a=this.adaptOpts(a);fyre.app.Base.call(this,a)};goog.inherits(fyre.sp.app.ProfileBase,fyre.app.Base);fyre.sp.app.ProfileBase.prototype.adaptOpts=function(a){var b={};a.el&&(b.el=a.el);a.type&&(b.type=a.type);a.token&&(b.token=a.token);a.app&&(b.app=a.app);a.id&&(b.id=a.id);return b};fyre.sp.app.ProfileBase.prototype.initialize=function(a){};fyre.sp.app.ProfileBase.prototype.isReady=function(){return!0};
fyre.sp.app.ProfileBase.prototype.editProfile=function(a){this.messenger.trigger(fyre.sp.events.PROFILE_EDIT_INIT,a)};fyre.sp.app.ProfileBase.prototype.viewProfile=function(a){this.messenger.trigger(fyre.sp.events.PROFILE_GET_INIT,a)};fyre.sp.app.ProfileBase.AUTH_TYPES=fyre.sp.app.ProfileBase.prototype.AUTH_TYPES={REDIRECT:"redirect",WINDOW:"window"};
fyre.sp.app.ProfileBase.prototype.setAuthType=function(a){var b=fyre.sp.app.ProfileBase.AUTH_TYPES;return goog.object.some(b,function(b){return b===a})?a:b.REDIRECT};fyre.sp.templates.createprofile="function"==typeof fyre.sp.templates.createprofile?fyre.sp.templates.createprofile:fyre.lib.Handlebars.template(function(a,b,c,d,e){this.compilerInfo=[3,">= 1.0.0-rc.4"];c=c||a.helpers;e=e||{};var f,g;d=this.escapeExpression;var h=c.helperMissing;a='<span class="fyre-cp-back-button"></span>\n<header class="fyre-cp-modal-header">\n    Create ';(f=c.providerName)?f=f.call(b,{hash:{},data:e}):(f=b.providerName,f="function"===typeof f?f.apply(b):f);a+=d(f)+' account\n    <img src="';
g={hash:{},data:e};a+=d((f=c.media_url,f?f.call(b,"images/default/logo.png",g):h.call(b,"media_url","images/default/logo.png",g)))+'" align="right" alt="Livefyre" />\n</header>\n<section class="fyre-cp-two-column fyre-cp-profile-create">\n    <form class="fyre-cp-form" enctype="multipart/form-data" method="post">\n        <input type="hidden" name="redirect_url" value="';(f=c.redirect_url)?f=f.call(b,{hash:{},data:e}):(f=b.redirect_url,f="function"===typeof f?f.apply(b):f);a+=d(f)+'" />\n        <ul>\n            <li>\n                <label for="username">Username *</label>\n                <input type="text" class="fyre-cp-input-displayname" name="displayName" data-fyre-validate="required" />\n            </li>\n            ';
if((f=c.unless.call(b,b.is_mobile,{hash:{},inverse:this.noop,fn:this.program(1,function(a,b){return'\n            <li class="fyre-cp-profile-avatar">\n                <label for="image">Avatar</label>\n                <input type="file" name="image" class="fyre-cp-input-image" data-fyre-validate="fileType-image fileSize-1500000" size="16" />\n            </li>\n            '},e),data:e}))||0===f)a+=f;return a+'\n            <li>\n                <label for="password">Password *</label>\n                <input type="password" name="password" id="fyrePassword" class="fyre-cp-input-password" data-fyre-validate="required maxlength-32 minlength-6" />\n            </li>\n            <li>\n                <label for="password_dup">Password * <span>verify</span></label>\n                <input type="password" name="password_dup" class="fyre-cp-input-password_dup" data-fyre-validate="required matches-password-fyrePassword" />\n            </li>\n            <li>\n                <label for="email">Email Address *</label>\n                <input type="text" name="email" class="fyre-cp-input-email" data-fyre-validate="required email" />\n            </li>\n            <li class="fyre-cp-profile-confirm">\n                <label for="terms">\n                    By clicking <b>Create</b>, you accept The Default Site\'s <a href="#somelink">Terms &amp; Conditions</a>\n                </label>\n                <div class="fyre-cp-form-btns">\n                    <input type="submit" class="fyre-cp-form-submit-btn" value="Create" />\n                </div>\n            </li>\n        </ul>\n    </form>\n</section>\n'});
goog.exportSymbol("fyre.sp.templates.createprofile",fyre.sp.templates.createprofile);fyre.sp.ui.CreateProfileView=function(a,b){fyre.sp.ui.ProfileFormBase.call(this,a,b)};goog.inherits(fyre.sp.ui.CreateProfileView,fyre.sp.ui.ProfileFormBase);fyre.sp.ui.CreateProfileView.prototype.EVENTS={"form-init":fyre.sp.events.PROFILE_CREATE_INIT,"form-submit":fyre.sp.events.PROFILE_CREATE_SUBMIT,"form-submit-complete":fyre.sp.events.PROFILE_CREATE_COMPLETE,"form-submit-failure":fyre.sp.events.PROFILE_CREATE_FAILURE};
fyre.sp.ui.CreateProfileView.prototype.initialize=function(a){fyre.sp.ui.CreateProfileView.superClass_.initialize.call(this,a);this.subscribe(this.getEvent("form-init"),this.open);this.subscribe(this.getEvent("form-submit-complete"),this.handleFormSubmitSuccess);this.subscribe(this.getEvent("form-submit-failure"),this.handleFormErrors)};
fyre.sp.ui.CreateProfileView.prototype.renderSafe=function(){var a=this.model.toJSON();a.is_mobile=this.isMobile;a.avatar=fyre.sp.config.DEFAULT_AVATAR;a.redirect_url=this.getRedirectUrl();this.$el.html(fyre.sp.templates.createprofile(a))};fyre.sp.ui.CreateProfileView.prototype.getRedirectUrl=function(){var a=document.referrer;fyre.util.browser.isMobile()&&(a=(new goog.Uri(window.location)).getQueryData().get("next"),a=fyre.util.base64.decodeString(a));return encodeURI(a)};
fyre.sp.ui.CreateProfileView.prototype.registerControls=function(){this.popupType()==fyre.ui.Window&&this.registerControl(this.getBackButton(),goog.events.EventType.CLICK,this.close);fyre.sp.ui.CreateProfileView.superClass_.registerControls.call(this)};
fyre.sp.ui.CreateProfileView.prototype.handleFormSubmitSuccess=function(a){if(!a.emailVerified){if(this.popupType()==fyre.ui.Window){a="?next="+(new goog.Uri(window.location)).getQueryData().get("next");window.location.href=fyre.sp.config.servers.profile+"/pages/email_verification/"+a;return}this.setIframeCookieValue("EMAIL_VERIFICATION")}fyre.sp.ui.CreateProfileView.superClass_.handleFormSubmitSuccess.call(this)};fyre.sp.widget.CreateProfileWidget=function(a,b){fyre.sp.widget.ProfileWidgetBase.call(this,a,b)};goog.inherits(fyre.sp.widget.CreateProfileWidget,fyre.sp.widget.ProfileWidgetBase);fyre.sp.widget.CreateProfileWidget.prototype.getView=function(a){this.profile=a.profile||new fyre.sp.model.Profile;return new fyre.sp.ui.CreateProfileView(this.messenger,{model:this.profile,el:a.el})};fyre.sp.ui.EditProfileView=function(a,b){fyre.sp.ui.ProfileFormBase.call(this,a,b)};goog.inherits(fyre.sp.ui.EditProfileView,fyre.sp.ui.ProfileFormBase);
fyre.sp.ui.EditProfileView.CLASSES={EDIT_PROFILE_TAB:"fyre-cp-edit-tab-profile",FORM:"fyre-cp-form",CANCEL_BTN:"fyre-cp-form-cancel-btn",EDIT_LINK:"fyre-profile-edit-link",DISPLAY_NAME_INPUT:"fyre-cp-input-displayname",DISPLAY_NAME:"fyre-profile-displayname",DISPLAY_NAME_FORM:"fyre-cp-edit-form-displayname",IMAGE_INPUT:"fyre-cp-input-image",EDIT_TAB:"fyre-cp-edit-tab",AUTO_FOLLOW_INPUT:"fyre-cp-input-auto_follow",HIDDEN:"fyre-cp-hidden",ACTIVE:"fyre-cp-active",CLOSE_WRAPPER:"fyre-cp-edit-close-wrapper",
SAVE_WRAPPER:"fyre-cp-edit-save-wrapper",SAVE_MSG:"fyre-cp-edit-save-msg",TAB_CONTENT:"fyre-cp-edit-tab-content"};
fyre.sp.ui.EditProfileView.prototype.EVENTS={"form-init":fyre.sp.events.PROFILE_EDIT_INIT,"form-init-complete":fyre.sp.events.PROFILE_EDIT_INIT_SUCCESS,"form-init-failure":fyre.sp.events.PROFILE_EDIT_INIT_FAILURE,"form-submit":fyre.sp.events.PROFILE_EDIT_SUBMIT,"form-submit-complete":fyre.sp.events.PROFILE_EDIT_SUBMIT_SUCCESS,"form-submit-failure":fyre.sp.events.PROFILE_EDIT_SUBMIT_FAILURE,"auth-logout-complete":fyre.sp.events.AUTH_LOGOUT_COMPLETE};
fyre.sp.ui.EditProfileView.prototype.initialize=function(a){fyre.sp.ui.EditProfileView.superClass_.initialize.call(this,a);this.subscribe(this.getEvent("form-init"),this.open);this.subscribe(this.getEvent("form-init-complete"),this.handleGetComplete);this.subscribe(this.getEvent("form-init-failure"),this.handleGetFailure);this.subscribe(this.getEvent("form-submit-complete"),this.handleFormSubmitSuccess);this.subscribe(this.getEvent("form-submit-failure"),this.handleFormErrors);fyre.messenger.base.subscribe(this.getEvent("auth-logout-complete"),
this.close,this)};fyre.sp.ui.EditProfileView.prototype.renderSafe=function(){var a=this.model.toJSON(),b=fyre.sp.model.Profile.ATTRIBUTES,c=fyre.sp.ui.EditProfileView.CLASSES;a.is_mobile=this.isMobile;a.showPassword=fyre.sp.config.auth.LOCAL&&a[b.HAS_PASSWORD];this.$el.html(fyre.sp.templates.editprofile(a));this.active_tab=this.$el.findElementByClass(c.EDIT_PROFILE_TAB);this.toggleDisableForm(!0);this.getLoader().show("inline");this.getCommentCount().hide();this.getLikeCount().hide()};
fyre.sp.ui.EditProfileView.prototype.getForm=function(){return this.active_tab.getByClass(fyre.sp.ui.EditProfileView.CLASSES.FORM)};fyre.sp.ui.EditProfileView.prototype.getForms=function(){return this.$el.findElementsByClass(fyre.sp.ui.EditProfileView.CLASSES.FORM)};fyre.sp.ui.EditProfileView.prototype.getCancelButtons=function(){return this.$el.findElementsByClass(fyre.sp.ui.EditProfileView.CLASSES.CANCEL_BTN)};fyre.sp.ui.EditProfileView.prototype.getDisplayNameEditLink=function(){return this.$el.getByClass(fyre.sp.ui.EditProfileView.CLASSES.EDIT_LINK)};
fyre.sp.ui.EditProfileView.prototype.getDisplayNameInput=function(){return this.$el.getByClass(fyre.sp.ui.EditProfileView.CLASSES.DISPLAY_NAME_INPUT)};fyre.sp.ui.EditProfileView.prototype.getDisplayName=function(){return this.$el.getByClass(fyre.sp.ui.EditProfileView.CLASSES.DISPLAY_NAME)};fyre.sp.ui.EditProfileView.prototype.getTabButtons=function(){return this.$el.findElementsByTagNameAndClass("a",fyre.sp.ui.EditProfileView.CLASSES.EDIT_TAB)};fyre.sp.ui.EditProfileView.prototype.getByTag=function(a){return this.$el.findElementsByTagNameAndClass(a)};
fyre.sp.ui.EditProfileView.prototype.getFileInput=function(){return this.$el.findElementByClass(fyre.sp.ui.EditProfileView.CLASSES.IMAGE_INPUT)};fyre.sp.ui.EditProfileView.prototype.getCheckboxInput=function(){return this.$el.findElementByClass(fyre.sp.ui.EditProfileView.CLASSES.AUTO_FOLLOW_INPUT)};
fyre.sp.ui.EditProfileView.prototype.handleInputsChanged=function(a){if(a.currentTarget.type!==goog.events.EventType.SUBMIT){var b=fyre.sp.ui.EditProfileView.CLASSES;a.preventDefault();this.active_tab.findElementByClass(b.CLOSE_WRAPPER).addClass(b.HIDDEN);this.active_tab.findElementByClass(b.SAVE_WRAPPER).removeClass(b.HIDDEN)}};
fyre.sp.ui.EditProfileView.prototype.handleFormSubmit=function(a){var b=this.getDisplayNameInput().element.value;this.active_tab.findElementByClass(fyre.sp.ui.EditProfileView.CLASSES.DISPLAY_NAME_FORM).element.value=b;this.validator=goog.object.get(this.validator_set,this.getForm().attr("name"));fyre.sp.ui.EditProfileView.superClass_.handleFormSubmit.call(this,a)};
fyre.sp.ui.EditProfileView.prototype.handleFormSubmitSuccess=function(a){a=fyre.sp.ui.EditProfileView.CLASSES;this.active_tab.findElementByClass(a.SAVE_WRAPPER).addClass(a.HIDDEN);this.active_tab.findElementByClass(a.CLOSE_WRAPPER).removeClass(a.HIDDEN);this.active_tab.findElementByClass(a.SAVE_MSG).html("Save Successful!")};
fyre.sp.ui.EditProfileView.prototype.handleTabClick=function(a){var b=fyre.dom(a.target),c=b.parent(),b=b.attr("name"),d=fyre.sp.ui.EditProfileView.CLASSES;a.preventDefault();c.hasClass(d.ACTIVE)||(c.siblings().removeClass(d.ACTIVE),c.addClass(d.ACTIVE),this.$el.findElementsByClass(d.TAB_CONTENT).hide(),this.active_tab=this.$el.findElementByClass("fyre-cp-edit-tab-"+b),this.active_tab.show("block"))};
fyre.sp.ui.EditProfileView.prototype.toggleDisableForm=function(){var a=!1;return function(b){a=b||!a;goog.dom.forms.setDisabled(this.getForm().element,a)}}();fyre.sp.ui.EditProfileView.prototype.handleEditDisplayName=function(a){a.preventDefault();this.getDisplayName().hide();this.getDisplayNameInput().show("block")};
fyre.sp.ui.EditProfileView.prototype.handleGetComplete=function(){this.render();this.toggleDisableForm(!1);this.getLoader().hide();this.getCommentCount().show();this.getLikeCount().show();this.reposition()};fyre.sp.ui.EditProfileView.prototype.handleGetFailure=function(){this.close()};
fyre.sp.ui.EditProfileView.prototype.registerControls=function(){var a=this.getDisplayNameEditLink();this.popupType()==fyre.ui.Window&&this.registerControl(this.getBackButton(),goog.events.EventType.CLICK,this.close);a&&this.registerControl(this.getDisplayNameEditLink(),goog.events.EventType.CLICK,this.handleEditDisplayName);this.registerControl(this.getTabButtons().all(),goog.events.EventType.CLICK,this.handleTabClick);this.registerControl(this.getForms().all(),goog.events.EventType.SUBMIT,this.handleFormSubmit);
this.registerControl(this.getCancelButtons().all(),goog.events.EventType.CLICK,this.handleFormCancel);this.registerFocusEvents_();this.registerChangeEvents_();this.registerValidators_()};fyre.sp.ui.EditProfileView.prototype.registerFocusEvents_=function(){var a=this.getByTag("input").all(),b=this.getByTag("textarea").all(),c=this.getByTag("select").all(),a=goog.array.concat(a,b,c);this.registerControl(a,goog.events.EventType.FOCUS,this.handleInputsChanged)};
fyre.sp.ui.EditProfileView.prototype.registerChangeEvents_=function(){var a=[];this.isMobile||a.push(this.getFileInput());a.push(this.getCheckboxInput());this.registerControl(a,goog.events.EventType.CHANGE,this.handleInputsChanged)};fyre.sp.ui.EditProfileView.prototype.registerValidators_=function(){this.validator_set={};goog.array.forEach(this.getForms().all(),function(a){this.validator_set[a.name]=new fyre.forms.validate(fyre.dom(a))},this)};
fyre.sp.ui.EditProfileView.prototype.prepareErrors=function(a){var b=[],c=a.errors.displayName;goog.isArray(c)&&(goog.object.remove(a.errors,"displayName"),b.push([this.getDisplayNameInput(),c[0]]));goog.array.extend(b,fyre.sp.ui.EditProfileView.superClass_.prepareErrors.call(this,a));return b};fyre.sp.widget.EditProfileWidget=function(a,b){fyre.sp.widget.ProfileWidgetBase.call(this,a,b)};goog.inherits(fyre.sp.widget.EditProfileWidget,fyre.sp.widget.ProfileWidgetBase);fyre.sp.widget.EditProfileWidget.prototype.getView=function(a){this.profile=a.profile||new fyre.sp.model.Profile;return new fyre.sp.ui.EditProfileView(this.messenger,{model:this.profile,el:a.el})};fyre.sp.app.MobileProfile=function(a){fyre.sp.app.ProfileBase.call(this,a)};goog.inherits(fyre.sp.app.MobileProfile,fyre.sp.app.ProfileBase);fyre.sp.app.MobileProfile.prototype.initialize=function(a){var b=this.AUTH_TYPES,c=this.setAuthType(a.type);fyre.sp.app.MobileProfile.superClass_.initialize.call(this,a);c===b.REDIRECT?this.initRedirectAuth_():this.initWindowAuth_()};
fyre.sp.app.MobileProfile.prototype.initRedirectAuth_=function(){this.viewProfileWidget=new fyre.sp.widget.LocationWidget(this.messenger,{url:goog.bind(this.viewProfileHandler_,this),openOn:[fyre.sp.events.PROFILE_GET_INIT]});this.editProfileWidget=new fyre.sp.widget.LocationWidget(this.messenger,{url:goog.bind(this.editProfileHandler_,this),openOn:[fyre.sp.events.PROFILE_EDIT_INIT],pollWindow:!1});window.history.replaceState&&window.history.replaceState({},document.title,window.location.href)};
fyre.sp.app.MobileProfile.prototype.initWindowAuth_=function(){this.viewProfileWidget=new fyre.sp.widget.WindowWidget(this.messenger,{url:function(a){var b=new goog.Uri(fyre.sp.config.servers.profile+"/pages/profile/");goog.isString(a)&&b.setQueryData("id="+a);return b.toString()},windowOpts:{target:"_blank"},openOn:[fyre.sp.events.PROFILE_GET_INIT]});this.editProfileWidget=new fyre.sp.widget.WindowWidget(this.messenger,{url:fyre.sp.config.servers.profile+"/pages/profile/edit/",windowOpts:{target:"_blank"},
openOn:[fyre.sp.events.PROFILE_EDIT_INIT],onClose:fyre.sp.events.LOGIN_BY_COOKIE,pollWindow:!0})};fyre.sp.app.MobileProfile.prototype.NAME="fyre.sp.app.MobileProfile";fyre.sp.app.MobileProfile.prototype.viewProfileHandler_=function(a){var b=new goog.Uri(fyre.sp.config.servers.profile+"/pages/profile/"),c=this.getQueryData_();goog.isString(a)&&goog.object.extend(c,{id:a});b.setQueryData(goog.Uri.QueryData.createFromMap(c));return b.toString()};
fyre.sp.app.MobileProfile.prototype.editProfileHandler_=function(){var a=new goog.Uri(fyre.sp.config.servers.profile+"/pages/profile/edit/"),b=this.getQueryData_();a.setQueryData(goog.Uri.QueryData.createFromMap(b));return a.toString()};fyre.sp.app.MobileProfile.prototype.getQueryData_=function(){var a={};window.history.replaceState||(a.next=fyre.util.base64.encodeString(window.location));return a};
fyre.sp.app.ProfilePage=function(a){var b,c,d,e=new fyre.sp.model.Profile;fyre.sp.app.ProfileBase.call(this,a);this.controller=a.profileController||new fyre.sp.controller.ProfileController(this.messenger,{model:e});switch(this.opts.app){case "view":b=fyre.sp.widget.ProfileWidget;c=fyre.sp.events.PROFILE_GET_INIT;d=this.opts.id;break;case "edit":b=fyre.sp.widget.EditProfileWidget;c=fyre.sp.events.PROFILE_EDIT_INIT;break;case "complete":b=fyre.sp.widget.CompleteProfileWidget;c=fyre.sp.events.PROFILE_COMPLETE_INIT;
d=this.opts.token;break;case "create":b=fyre.sp.widget.CreateProfileWidget;c=fyre.sp.events.PROFILE_CREATE_INIT;this.opts.style={height:"270px"};break;default:goog.asserts.fail("Wrong app",a.app)}this.el=this.opts.el;a=fyre.util.browser.isMobile()?new fyre.ui.Window(window):new fyre.sp.ui.Iframe(this.opts);this.widget=new b(this.messenger,{profileController:this.controller,profile:e,viewDecorator:a});this.messenger.trigger(fyre.sp.events.READY);this.messenger.subscribe(fyre.sp.events.DOM_READY,this.handleDomReady,
this);this.messenger.trigger(c,d);this.poll()};goog.inherits(fyre.sp.app.ProfilePage,fyre.sp.app.ProfileBase);goog.exportSymbol("fyre.sp.app.ProfilePage",fyre.sp.app.ProfilePage);fyre.sp.app.ProfilePage.prototype.handleDomReady=function(){this.widget.decorate(this.el?document.getElementById(this.el):document.body)};fyre.sp.app.ProfilePage.prototype.isReady=function(){return this.el?document.getElementById(this.el):document.body};fyre.sp.app.ProfilePage.prototype.NAME="fyre.sp.app.ProfilePage";fyre.sp.app.BrowserProfile=function(a){fyre.sp.app.ProfileBase.call(this,a);var b=new fyre.sp.model.Profile;this.controller=a.profileController||new fyre.sp.controller.ProfileController(this.messenger,{model:b});this.viewProfileWidget=new fyre.sp.widget.ProfileWidget(this.messenger,{profileController:this.controller,profile:b,viewDecorator:fyre.ui.Dialog.getInstance(),el:this.opts.el});this.editProfileWidget=new fyre.sp.widget.IframeWidget(this.messenger,{url:fyre.sp.config.servers.profile+"/pages/profile/edit/",
el:this.opts.el,openOn:[fyre.sp.events.PROFILE_EDIT_INIT],style:{height:"563px"},viewDecorator:fyre.ui.Dialog.getInstance()})};goog.inherits(fyre.sp.app.BrowserProfile,fyre.sp.app.ProfileBase);fyre.sp.app.BrowserProfile.prototype.NAME="fyre.sp.app.BrowserProfile";fyre.sp.app.EditPasswordPage=function(a){a=this.adaptOpts(a);fyre.app.Base.call(this,a);a={viewDecorator:fyre.util.browser.isMobile()?new fyre.ui.Window(window):new fyre.sp.ui.Iframe(a),el:a.el};this.el=this.opts.el;this.editPassword=new fyre.sp.widget.EditPasswordWidget(this.messenger,a);this.messenger.trigger(fyre.sp.events.READY);this.messenger.subscribe(fyre.sp.events.DOM_READY,this.handleDomReady,this);this.poll()};goog.inherits(fyre.sp.app.EditPasswordPage,fyre.app.Base);
goog.exportSymbol("fyre.sp.app.EditPasswordPage",fyre.sp.app.EditPasswordPage);fyre.sp.app.EditPasswordPage.prototype.adaptOpts=function(a){var b={};a.el&&(b.el=a.el);a.style&&(b.style=a.style);return b};
fyre.sp.app.EditPasswordPage.prototype.handleDomReady=function(){var a=this.el?document.getElementById(this.el):document.body;this.editPassword.decorate(a);(a=goog.Uri.parse(window.location.href).getQueryData().get("token"))||this.messenger.trigger(fyre.sp.events.PW_EDIT_FAILURE);this.messenger.trigger(fyre.sp.events.PW_EDIT_INIT,a)};fyre.sp.app.EditPasswordPage.prototype.isReady=function(){return!(this.el?!document.getElementById(this.el):!document.body)};
fyre.sp.app.EditPasswordPage.prototype.NAME="fyre.sp.app.EditPasswordPage";fyre.sp.app.MobileEngage=function(a){fyre.sp.app.EngageBase.call(this,a)};goog.inherits(fyre.sp.app.MobileEngage,fyre.sp.app.EngageBase);fyre.sp.app.MobileEngage.prototype.initialize=function(a){var b=this.AUTH_TYPES,c=this.setAuthType(a.type),d=this.setUri_(a,c);fyre.sp.app.MobileEngage.superClass_.initialize.call(this,a);c===b.REDIRECT?this.initRedirectAuth_(d):this.initWindowAuth_(d);this.authByEmailVerificationToken_();this.messenger.trigger(fyre.sp.events.READY)};
fyre.sp.app.MobileEngage.prototype.authByEmailVerificationToken_=function(){var a=fyre.util.hash.get("emailVerificationToken");a&&this.messenger.trigger(fyre.sp.events.AUTH_BY_EMAIL_VERIFICATION_TOKEN,a)};fyre.sp.app.MobileEngage.prototype.initRedirectAuth_=function(a){this.engage=new fyre.sp.widget.LocationWidget(this.messenger,{url:a.toString(),openOn:[fyre.sp.events.ENGAGE_AUTH_INIT],pollWindow:!1})};
fyre.sp.app.MobileEngage.prototype.initWindowAuth_=function(a){this.engage=new fyre.sp.widget.WindowWidget(this.messenger,{url:a.toString(),windowOpts:{target:"_blank"},openOn:[fyre.sp.events.ENGAGE_AUTH_INIT],onClose:fyre.sp.events.LOGIN_BY_COOKIE,pollWindow:!0})};
fyre.sp.app.MobileEngage.prototype.setUri_=function(a,b){var c=this.AUTH_TYPES,d=new goog.Uri(fyre.sp.config.servers.profile+"/pages/auth/engage/"),e=new goog.Uri.QueryData;b===c.REDIRECT&&(a.next=fyre.util.base64.encodeString(window.location.href));e.extend(a);e.remove("events");return d.setQueryData(e)};fyre.sp.app.MobileEngage.prototype.NAME="fyre.sp.app.MobileEgage";
fyre.sp.app.PageEngage=function(a){fyre.sp.app.EngageBase.call(this,a);a=this.setWidgetOpts_();this.engage=new fyre.sp.widget.Engage(this.messenger,a);this.messenger.trigger(fyre.sp.events.READY);this.messenger.subscribe(fyre.sp.events.DOM_READY,this.handleDomReady,this);this.poll()};goog.inherits(fyre.sp.app.PageEngage,fyre.sp.app.EngageBase);goog.exportSymbol("fyre.sp.app.PageEngage",fyre.sp.app.PageEngage);
fyre.sp.app.PageEngage.prototype.setWidgetOpts_=function(){var a=this.AUTH_TYPES,b=this.setAuthType(this.opts.type),c=fyre.util.browser.isMobile(),d={app:this.opts.app,id:this.opts.id,viewDecorator:new fyre.ui.Window(window),el:document.body,followLinks:!0};c||goog.object.extend(d,{viewDecorator:new fyre.sp.ui.Iframe,followLinks:!1});b===a.REDIRECT&&c&&(d.next=this.opts.next,d.popup=!1,d.tokenAction="url",d.tokenUrl=fyre.sp.config.servers.profile+"/api/v1.0/public/profile/authenticate_redirect/"+
this.opts.next);return d};fyre.sp.app.PageEngage.prototype.handleDomReady=function(){this.engage.decorate(document.body);this.messenger.trigger(fyre.sp.events.ENGAGE_AUTH_INIT)};fyre.sp.app.PageEngage.prototype.isReady=function(){return document.body};fyre.sp.app.PageEngage.prototype.NAME="fyre.sp.app.PageEngage";fyre.sp.service={};fyre.sp.service.xpcPoller=function(){this.usingIframe=!fyre.util.browser.isMobile()};goog.inherits(fyre.sp.service.xpcPoller,goog.Disposable);
fyre.sp.service.xpcPoller.prototype.getData_=function(){var a=goog.net.cookies.get(fyre.sp.config.authCookie),b=goog.net.cookies.get(fyre.sp.config.iframeCookie);if(!b&&this.usingIframe)this.timeout_=window.setTimeout(goog.bind(this.getData_,this),200);else if(a||this.usingIframe){var c={};c.profileData=a;(c.iframeDirective=b)&&goog.net.cookies.remove(fyre.sp.config.iframeCookie,"/",fyre.sp.config.cookie_domain);this.success(c)}else this.failure()};
fyre.sp.service.xpcPoller.prototype.start=function(a,b){this.success=a;this.failure=b;this.getData_()};fyre.sp.service.xpcPoller.prototype.stop=function(){window.clearTimeout(this.timeout_)};fyre.sp.service.xpcPoller.prototype.disposeInternal=function(){this.stop();fyre.sp.service.xpcPoller.superClass_.disposeInternal.call(this)};fyre.sp.service.xpcService=function(){var a=(new goog.Uri(window.location.href)).getParameterValue("xpc"),a=goog.json.parse(a||"{}");a!=={}&&(this.xpc=new goog.net.xpc.CrossPageChannel(a),this.connected=!1,this.xpc.connect(goog.bind(function(){this.connected=!0},this)),this.xpc.registerService("get",goog.bind(this.xdrGetHandle,this)),this.xpc.registerService("abort",goog.bind(this.abort,this)))};
fyre.sp.service.xpcService.prototype.xdrGetHandle=function(a){a=goog.json.parse(a);a.url&&a.key&&(this.poller=new fyre.sp.service.xpcPoller,this.poller.start(goog.bind(this.msgHandler("success"+a.key),this),goog.bind(this.msgHandler("failure"+a.key),this)))};fyre.sp.service.xpcService.prototype.msgHandler=function(a){return goog.bind(function(b){this.connected?this.xpc.send(a,b):window.setTimeout(function(){this.msgHandler(a)(b)},60)},this)};
fyre.sp.service.xpcService.prototype.abort=function(){this.poller.dispose();this.poller=null;this.xpc.dispose()};fyre.sp.client.AuthAdapter=function(){};goog.addSingletonGetter(fyre.sp.client.AuthAdapter);
fyre.sp.client.AuthAdapter.prototype.adaptUserData=function(a){var b=a.data.entry,c=b.accessCredentials||[];a=goog.array.find(c,function(a){return"application/vnd.livefyre.user.token+jwt"===a.type});c=goog.array.find(c,function(a){return"application/vnd.lfcp.user.token+jwt"===a.type});b={avatar:goog.array.find(b.photos,function(a){return a.primary}).value,checksum:b.checksum,cookieData:b.cookieData,displayName:b.displayName,emailVerified:b.emailVerified,id:b.id,isComplete:b.isComplete};b.emailVerified&&
(b.token=a.value,b.lfcp_token=c.value);return b};fyre.sp.client.AuthClient=function(a,b){fyre.object.Communicator.call(this,a,b)};goog.inherits(fyre.sp.client.AuthClient,fyre.object.Communicator);fyre.sp.client.AuthClient.prototype.initialize=function(a){this.configureLogging("fyre.sp.client.AuthClient")};fyre.sp.client.AuthClient.prototype.getAuthUrl=function(){return fyre.sp.config.servers.profile+"/api/v1.0/public/profile/authenticate/"};
fyre.sp.client.AuthClient.prototype.authByUsername=function(a,b,c){a=a.toObject();a={username:a.username[0],password:a.password[0]};fyre.util.browser.isMobile()&&(a.redirect_url=document.referrer);this.logger.info("Username + Password Auth request");b={url:this.getAuthUrl(),method:"POST",success:b,failure:c};c=new fyre.io.XDR(b);goog.userAgent.IE&&(c=new fyre.io.Req(b));c.send(a)};
fyre.sp.client.AuthClient.prototype.authByEngageToken=function(a,b,c){this.logger.info("Engage Auth request - "+a);b={url:this.getAuthUrl(),method:"POST",success:b,failure:c};c=new fyre.io.XDR(b);goog.userAgent.IE&&fyre.sp.config.auth.LOCAL&&(c=new fyre.io.Req(b));c.send({engage_token:a})};fyre.sp.client.AuthClient.prototype.getUserByCookie=function(){var a=goog.net.cookies.get("lfsp-profile");if(goog.isString(a)&&0<a.length)return goog.json.parse(fyre.util.base64.decodeString(a))};
fyre.sp.client.AuthClient.prototype.logout=function(a,b){(new fyre.io.XDR({url:fyre.sp.config.PUBLIC_API_URL+"/profile/logout/",method:"GET",success:a,failure:b})).send({})};fyre.sp.client.AuthClient.prototype.whoAmI=function(a,b){(new fyre.io.XDR({url:fyre.sp.PUBLIC_API_URL,method:"GET",success:a,failure:b})).send({})};
fyre.sp.client.AuthClient.prototype.authByEmailVerificationToken=function(a,b,c){(new fyre.io.XDR({url:fyre.sp.config.PUBLIC_API_URL+"/profile/authenticate/email/",method:"POST",success:b,failure:c})).send({token:a})};fyre.sp.controller.AuthController=function(){fyre.controller.Controller.call(this,fyre.messenger.base)};goog.inherits(fyre.sp.controller.AuthController,fyre.controller.Controller);goog.addSingletonGetter(fyre.sp.controller.AuthController);
fyre.sp.controller.AuthController.prototype.initialize=function(a){this.subscribe(fyre.sp.events.AUTH_LOGIN_INIT,this.authByUsername);this.subscribe(fyre.sp.events.AUTH_LOGOUT_INIT,this.doLogout);this.subscribe(fyre.sp.events.AUTH_LOGOUT_SUCCESS,this.handleLogoutSuccess);this.subscribe(fyre.sp.events.AUTH_LOGOUT_FAILURE,this.handleLogoutFailure);this.subscribe(fyre.sp.events.LOGIN_BY_COOKIE,this.loginByCookie);this.subscribe(fyre.sp.events.AUTH_SET_COOKIE,this.setAuthCookie);this.subscribe(fyre.sp.events.PW_EDIT_SUCCESS,
goog.partial(this.handleLoginSuccess,!1));this.subscribe(fyre.sp.events.AUTH_BY_EMAIL_VERIFICATION_TOKEN,this.handleAuthByEmailVerificationToken);this.authClient=new fyre.sp.client.AuthClient(this.messenger);this.xpcClient=new fyre.client.XpcClient.getInstance;this.adapter=new fyre.sp.client.AuthAdapter.getInstance;this.configureLogging("fyre.sp.controller.AuthController")};fyre.sp.controller.AuthController.prototype.getUserByCookie=function(a){return!a&&this.user?this.user:this.user=this.authClient.getUserByCookie()};
fyre.sp.controller.AuthController.prototype.loginByCookie=function(a){if(goog.net.cookies.get(fyre.sp.config.mobileAuthTriggerCookie))this.triggerMobileAuth();else{var b=this.getUserByCookie(!0);b&&(a||this).trigger(fyre.sp.events.AUTH_LOGIN_COMPLETE,b)}};fyre.sp.controller.AuthController.prototype.authByEngageToken=function(a){this.authClient.authByEngageToken(a,goog.bind(this.handleLoginSuccess,this,!0),goog.bind(this.handleLoginFailure,this))};
fyre.sp.controller.AuthController.prototype.authByUsername=function(a){this.authClient.authByUsername(a,goog.bind(this.handleLoginSuccess,this,!0),goog.bind(this.handleLoginFailure,this))};fyre.sp.controller.AuthController.prototype.trigger=function(){this.messenger.triggerAll.apply(this.messenger,arguments)};
fyre.sp.controller.AuthController.prototype.handleLoginSuccess=function(a,b){var c=this.adapter.adaptUserData(b);c.isComplete?c.emailVerified?(this.setAuthCookie(c.cookieData),this.trigger(fyre.sp.events.AUTH_LOGIN_COMPLETE,c),a&&this.trigger(fyre.sp.events.ENGAGE_CLOSE,c)):this.handleEmailVerificationInit_():this.handleProfileCompleteInit_(c)};
fyre.sp.controller.AuthController.prototype.handleProfileCompleteInit_=function(a){this.trigger(fyre.sp.events.ENGAGE_CLOSE,a);goog.userAgent.IE&&fyre.sp.config.auth.LOCAL||this.trigger(fyre.sp.events.PROFILE_COMPLETE_INIT,a.lfcp_token)};
fyre.sp.controller.AuthController.prototype.handleEmailVerificationInit_=function(){if(fyre.util.browser.isMobile()){var a="?next="+(new goog.Uri(window.location)).getQueryData().get("next");window.location.href=fyre.sp.config.servers.profile+"/pages/email_verification/"+a}else this.trigger(fyre.sp.events.EMAIL_VERIFICATION_INIT)};fyre.sp.controller.AuthController.prototype.handleLoginFailure=function(a){this.trigger(fyre.sp.events.AUTH_LOGIN_FAILURE,a)};
fyre.sp.controller.AuthController.prototype.setAuthCookie=function(a){goog.net.cookies.get(fyre.sp.config.authCookie)||goog.net.cookies.set(fyre.sp.config.authCookie,a,fyre.sp.config.authCookieMaxAge,"/")};fyre.sp.controller.AuthController.prototype.setMobileAuthTriggerCookie=function(){goog.net.cookies.set(fyre.sp.config.mobileAuthTriggerCookie,"true")};
fyre.sp.controller.AuthController.prototype.triggerMobileAuth=function(){this.xpcClient.initXpc(fyre.sp.config.servers.profile+"/pages/xdreceiver.html",goog.bind(this.mobileAuthSuccessHandler,this),goog.bind(this.mobileAuthFailureHandler,this))};fyre.sp.controller.AuthController.prototype.mobileAuthSuccessHandler=function(a){a=a.profileData;goog.net.cookies.remove(fyre.sp.config.mobileAuthTriggerCookie);a&&(this.setAuthCookie(a),this.loginByCookie())};
fyre.sp.controller.AuthController.prototype.mobileAuthFailureHandler=function(){goog.net.cookies.remove(fyre.sp.config.mobileAuthTriggerCookie)};fyre.sp.controller.AuthController.prototype.doLogout=function(){this.authClient.logout(goog.bind(this.handleLogoutSuccess,this),goog.bind(this.handleLogoutFailure,this))};fyre.sp.controller.AuthController.prototype.handleLogoutSuccess=function(){goog.net.cookies.remove(fyre.sp.config.authCookie,"/");this.trigger(fyre.sp.events.AUTH_LOGOUT_COMPLETE)};
fyre.sp.controller.AuthController.prototype.handleLogoutFailure=function(){goog.net.cookies.remove(fyre.sp.config.authCookie,"/")};fyre.sp.controller.AuthController.prototype.handleAuthByEmailVerificationToken=function(a){this.authClient.authByEmailVerificationToken(a,goog.bind(this.handleLoginSuccess,this,!1),goog.nullFunction)};fyre.sp.ENTRYPOINT={};fyre.sp.authController=fyre.sp.controller.AuthController.getInstance();fyre.sp.subscriptionHandlers={};fyre.sp.subscriptionHandlers[fyre.sp.events.AUTH_LOGIN_COMPLETE]=function(a,b){var c=fyre.sp.authController.getUserByCookie();c&&a.call(b,c)};fyre.sp.on=function(a,b,c){fyre.messenger.base.subscribe(a,b,c);if(a in fyre.sp.subscriptionHandlers)fyre.sp.subscriptionHandlers[a](b,c)};goog.exportSymbol("fyre.sp.on",fyre.sp.on);
fyre.sp.off=function(a,b,c){fyre.messenger.base.unsubscribe(a,b,c);a in fyre.sp.subscriptionHandlers&&delete fyre.sp.subscriptionHandlers[a]};goog.exportSymbol("fyre.sp.off",fyre.sp.off);fyre.sp.load={};fyre.util.browser.isMobile()?(fyre.sp.app.Profile=fyre.sp.app.MobileProfile,fyre.sp.app.Engage=fyre.sp.app.MobileEngage,fyre.util.loadCSS(fyre.sp.config.assetUrl("css/mobile.css"))):(fyre.sp.app.Profile=fyre.sp.app.BrowserProfile,fyre.sp.app.Engage=fyre.sp.app.BrowserEngage,fyre.util.loadCSS(fyre.sp.config.assetUrl("css/sp.css")));goog.exportSymbol("fyre.sp.app.Profile",fyre.sp.app.Profile);goog.exportProperty(fyre.sp.app.Profile.prototype,"editProfile",fyre.sp.app.Profile.prototype.editProfile);
goog.exportProperty(fyre.sp.app.Profile.prototype,"viewProfile",fyre.sp.app.Profile.prototype.viewProfile);goog.exportSymbol("fyre.sp.app.Engage",fyre.sp.app.Engage);goog.exportProperty(fyre.sp.app.Engage.prototype,"signIn",fyre.sp.app.Engage.prototype.signIn);goog.exportProperty(fyre.sp.app.Engage.prototype,"signOut",fyre.sp.app.Engage.prototype.signOut);goog.exportSymbol("goog.exportSymbol",goog.exportSymbol);})(fyre,{});
fyre.sp.templates.editpasswordexpired=fyre.lib.Handlebars.template(function(a,d,e,b,c){this.compilerInfo=[3,">= 1.0.0-rc.4"];e=e||a.helpers;c=c||{};var g,k=e.helperMissing;a=this.escapeExpression;b={hash:{},data:c};b='<header class="fyre-cp-modal-header">\n    Reset password\n    <img src="'+(a((g=e.media_url,g?g.call(d,"images/techcrunch/logo.png",b):k.call(d,"media_url","images/techcrunch/logo.png",b)))+'" align="right" alt="TechCrunch" />\n</header>\n<section class="fyre-cp-one-column">\n    <p class="fyre-cp-reset-pw-expired">\n        The link you clicked to reset your password has expired.\n        Reset your password again, and we\'ll send you a new link.\n    </p>\n    <div class="fyre-cp-form-btns">\n        <a href="');
(e=e.signInLink)?e=e.call(d,{hash:{},data:c}):(e=d.signInLink,e="function"===typeof e?e.apply(d):e);return b+=a(e)+'" title="Sign in" class="fyre-cp-link-sign-in">Sign in</a>\n        <input type="button" value="Start Over" class="fyre-cp-form-submit-btn" />\n    </div>\n</section>\n'});goog.exportSymbol("fyre.sp.templates.editpasswordexpired",fyre.sp.templates.editpasswordexpired);fyre.sp.templates.editpasswordsuccess=fyre.lib.Handlebars.template(function(a,d,e,b,c){this.compilerInfo=[3,">= 1.0.0-rc.4"];e=e||a.helpers;c=c||{};var g;a=e.helperMissing;b=this.escapeExpression;c={hash:{},data:c};return d='<header class="fyre-cp-modal-header">\n    Reset password\n    <img src="'+(b((g=e.media_url,g?g.call(d,"images/techcrunch/logo.png",c):a.call(d,"media_url","images/techcrunch/logo.png",c)))+'" align="right" alt="TechCrunch" />\n</header>\n<section class="fyre-cp-one-column">\n    <p class="fyre-cp-edit-pw-success">\n        Success! Your password has been changed, and you are now logged in\n    </p>\n    <div class="fyre-cp-form-btns">\n        <input type="button" value="Done" class="fyre-cp-form-submit-btn" />\n    </div>\n</section>')});
goog.exportSymbol("fyre.sp.templates.editpasswordsuccess",fyre.sp.templates.editpasswordsuccess);fyre.sp.templates.editpasswordform=fyre.lib.Handlebars.template(function(a,d,e,b,c){this.compilerInfo=[3,">= 1.0.0-rc.4"];e=e||a.helpers;c=c||{};var g,k=e.helperMissing;a=this.escapeExpression;b={hash:{},data:c};b='<header class="fyre-cp-modal-header">\n    Reset password\n    <img src="'+(a((g=e.media_url,g?g.call(d,"images/techcrunch/logo.png",b):k.call(d,"media_url","images/techcrunch/logo.png",b)))+'" align="right" alt="TechCrunch" />\n</header>\n<section class="fyre-cp-one-column fyre-cp-edit-pw">\n    <form class="fyre-cp-form">\n        <input type="hidden" name="token" value="');
(e=e.token)?e=e.call(d,{hash:{},data:c}):(e=d.token,e="function"===typeof e?e.apply(d):e);return b+=a(e)+'" />\n        <label for="password">New Password *</label>\n        <input type="password" id="fyrePassword" name="password" class="fyre-cp-input-password" data-fyre-validate="required minlength-6 maxlength-32" />\n        <label for="password_dup">New Password * <span>(again)</label>\n        <input type="password" name="password_dup" class="fyre-cp-input-password_dup" data-fyre-validate="required matches-password-fyrePassword" />\n        <footer class="fyre-cp-form-btns">\n            <input type="submit" value="Change Password" class="fyre-cp-form-submit-btn" />\n        </footer>\n    </form>\n</section>\n'});
goog.exportSymbol("fyre.sp.templates.editpasswordform",fyre.sp.templates.editpasswordform);fyre.sp.templates.login=fyre.lib.Handlebars.template(function(a,d,e,b,c){this.compilerInfo=[3,">= 1.0.0-rc.4"];e=e||a.helpers;c=c||{};var g,k=e.helperMissing,h=this.escapeExpression;a={hash:{},data:c};a='<div class="fyre-cp-login">\n    <header class="fyre-cp-modal-header">\n        Sign in with\n        <img src="'+(h((g=e.media_url,g?g.call(d,"images/techcrunch/logo.png",a):k.call(d,"media_url","images/techcrunch/logo.png",a)))+'" align="right" alt="TechCrunch" />\n    </header>\n    <section>\n        ');
if((g=e["if"].call(d,d.socialAuth,{hash:{},inverse:this.noop,fn:this.program(1,function(a,d){var b,c;b={hash:{},data:d};return b="\n            "+(h((c=e.include,c?c.call(a,"fyre.sp.templates.engage",b):k.call(a,"include","fyre.sp.templates.engage",b)))+"\n        ")},c),data:c}))||0===g)a+=g;a+="\n        ";if((g=e["if"].call(d,d.localAuth,{hash:{},inverse:this.noop,fn:this.program(3,function(a,d){var b,c;b={hash:{},data:d};return b="\n            "+(h((c=e.include,c?c.call(a,"fyre.sp.templates.locallogin",
b):k.call(a,"include","fyre.sp.templates.locallogin",b)))+"\n        ")},c),data:c}))||0===g)a+=g;return a+="\n    </section>\n</div>"});goog.exportSymbol("fyre.sp.templates.login",fyre.sp.templates.login);fyre.sp.templates.mobilelogin=fyre.lib.Handlebars.template(function(a,d,e,b,c){this.compilerInfo=[3,">= 1.0.0-rc.4"];e=e||a.helpers;c=c||{};var g,k=e.helperMissing,h=this.escapeExpression;a={hash:{},data:c};a='<div class="fyre-cp-login">\n    <header class="fyre-cp-modal-header">\n        Sign in with\n        <img src="'+(h((g=e.media_url,g?g.call(d,"images/techcrunch/logo.png",a):k.call(d,"media_url","images/techcrunch/logo.png",a)))+'" align="right" alt="TechCrunch" />\n    </header>\n    ');if((g=
e["if"].call(d,d.showNav,{hash:{},inverse:this.noop,fn:this.program(1,function(a,d){return'\n    <nav class="fyre-cp-mobile-nav">\n        <ul class="fyre-cp-mobile-tabs">\n            <li class="fyre-cp-active">\n                <a name="social" class="fyre-cp-mobile-tab">Social Account</a>\n            </li>\n            <li>\n                <a name="local" class="fyre-cp-mobile-tab">TechCrunch Account</a>\n            </li>\n        </ul>\n    </nav>\n    '},c),data:c}))||0===g)a+=g;a+="\n    <section>\n        ";
if((g=e["if"].call(d,d.socialAuth,{hash:{},inverse:this.noop,fn:this.program(3,function(a,d){var b,c;b={hash:{},data:d};return b='\n            <section class="fyre-cp-mobile-tab-content fyre-cp-mobile-tab-social">\n                '+(h((c=e.include,c?c.call(a,"fyre.sp.templates.engage",b):k.call(a,"include","fyre.sp.templates.engage",b)))+"\n            </section>\n        ")},c),data:c}))||0===g)a+=g;a+="\n        ";if((g=e["if"].call(d,d.localAuth,{hash:{},inverse:this.noop,fn:this.program(5,function(a,
d){var b,c;b={hash:{},data:d};return b='\n            <section class="fyre-cp-edit-tab-content fyre-cp-mobile-tab-local fyre-cp-hidden">\n                '+(h((c=e.include,c?c.call(a,"fyre.sp.templates.locallogin",b):k.call(a,"include","fyre.sp.templates.locallogin",b)))+"\n            </section>\n        ")},c),data:c}))||0===g)a+=g;return a+="\n    </section>\n</div>"});goog.exportSymbol("fyre.sp.templates.mobilelogin",fyre.sp.templates.mobilelogin);fyre.sp.templates.engage=fyre.lib.Handlebars.template(function(a,d,e,b,c){this.compilerInfo=[3,">= 1.0.0-rc.4"];e=e||a.helpers;c=c||{};b=this.escapeExpression;a='<div class="fyre-login">\n    <div id="';(e=e.engageDivId)?e=e.call(d,{hash:{},data:c}):(e=d.engageDivId,e="function"===typeof e?e.apply(d):e);return a+=b(e)+'"></div>\n    <div class="fyre-tos">\n        By logging in, you agree to TechCrunch\'s <a href="http://legal.aol.com/TOS/" target="_blank">Terms of Service</a>\n    </div>\n</div>'});
goog.exportSymbol("fyre.sp.templates.engage",fyre.sp.templates.engage);fyre.sp.templates.locallogin=fyre.lib.Handlebars.template(function(a,d,e,b,c){this.compilerInfo=[3,">= 1.0.0-rc.4"];e=e||a.helpers;c=c||{};var g=this.escapeExpression;a='<section class="fyre-cp-local-login">\n    <form class="fyre-cp-form">\n        <header class="fyre-cp-form-header">Your TechCrunch account</header>\n        <label for="username">Username</label>\n        <input type="text" name="username" class="fyre-cp-input-username" data-fyre-validate="required" tabindex="1"/>\n        <label for="password">Password <a href="';
(b=e.forgotPwUrl)?b=b.call(d,{hash:{},data:c}):(b=d.forgotPwUrl,b="function"===typeof b?b.apply(d):b);a+=g(b)+'" class="fyre-cp-link-forgot" title="Forgot password?">Forgot?</a></label>\n        <input type="password" name="password" class="fyre-cp-input-password" data-fyre-validate="required" tabindex="2"/>\n        <footer class="fyre-cp-form-btns">\n            <a href="';(b=e.createAccountUrl)?b=b.call(d,{hash:{},data:c}):(b=d.createAccountUrl,b="function"===typeof b?b.apply(d):b);return a+=g(b)+
'" class="fyre-cp-link-create" title="Create Account">Create Account</a>\n            <input class="fyre-cp-form-submit-btn" type="submit" value="Sign in" tabindex="3"/>\n        </footer>\n    </form>\n</section>'});goog.exportSymbol("fyre.sp.templates.locallogin",fyre.sp.templates.locallogin);fyre.sp.templates.resetpasswordemailform=fyre.lib.Handlebars.template(function(a,d,e,b,c){this.compilerInfo=[3,">= 1.0.0-rc.4"];e=e||a.helpers;c=c||{};var g,k=e.helperMissing;a=this.escapeExpression;b={hash:{},data:c};b='<header class="fyre-cp-modal-header">\n    Reset password\n    <img src="'+(a((g=e.media_url,g?g.call(d,"images/techcrunch/logo.png",b):k.call(d,"media_url","images/techcrunch/logo.png",b)))+'" align="right" alt="TechCrunch" />\n</header>\n<section class="fyre-cp-one-column">\n    <p>\n        Forgot your password? Enter your username or email address below, \n        and we\'ll send you a link to change your password.\n    </p>\n    <form class="fyre-cp-form">\n        <label for="username">Username or Email Address *</label>\n        <input type="text" name="username" class="fyre-cp-input-username" data-fyre-validate="required" />\n        <input type="hidden" name="resetUrl" value="');
(e=e.resetUrl)?e=e.call(d,{hash:{},data:c}):(e=d.resetUrl,e="function"===typeof e?e.apply(d):e);return b+=a(e)+'" />\n        <footer class="fyre-cp-form-btns">\n            <input type="button" class="fyre-cp-form-back-btn" value="Back"></a>\n            <input type="submit" value="Reset" class="fyre-cp-form-submit-btn" />\n        </footer>\n    </form>\n</section>\n'});goog.exportSymbol("fyre.sp.templates.resetpasswordemailform",fyre.sp.templates.resetpasswordemailform);fyre.sp.templates.resetpasswordemailsuccess=fyre.lib.Handlebars.template(function(a,d,e,b,c){this.compilerInfo=[3,">= 1.0.0-rc.4"];e=e||a.helpers;c=c||{};var g;a=e.helperMissing;b=this.escapeExpression;c={hash:{},data:c};return d='<header class="fyre-cp-modal-header">\n    Reset password email sent\n    <img src="'+(b((g=e.media_url,g?g.call(d,"images/techcrunch/logo.png",c):a.call(d,"media_url","images/techcrunch/logo.png",c)))+'" align="right" alt="TechCrunch" />\n</header>\n<section class="fyre-cp-one-column">\n    <p class="fyre-cp-reset-pw-success">\n        Email sent! Check your inbox for a link to reset your password\n    </p>\n    <div class="fyre-cp-form-btns">\n        <input type="button" value="Close" class="fyre-cp-form-submit-btn" />\n    </div>\n</section>')});
goog.exportSymbol("fyre.sp.templates.resetpasswordemailsuccess",fyre.sp.templates.resetpasswordemailsuccess);fyre.sp.templates.viewprofile=fyre.lib.Handlebars.template(function(a,d,e,b,c){function g(a,d){var b,c;b={hash:{},data:d};b='\n                <div class="fyre-profile-comment">\n                    <div class="fyre-profile-comment-text">\n                        '+(h((c=e.partial_text,c?c.call(a,a.body_plain,b):f.call(a,"partial_text",a.body_plain,b)))+'\n                    </div>\n                    <div class="fyre-profile-comment-footer">\n                        Posted '+h((c=(c=a.created_at,
null==c||!1===c?c:c.calculated_time),"function"===typeof c?c.apply(a):c))+' on <a href="');(c=e.url)?c=c.call(a,{hash:{},data:d}):(c=a.url,c="function"===typeof c?c.apply(a):c);b+=h(c)+'" target="_blank">';(c=e.conv_title)?c=c.call(a,{hash:{},data:d}):(c=a.conv_title,c="function"===typeof c?c.apply(a):c);return b+=h(c)+"</a>\n                    </div>\n                </div>\n            "}this.compilerInfo=[3,">= 1.0.0-rc.4"];e=e||a.helpers;c=c||{};var k,h=this.escapeExpression,f=e.helperMissing,
l=this;b={hash:{},data:c};a='\x3c!-- view profile template --\x3e\n<div class="fyre-profile">\n    <span class="fyre-cp-back-button"></span>\n    <header class="fyre-cp-modal-header">\n        <img src="'+(h((k=e.media_url,k?k.call(d,"images/techcrunch/logo.png",b):f.call(d,"media_url","images/techcrunch/logo.png",b)))+'" align="right" alt="TechCrunch" />\n    </header>\n    <section class="fyre-profile-section">\n        ');if((b=e["if"].call(d,d.avatar,{hash:{},inverse:l.noop,fn:l.program(1,function(a,
d){var c,b;c='\n        <img src="';(b=e.avatar)?b=b.call(a,{hash:{},data:d}):(b=a.avatar,b="function"===typeof b?b.apply(a):b);c+=h(b)+'" class="fyre-profile-avatar" alt="';(b=e.username)?b=b.call(a,{hash:{},data:d}):(b=a.username,b="function"===typeof b?b.apply(a):b);return c+=h(b)+'" />\n        '},c),data:c}))||0===b)a+=b;a+='\n        <h2 class="fyre-profile-displayname">\n            <span>';(b=e.displayName)?b=b.call(d,{hash:{},data:c}):(b=d.displayName,b="function"===typeof b?b.apply(d):b);
a+=h(b)+'</span>\n            <img class="fyre-loader" src="';b={hash:{},data:c};a+=h((k=e.media_url,k?k.call(d,"images/default/loader.gif",b):f.call(d,"media_url","images/default/loader.gif",b)))+'" alt="Loading" />\n        </h2>\n        <p class="fyre-profile-user-comments">\n            <span>';b={hash:{},data:c};a+=h((k=e["default"],k?k.call(d,(k=d.comments,null==k||!1===k?k:k.user_comment_count),0,b):f.call(d,"default",(k=d.comments,null==k||!1===k?k:k.user_comment_count),0,b)))+'</span> Comments\n        </p>\n        <p class="fyre-profile-user-likes">\n            <span>';
b={hash:{},data:c};a+=h((k=e["default"],k?k.call(d,(k=d.comments,null==k||!1===k?k:k.user_liked_count),0,b):f.call(d,"default",(k=d.comments,null==k||!1===k?k:k.user_liked_count),0,b)))+'</span> Likes\n        </p>\n    </section>\n    <article class="fyre-profile-body">\n        <aside class="fyre-profile-bio">\n            ';if((b=e["if"].call(d,d.currentLocation,{hash:{},inverse:l.noop,fn:l.program(3,function(a,b){var d,c;d='\n            <span class="fyre-profile-location-pin"></span>\n            <strong>';
(c=e.displayName)?c=c.call(a,{hash:{},data:b}):(c=a.displayName,c="function"===typeof c?c.apply(a):c);d+=h(c)+" is from ";(c=e.currentLocation)?c=c.call(a,{hash:{},data:b}):(c=a.currentLocation,c="function"===typeof c?c.apply(a):c);return d+=h(c)+"</strong>\n            "},c),data:c}))||0===b)a+=b;a+='\n            <p class="fyre-profile-bio-text">\n                ';b={hash:{},data:c};a+=h((k=e.partial_text,k?k.call(d,d.aboutMe,b):f.call(d,"partial_text",d.aboutMe,b)))+'\n            </p>\n        </aside>\n        <div class="fyre-profile-comments-header">Recent Comments</div>\n        ';
if((b=e["if"].call(d,(k=d.comments,null==k||!1===k?k:k.recent_comments),{hash:{},inverse:l.program(8,function(a,c){var d,b;d={hash:{},data:c};return d='\n            <div class="fyre-profile-comment">\n                <div class="fyre-profile-comment-text">\n                    <p>'+(h((b=e["default"],b?b.call(a,a.username,"This user",d):f.call(a,"default",a.username,"This user",d)))+" hasn't left any comments.</p>\n                </div>\n            </div>\n        ")},c),fn:l.program(5,function(a,
c){var d,b,f;d='\n            <div class="fyre-profile-comment-wrapper">\n            ';if((f=e.each.call(a,(b=a.comments,null==b||!1===b?b:b.recent_comments),{hash:{},inverse:l.noop,fn:l.program(6,g,c),data:c}))||0===f)d+=f;return d+"\n            </div>\n        "},c),data:c}))||0===b)a+=b;return a+='\n    </article>\n    <footer class="fyre-profile-footer">\n        <span class="fyre-powered-by">powered by</span>\n    </footer>\n</div>\n'});goog.exportSymbol("fyre.sp.templates.viewprofile",fyre.sp.templates.viewprofile);fyre.sp.templates.completeprofile=fyre.lib.Handlebars.template(function(a,d,e,b,c){this.compilerInfo=[3,">= 1.0.0-rc.4"];e=e||a.helpers;c=c||{};var g,k=this.escapeExpression,h=e.helperMissing;a='<span class="fyre-cp-back-button"></span>\n<header class="fyre-cp-modal-header">\n    Complete ';(b=e.providerName)?b=b.call(d,{hash:{},data:c}):(b=d.providerName,b="function"===typeof b?b.apply(d):b);a+=k(b)+' account\n    <img src="';g={hash:{},data:c};a+=k((b=e.media_url,b?b.call(d,"images/techcrunch/logo.png",
g):h.call(d,"media_url","images/techcrunch/logo.png",g)))+'" align="right" alt="TechCrunch" />\n</header>\n<section class="fyre-cp-two-column fyre-cp-profile-create">\n    <form class="fyre-cp-form" enctype="multipart/form-data" method="post">\n        <input type="hidden" name="token" value="';(b=e.token)?b=b.call(d,{hash:{},data:c}):(b=d.token,b="function"===typeof b?b.apply(d):b);a+=k(b)+'" />\n        <ul>\n            <li>\n                <label for="username">Username *</label>\n                <input type="text" name="displayName" class="fyre-cp-input-displayname" value="';
(b=e.displayName)?b=b.call(d,{hash:{},data:c}):(b=d.displayName,b="function"===typeof b?b.apply(d):b);a+=k(b)+'" data-fyre-validate="required" />\n            </li>\n            ';if((b=e.unless.call(d,d.is_mobile,{hash:{},inverse:this.noop,fn:this.program(1,function(a,d){var c,b;c='\n            <li class="fyre-cp-profile-avatar">\n                <label for="avatar">\n                    <img src="';(b=e.avatar)?b=b.call(a,{hash:{},data:d}):(b=a.avatar,b="function"===typeof b?b.apply(a):b);return c+=
k(b)+'" />\n                    <a class="fyre-cp-profile-avatar-change">Change avatar</a>\n                </label>\n                <div class="fyre-cp-profile-avatar-wrapper fyre-cp-hidden">\n                    <label for="avatar">Avatar</label>\n                    <input type="file" name="image" class="fyre-cp-input-image" data-fyre-validate="fileType-image fileSize-1500000" />\n                </div>\n            </li>\n            '},c),data:c}))||0===b)a+=b;a+='\n            <li>\n                <label for="email">Email Address *</label>\n                <input type="text" name="email" class="fyre-cp-input-email" value="';
(b=e.email)?b=b.call(d,{hash:{},data:c}):(b=d.email,b="function"===typeof b?b.apply(d):b);return a+=k(b)+'" data-fyre-validate="required email" />\n            </li>\n            <li class="fyre-cp-profile-confirm">\n                <label for="terms">\n                    By clicking <b>Create</b>, you accept TechCrunch\'s <a href="http://legal.aol.com/TOS/" target="_blank">Terms of Service</a>\n                </label>\n                <div class="fyre-cp-form-btns">\n                    <input type="submit" class="fyre-cp-form-submit-btn" value="Create" />\n                </div>\n            </li>\n        </ul>\n    </form>\n</section>\n'});
goog.exportSymbol("fyre.sp.templates.completeprofile",fyre.sp.templates.completeprofile);fyre.sp.templates.editprofile=fyre.lib.Handlebars.template(function(a,d,e,b,c){function g(a,b){var c,d,f;c=""+('\n                                <option value="'+l((d=a.name,"function"===typeof d?d.apply(a):d))+'" ');if((f=e["if"].call(a,a.selected,{hash:{},inverse:m.noop,fn:m.program(8,k,b),data:b}))||0===f)c+=f;return c+=">"+l((d=a.name,"function"===typeof d?d.apply(a):d))+"</option>\n                            "}function k(a,b){return'selected="selected"'}this.compilerInfo=[3,">= 1.0.0-rc.4"];
e=e||a.helpers;c=c||{};var h,f,l=this.escapeExpression,m=this;b=e.helperMissing;f={hash:{},data:c};a='\x3c!-- edit profile template --\x3e\n<div class="fyre-profile">\n    <span class="fyre-cp-back-button"></span>\n    <header class="fyre-cp-modal-header">\n        <img src="'+(l((h=e.media_url,h?h.call(d,"images/techcrunch/logo.png",f):b.call(d,"media_url","images/techcrunch/logo.png",f)))+'" align="right" alt="TechCrunch" />\n    </header>\n    <section class="fyre-profile-section">\n        ');
if((f=e["if"].call(d,d.avatar,{hash:{},inverse:m.noop,fn:m.program(1,function(a,b){var d,c;d='\n        <img src="';(c=e.avatar)?c=c.call(a,{hash:{},data:b}):(c=a.avatar,c="function"===typeof c?c.apply(a):c);d+=l(c)+'" class="fyre-profile-avatar" alt="';(c=e.username)?c=c.call(a,{hash:{},data:b}):(c=a.username,c="function"===typeof c?c.apply(a):c);return d+=l(c)+'" />\n        '},c),data:c}))||0===f)a+=f;a+='\n        <h2 class="fyre-profile-displayname">\n            <span>';(f=e.displayName)?f=
f.call(d,{hash:{},data:c}):(f=d.displayName,f="function"===typeof f?f.apply(d):f);a+=l(f)+'</span>\n            <a href="#" class="fyre-profile-edit-link"></a>\n            <img class="fyre-loader" src="';f={hash:{},data:c};a+=l((h=e.media_url,h?h.call(d,"images/default/loader.gif",f):b.call(d,"media_url","images/default/loader.gif",f)))+'" alt="Loading" />\n        </h2>\n        <input type="text" value="';(f=e.displayName)?f=f.call(d,{hash:{},data:c}):(f=d.displayName,f="function"===typeof f?f.apply(d):
f);a+=l(f)+'" class="fyre-cp-input-displayname fyre-cp-hidden" />\n        <p class="fyre-profile-user-comments">\n            <span>';f={hash:{},data:c};a+=l((h=e["default"],h?h.call(d,(h=d.comments,null==h||!1===h?h:h.user_comment_count),0,f):b.call(d,"default",(h=d.comments,null==h||!1===h?h:h.user_comment_count),0,f)))+'</span> Comments\n        </p>\n        <p class="fyre-profile-user-likes">\n            <span>';f={hash:{},data:c};a+=l((h=e["default"],h?h.call(d,(h=d.comments,null==h||!1===
h?h:h.user_liked_count),0,f):b.call(d,"default",(h=d.comments,null==h||!1===h?h:h.user_liked_count),0,f)))+'</span> Likes\n        </p>\n    </section>\n    <nav class="fyre-cp-edit-nav">\n        <ul class="fyre-cp-edit-tabs">\n            <li class="fyre-cp-active">\n                <a name="profile" class="fyre-cp-edit-tab">Profile</a>\n            </li>\n            <li>\n                <a name="notifications" class="fyre-cp-edit-tab">Notifications</a>\n            </li>\n            <li>\n                ';
if((f=e["if"].call(d,d.showPassword,{hash:{},inverse:m.noop,fn:m.program(3,function(a,c){return'\n                <a name="passwords" class="fyre-cp-edit-tab">Password</a>\n                '},c),data:c}))||0===f)a+=f;a+='\n            </li>\n        </ul>\n    </nav>\n    <section class="fyre-cp-edit">\n        <section class="fyre-cp-edit-tab-content fyre-cp-edit-tab-profile">\n            <form class="fyre-cp-form fyre-cp-edit-form" enctype="multipart/form-data" method="post" name="fyre-cp-form-profile">\n                <input type="hidden" name="id" value="';
(f=e.id)?f=f.call(d,{hash:{},data:c}):(f=d.id,f="function"===typeof f?f.apply(d):f);a+=l(f)+'" />\n                <input type="hidden" name="displayName" value="';(f=e.displayName)?f=f.call(d,{hash:{},data:c}):(f=d.displayName,f="function"===typeof f?f.apply(d):f);a+=l(f)+'" class="fyre-cp-edit-form-displayname" />\n                <input type="hidden" name="form_type" value="profile" />\n                <ul class="fyre-cp-edit-form-profile">\n                    ';if((f=e.unless.call(d,d.is_mobile,
{hash:{},inverse:m.noop,fn:m.program(5,function(a,c){return'\n                    <li>\n                        <label for="image">Avatar</label>\n                        <input type="file" name="image" class="fyre-cp-input-image" />\n                    </li>\n                    '},c),data:c}))||0===f)a+=f;a+='\n                    <li>\n                        <label for="email">Email address *</label>\n                        <input type="text" name="email" value="';(f=e.email)?f=f.call(d,{hash:{},
data:c}):(f=d.email,f="function"===typeof f?f.apply(d):f);a+=l(f)+'" class="fyre-cp-input-email" data-fyre-validate="email" />\n                    </li>\n                    <li>\n                        <label for="givenName">First name</label>\n                        <input type="text" name="givenName" value="';(f=e.givenName)?f=f.call(d,{hash:{},data:c}):(f=d.givenName,f="function"===typeof f?f.apply(d):f);a+=l(f)+'" class="fyre-cp-input-givenName" />\n                    </li>\n                    <li>\n                        <label for="familyName">Last name</label>\n                        <input type="text" name="familyName" value="';
(f=e.familyName)?f=f.call(d,{hash:{},data:c}):(f=d.familyName,f="function"===typeof f?f.apply(d):f);a+=l(f)+'" class="fyre-cp-input-familyName" />\n                    </li>\n                    <li>\n                        <label for="currentLocation">Location</label>\n                        <input type="text" name="currentLocation" value="';(f=e.currentLocation)?f=f.call(d,{hash:{},data:c}):(f=d.currentLocation,f="function"===typeof f?f.apply(d):f);a+=l(f)+'" class="fyre-cp-input-currentLocation" />\n                    </li>\n                    <li class="fyre-cp-edit-bio">\n                        <label for="aboutMe">Bio</label>\n                        <textarea name="aboutMe" class="fyre-input-aboutMe" fyre-validate="maxlength-500" maxlength="500">';
(f=e.aboutMe)?f=f.call(d,{hash:{},data:c}):(f=d.aboutMe,f="function"===typeof f?f.apply(d):f);a+=l(f)+'</textarea>\n                    </li>\n                </ul>\n                <footer class="fyre-cp-edit-form-footer">\n                    <div class="fyre-cp-edit-close-wrapper fyre-cp-form-btns">\n                        <span class="fyre-cp-edit-save-msg"></span>\n                        <input type="submit" class="fyre-cp-form-cancel-btn" value="Close" />\n                    </div>\n                    <div class="fyre-cp-edit-save-wrapper fyre-cp-form-btns fyre-cp-hidden">\n                        <input type="submit" class="fyre-cp-form-cancel-btn" value="Cancel" />\n                        <input type="submit" class="fyre-cp-form-submit-btn" value="Save" />\n                    </div>\n                </footer>\n            </form>\n        </section>\n        <section class="fyre-cp-edit-tab-content fyre-cp-edit-tab-notifications fyre-cp-hidden">\n            <form class="fyre-cp-form fyre-cp-edit-form" enctype="multipart/form-data" method="post" name="fyre-cp-form-notifications">\n                <input type="hidden" name="id" value="';
(f=e.id)?f=f.call(d,{hash:{},data:c}):(f=d.id,f="function"===typeof f?f.apply(d):f);a+=l(f)+'" />\n                <input type="hidden" name="displayName" value="';(f=e.displayName)?f=f.call(d,{hash:{},data:c}):(f=d.displayName,f="function"===typeof f?f.apply(d):f);a+=l(f)+'" class="fyre-cp-edit-form-displayname" />\n                <input type="hidden" name="form_type" value="notifications" />\n                <ul class="fyre-cp-edit-form-notifications">\n                    <li>\n                        <label for="email_comments">Email comments in conversations I follow</label>\n                        <select name="email_comments"class="fyre-cp-input-email_comments">\n                            ';
if((f=e.each.call(d,(h=d.email_notifications,null==h||!1===h?h:h.comments),{hash:{},inverse:m.noop,fn:m.program(7,g,c),data:c}))||0===f)a+=f;a+='\n                        </select>\n                    </li>\n                    <li>\n                        <label for="email_likes">Email when someone likes my comment</label>\n                        <select name="email_likes" class="fyre-cp-input-email_likes">\n                            ';if((f=e.each.call(d,(h=d.email_notifications,null==h||!1===
h?h:h.likes),{hash:{},inverse:m.noop,fn:m.program(7,g,c),data:c}))||0===f)a+=f;a+='\n                        </select>\n                    </li>\n                    <li>\n                        <label for="email_replies">Email when someone replies to me</label>\n                        <select name="email_replies" class="fyre-cp-input-email_replies">\n                            ';if((f=e.each.call(d,(h=d.email_notifications,null==h||!1===h?h:h.replies),{hash:{},inverse:m.noop,fn:m.program(7,g,
c),data:c}))||0===f)a+=f;a+='\n                        </select>\n                    </li>\n                    <li>\n                        <label for="auto_follow">Automatically follow conversations I join</label>\n                        <input type="checkbox" name="auto_follow" class="fyre-cp-input-auto_follow" value="true" ';if((f=e["if"].call(d,d.auto_follow,{hash:{},inverse:m.noop,fn:m.program(10,function(a,c){return'checked="checked"'},c),data:c}))||0===f)a+=f;a+=' />\n                    </li>\n                </ul>\n                <footer class="fyre-cp-edit-form-footer">\n                    <div class="fyre-cp-edit-close-wrapper fyre-cp-form-btns">\n                        <span class="fyre-cp-edit-save-msg"></span>\n                        <input type="submit" class="fyre-cp-form-cancel-btn" value="Close" />\n                    </div>\n                    <div class="fyre-cp-edit-save-wrapper fyre-cp-form-btns fyre-cp-hidden">\n                        <input type="submit" class="fyre-cp-form-cancel-btn" value="Cancel" />\n                        <input type="submit" class="fyre-cp-form-submit-btn" value="Save" />\n                    </div>\n                </footer>\n            </form>\n        </section>\n        ';
if((f=e["if"].call(d,d.showPassword,{hash:{},inverse:m.noop,fn:m.program(12,function(a,c){var d,b;d='\n        <section class="fyre-cp-edit-tab-content fyre-cp-edit-tab-passwords fyre-cp-hidden">\n            <form class="fyre-cp-form fyre-cp-edit-form" enctype="multipart/form-data" method="post" name="fyre-cp-form-passwords">\n                <input type="hidden" name="id" value="';(b=e.id)?b=b.call(a,{hash:{},data:c}):(b=a.id,b="function"===typeof b?b.apply(a):b);d+=l(b)+'" />\n                <input type="hidden" name="displayName" value="';
(b=e.displayName)?b=b.call(a,{hash:{},data:c}):(b=a.displayName,b="function"===typeof b?b.apply(a):b);return d+=l(b)+'" class="fyre-cp-edit-form-displayname" />\n                <input type="hidden" name="form_type" value="passwords" />\n                <ul class="fyre-cp-edit-form-profile">\n                    <li>\n                        <label for="password_old">Old Password *</label>\n                        <input type="password" name="password_old" class="fyre-cp-input-password_old" data-fyre-validate="required"/>\n                    </li>\n                    <li>\n                        <label for="password">New Password *</label>\n                        <input type="password" name="password" class="fyre-cp-input-password" data-fyre-validate="required"/>\n                    </li>\n                    <li>\n                        <label for="password_verify">New Password *</label>\n                        <input type="password" name="password_verify" class="fyre-cp-input-password_verify" data-fyre-validate="required"/>\n                    </li>\n                </ul>\n                <footer class="fyre-cp-edit-form-footer">\n                    <div class="fyre-cp-edit-close-wrapper fyre-cp-form-btns">\n                        <span class="fyre-cp-edit-save-msg"></span>\n                        <input type="submit" class="fyre-cp-form-cancel-btn" value="Close" />\n                    </div>\n                    <div class="fyre-cp-edit-save-wrapper fyre-cp-form-btns fyre-cp-hidden">\n                        <input type="submit" class="fyre-cp-form-cancel-btn" value="Cancel" />\n                        <input type="submit" class="fyre-cp-form-submit-btn" value="Save" />\n                    </div>\n                </footer>\n            </form>\n        </section>\n        '},
c),data:c}))||0===f)a+=f;return a+="\n    </section>\n</div>\n"});goog.exportSymbol("fyre.sp.templates.editprofile",fyre.sp.templates.editprofile);fyre.sp.templates.createprofile=fyre.lib.Handlebars.template(function(a,d,e,b,c){this.compilerInfo=[3,">= 1.0.0-rc.4"];e=e||a.helpers;c=c||{};var g,k;b=this.escapeExpression;var h=e.helperMissing;a='<span class="fyre-cp-back-button"></span>\n<header class="fyre-cp-modal-header">\n    Create ';(g=e.providerName)?g=g.call(d,{hash:{},data:c}):(g=d.providerName,g="function"===typeof g?g.apply(d):g);a+=b(g)+' account\n    <img src="';k={hash:{},data:c};a+=b((g=e.media_url,g?g.call(d,"images/techcrunch/logo.png",
k):h.call(d,"media_url","images/techcrunch/logo.png",k)))+'" align="right" alt="TechCrunch" />\n</header>\n<section class="fyre-cp-two-column fyre-cp-profile-create">\n    <form class="fyre-cp-form" enctype="multipart/form-data" method="post">\n        <input type="hidden" name="redirect_url" value="';(g=e.redirect_url)?g=g.call(d,{hash:{},data:c}):(g=d.redirect_url,g="function"===typeof g?g.apply(d):g);a+=b(g)+'" />\n        <ul>\n            <li>\n                <label for="username">Username *</label>\n                <input type="text" class="fyre-cp-input-displayname" name="displayName" data-fyre-validate="required" />\n            </li>\n            ';
if((g=e.unless.call(d,d.is_mobile,{hash:{},inverse:this.noop,fn:this.program(1,function(a,b){return'\n            <li class="fyre-cp-profile-avatar">\n                <label for="image">Avatar</label>\n                <input type="file" name="image" class="fyre-cp-input-image" data-fyre-validate="fileType-image fileSize-1500000" size="16" />\n            </li>\n            '},c),data:c}))||0===g)a+=g;return a+'\n            <li>\n                <label for="password">Password *</label>\n                <input type="password" name="password" id="fyrePassword" class="fyre-cp-input-password" data-fyre-validate="required maxlength-32 minlength-6" />\n            </li>\n            <li>\n                <label for="password_dup">Password * <span>verify</span></label>\n                <input type="password" name="password_dup" class="fyre-cp-input-password_dup" data-fyre-validate="required matches-password-fyrePassword" />\n            </li>\n            <li>\n                <label for="email">Email Address *</label>\n                <input type="text" name="email" class="fyre-cp-input-email" data-fyre-validate="required email" />\n            </li>\n            <li class="fyre-cp-profile-confirm">\n                <label for="terms">\n                    By clicking <b>Create</b>, you accept TechCrunch\'s <a href="http://legal.aol.com/TOS/" target="_blank">Terms of Service</a>\n                </label>\n                <div class="fyre-cp-form-btns">\n                    <input type="submit" class="fyre-cp-form-submit-btn" value="Create" />\n                </div>\n            </li>\n        </ul>\n    </form>\n</section>\n'});
goog.exportSymbol("fyre.sp.templates.createprofile",fyre.sp.templates.createprofile);
