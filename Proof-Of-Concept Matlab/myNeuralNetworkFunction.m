function [Y,Xf,Af] = myNeuralNetworkFunction(X,~,~)
%MYNEURALNETWORKFUNCTION neural network simulation function.
%
% Generated by Neural Network Toolbox function genFunction, 26-Oct-2014 21:14:11.
% 
% [Y] = myNeuralNetworkFunction(X,~,~) takes these arguments:
% 
%   X = 1xTS cell, 1 inputs over TS timsteps
%   Each X{1,ts} = 12xQ matrix, input #1 at timestep ts.
% 
% and returns:
%   Y = 1xTS cell of 1 outputs over TS timesteps.
%   Each Y{1,ts} = 3xQ matrix, output #1 at timestep ts.
% 
% where Q is number of samples (or series) and TS is the number of timesteps.

%#ok<*RPMT0>

  % ===== NEURAL NETWORK CONSTANTS =====
  
  % Input 1
  x1_step1_xoffset = [-17;-12;-7.66232899391872;-16.3152801270353;-11.4639359208566;-9.64820030867713;-16.4145695437428;-9.22650502043621;-9.46096850725701;-13.5829892664356;-19.5262794416288;-7.88446482384904];
  x1_step1_gain = [0.0714285714285714;0.0769230769230769;0.090917755152671;0.064700792320107;0.0776441246050255;0.0714843066592946;0.0802360001857883;0.0919194824913748;0.0832630887696549;0.085712155651295;0.0675705718598474;0.084436037562232];
  x1_step1_ymin = -1;
  
  % Layer 1
  b1 = [-5.4726050802735016e-05;-0.053288514234984513;0.026209216533307496;0.068080647660653429;-0.0070354452973581203;-0.021684971161116433;-0.036816799331382766;-0.0013562790269166136;0.0097020750880411587;0.056793605323301195;-0.025715922079103119;0.018323162105975982;0.0026075846786793571;0.039591175440630719;-0.033942937968246226;0.015510838938326168;0.002384871981682603;0.0059512253676099122;0.008237107323260889;-0.00073673203810152826;7.0393749651678544e-05;0.015051827969916389;0.013185608372105013;-0.0062168785218139518;-0.012256319348544114;0.0032190082407151399;0.006495425605832798;-0.0047554767358340064;-0.053635116459194644;0.0015134386211227645;-0.0047333421191052376;0.0057629852697953839;-0.0075586893482120603;-0.043743638714264711;0.011788023001555065;-0.073827681697597569;-0.0013034271340898571;0.029117657157382747;0.0012156307844606853;0.034475872531749739;0.0054460851243774092;0.010789671605287578;0.0088590568457923655;0.02773910853889212;0.011729223217113399;0.037964139124937638;-0.026890176103679213;-0.044877523537451086;-0.0056719663190637664;0.022745306553310158;0.0058828006360337566;-0.060493476396044056;0.020535164210124957;-0.045621343787253507;-0.067801215150212271;0.027409539245859642;-0.0023699593784609592;-0.021787327216195574;-0.01522831739542414;0.044125242202376638;-0.0047841256027831673;-0.0078856234248793379;0.050661676084686247;-0.072072629216475406;-0.025622466851764884;-0.0051297480240857446;-0.057322547178138415;-0.024521427310591402;0.037295817755558035;-0.022326078200568502;0.033451001540473271;0.042569982622012961;0.0077141799988700611;-0.038848752292240572;-0.047383803071608763;0.06868721343584358;0.01333284837481173;0.013681298332901928;0.020449407746579759;0.042862242093134606;-0.053382331243564972;-0.042486573011645323;0.053316307600478466;0.04792608589371971;-0.027389000459885592;-0.028836561656910994;-0.066267220796021681;0.041502664938212058;-0.006612568970474751;0.052891197515310268;-0.032521198261215613;-0.01285485658677756;-0.041764871235338057;0.033364380351212003;-0.050349953816522838;0.037258322124621435;-0.025443308388618302;0.010513125922142291;-0.01984132628098478;0.043113579930078506];
  IW1_1 = [0.070366684547938027 0.00086182106448840607 -0.023263296173622577 -0.049969880336778114 0.01130574524115124 0.063262941808926068 -0.037514726866754833 0.053936282560577489 -0.023246976992143231 -0.0343303891767247 0.024179785316569231 0.025376071016084866;0.00047046697734382751 -0.053501481081694571 0.051264285579149575 0.010229668735593316 0.003468721619301075 -0.0075117154588165685 0.022302342034571491 -0.011377695478802139 -0.0027036079613752301 -0.012831751897501912 -0.012213556157850995 -0.0080983464037871558;-0.03531160348085001 0.025555749116616126 -0.013091387203409648 0.01994102008351447 -0.0075186883307678063 -0.028203007697750655 0.0081912983161840144 -0.021639197027723975 0.012720044973110849 0.023294438976343017 -0.0060566376749982753 -0.0084398876863751963;0.0043701582953113629 0.069633850604694431 -0.068037503222412227 -0.01706620925314533 -0.0036174110408143377 0.014804973416867465 -0.032044553735706832 0.018825197846550391 0.0021313100854694332 0.014175290962377577 0.017289621180766122 0.012515612153675594;0.062836713946709782 -0.0063759851659738248 -0.014135383325812059 -0.043191737741940725 0.01065389298004601 0.055442327071652434 -0.030587458312318509 0.046663938861019195 -0.021079219099587067 -0.032240192765111704 0.019914572389604288 0.021290347080248594;0.031334597242217918 -0.02101215383520522 0.010054380262688919 -0.018015153541057646 0.0065803325992977247 0.025320484660671879 -0.0080191322836587319 0.019608411964596964 -0.01117143844048969 -0.020328884283080721 0.0057654542253337314 0.0078034110841698973;0.027251992822986359 -0.036210819922355746 0.025972995679185869 -0.01214887569451675 0.0068575820171165626 0.019434161778149994 0.0005831755098985507 0.013141286164294002 -0.010557938212222799 -0.02185975207807762 0.00084457318557293944 0.0039657312010533911;-0.072909700575608472 -0.0023290289376893172 0.025420309260857723 0.052076103133768162 -0.011580562622323558 -0.065737611376585764 0.039424429771977229 -0.05615716002024318 0.024041111321530508 0.035244198903753542 -0.025382234898793026 -0.02658616132753689;-0.044177591194969786 0.0090258495918832619 0.0056128332675526799 0.029410730720393522 -0.0078970834121090891 -0.038537148275209439 0.019816580255610602 -0.032038392839421739 0.014877614995544842 0.023820426120804553 -0.012983802129498257 -0.014234561834154108;-0.011193807021334577 0.056929917262793735 -0.051056703655191264 -0.0034031081740105878 -0.0054400242283683597 -0.0017103059516108716 -0.018071600695686047 0.0038155328964600732 0.0063729028303845603 0.018881822882371446 0.009250692619251169 0.0048915125686661278;0.027759397607014621 -0.025037594224372749 0.015097451353403972 -0.014709116658843358 0.0062471684684683526 0.021537020009302771 -0.0044327851320858534 0.015988442045574064 -0.01017663029254379 -0.019525392759891815 0.0035989459473137063 0.0059278747115691297;-0.025626001856754663 0.017682301506358088 -0.0087335543662051384 0.014632422984398308 -0.0054267078607822764 -0.020684642209494522 0.0063941841644477989 -0.015964964065542053 0.0091253928319002947 0.016780284132567221 -0.0045983167888032535 -0.0063474910137659851;-0.056197297910520437 0.0018148689150279001 0.016307479091241757 0.039331740788667378 -0.0093257284927055917 -0.050324745820171012 0.029116494379401319 -0.04274111017438946 0.018554243351296146 0.028046941046756951 -0.018781289438232641 -0.019746013802215065;-0.025352509299086366 0.039020199025293904 -0.029295199233037313 0.010248133221427537 -0.0067163893497043893 -0.017312244642896876 -0.0027872108317927163 -0.011067699241653402 0.010068263045235048 0.021592951328576793 0.00044461700548371289 -0.0028673968996231923;0.019308206548797221 -0.033312562962562013 0.025831653725039923 -0.0071244229180324531 0.0053664148438406058 0.012738319775986325 0.0035521089004773207 0.0076844853555241175 -0.0077841762978495439 -0.017342974044416398 -0.0012141867005836544 0.0017037735920155991;-0.058251840465224872 0.014967938990738278 0.0045400678879709746 0.038271303739839842 -0.010512379941446172 -0.050073966180404328 0.024593809664050819 -0.041297234236060076 0.019964775997649072 0.031927071183887205 -0.016318896643875438 -0.018147973992229345;0.065948192632451913 0.0033695469830811084 -0.024238640881786754 -0.047284314461260968 0.010473454668499164 0.059793992257636874 -0.03633272368938089 0.051234753529749009 -0.021581437101229995 -0.031653363174636732 0.023310579599911709 0.024222995361743653;0.085555342825017269 0.0072451293266626113 -0.033789283702254459 -0.062136691014121247 0.013043945132180969 0.077653723215364151 -0.047854277944877698 0.066602853056108038 -0.028137905350058622 -0.040330952290564895 0.030765410458073524 0.032304038204890979;0.086417844280532022 0.009734187710881045 -0.036306359098200805 -0.063243084655779352 0.012982609756713306 0.078877476294498955 -0.049353588156420464 0.067833435689724886 -0.028266616112985393 -0.040252533027855295 0.031657151050460221 0.033165969281089724;0.066062831888779913 0.00015936481545255867 -0.021260021286881342 -0.046752549848920223 0.010709225506338257 0.059369665351277592 -0.035030521446770491 0.050581141613310614 -0.021802227187830127 -0.032405778942135886 0.022572490266344541 0.023679907451154149;-0.069093910160375735 -0.00085599040821563452 0.022856962318570661 0.049056319726344673 -0.011117573124183265 -0.062151257015533395 0.036870676450697373 -0.052995404936927629 0.022804217080335615 0.033721657146241805 -0.02375429313296237 -0.02491495746484711;0.08827057490822128 0.017056567890131154 -0.043554499553296842 -0.065994375297108179 0.012698621615147038 0.081855834348043846 -0.05339645185273096 0.070942778829756831 -0.028420764761866307 -0.039653270732376907 0.034059567578565222 0.03538555439353009;0.11647721799534512 0.017196742503706161 -0.050805550052873884 -0.086738514437947362 0.016241520870051235 0.10698068787027891 -0.067422592524460159 0.091586960604975898 -0.038081610146080878 -0.053770245714514081 0.043250743014117285 0.047593891181164076;-0.048298398942012093 -0.0070614673591447054 0.02222571005703641 0.035414824233310528 -0.0074922603811369039 -0.044678716722070487 0.028743672220573148 -0.038779298452121198 0.015436287498858942 0.022207297014689736 -0.018245378543711378 -0.018417738384148452;0.054264117957629428 -0.011608606915443928 -0.0064174474551296533 -0.036078294743634172 0.0096707038904178463 0.047092488815502681 -0.023974840607056375 0.039074959215631921 -0.018415198040849012 -0.029280480009781843 0.015779171443819254 0.017350145010991989;0.072058983230598464 0.0042660504037256167 -0.026964313931587547 -0.051835531356021189 0.011322558318069904 0.065321666989331645 -0.039820540451695412 0.055981223639915832 -0.023630002442378641 -0.034421894995898469 0.025569376461259723 0.026639296279597699;0.079869019104356606 0.007748969490957382 -0.032568754495412092 -0.058123707280767947 0.012208426641062918 0.072768828161265758 -0.045231924258176369 0.062554677085953761 -0.026124498764446617 -0.037468250521611388 0.029010203748697786 0.03023292691615205;-0.083109684253980021 -0.0059228694494037658 0.031860791204577868 0.060111853999114617 -0.012796566068503518 -0.075269650346905984 0.046066965722429298 -0.06449563028913953 0.027374628688527157 0.03941023547116751 -0.029636531269545269 -0.03108896851268015;-0.033973196938465587 -0.055791114982145118 0.063918783062081916 0.034939961610041988 -0.0019853190185013208 -0.039818830329213892 0.041870341362716022 -0.038869865898343132 0.0080851591983924585 0.0039351781755989652 -0.024649825048320643 -0.021294767929664941;-0.067812369685084015 0.00065997064115877859 0.021050588759369361 0.047846214193212722 -0.011028629563132273 -0.060764965121326439 0.035569961536876464 -0.051690090582195626 0.022455186149320648 0.033420527029651981 -0.022959707094398353 -0.024153581784378802;-0.086194705414442865 -0.0060184451840638508 0.032824385225666768 0.062365397891026526 -0.013224876156959666 -0.078018878276441106 0.047664954523628456 -0.066793935077145802 0.028426361529685511 0.040911756658878334 -0.030677530840799855 -0.032326047253682336;-0.0052179979366158823 0.0055590054543578253 -0.0036845119628111777 0.0026020506697223317 -0.0012381041154524829 -0.0039589536257212069 0.00050941445524219716 -0.0028415016674857097 0.0019288827938625877 0.0038965894209841761 -0.00046893549212553533 -0.0010158425197394206;0.045075677864821105 -0.0068675802398594048 -0.0079584143361970359 -0.030461159711622245 0.0079005455731550513 0.039662644506435737 -0.021196308849880944 0.03320234263266366 -0.015069774918627014 -0.023770400655527952 0.013805325697727128 0.014913481106907512;-0.052641333748668223 -0.046439007561147466 0.060518373364655306 0.046225562270012642 -0.0054955645134693943 -0.055389846680914449 0.047769798778558775 -0.051202603279637493 0.014594038843490007 0.015568145328199931 -0.029011334948876231 -0.026972412811071694;-0.053059629824786875 0.011132681034171466 0.006481836039914278 0.035312080693608847 -0.0094499686555059581 -0.046100705698498348 0.023553180154337217 -0.038277512422544999 0.017980955863454696 0.028593065147933552 -0.015487060230936151 -0.017006244874288149;-0.017346743352042827 -0.076945262650328014 0.078811732656402247 0.027785968215357545 0.0019500339070168038 -0.028335602145596883 0.042332281421301195 -0.030735570287483964 0.0014642909911342216 -0.0093574973769604795 -0.023286148369932258 -0.018587330091287317;0.073862795262483724 -0.00046414498337016058 -0.023127215830597285 -0.052222874005869939 0.011913939783627019 0.066089811251548752 -0.038711392875529979 0.056207801731633734 -0.024543624782675685 -0.036286923089752288 0.025022661795795317 0.026389005619501599;0.064485641340503733 0.031411172431567498 -0.049925397423016979 -0.051665583462993575 0.0083097750993289983 0.063406993307356413 -0.047517147495326255 0.056707612837770864 -0.019394699358584434 -0.024870960241443942 0.029559558579866082 0.028887163665231298;0.08242983990484079 0.002227637462638642 -0.028226326901710723 -0.058912159601769223 0.01296632028244492 0.074046603130032529 -0.044164422321680732 0.063138294543336734 -0.02735941250329528 -0.039861900359045847 0.028513049588992326 0.030113375324844708;0.065707648096304527 0.037301961182525142 -0.055700737805052851 -0.0537074424928696 0.008073347532917453 0.065651036078348809 -0.050685172890492014 0.05905154631290515 -0.019403414148816772 -0.024219597036426548 0.031362178917533318 0.030498675668031702;-0.052544364418679462 0.0047250388621911518 0.012399137683711625 0.036173643749522526 -0.0089464467121170062 -0.046624707911315323 0.025990565852786588 -0.039330039207903143 0.017475723549522603 0.026913472185689617 -0.016848647016712421 -0.01792291301626037;0.095897849780563024 0.012754685007055221 -0.041747180082184782 -0.070715352670315645 0.014039917686478949 0.087759871390188995 -0.055344669782924232 0.075482675376933803 -0.031358280326314887 -0.044280085365883036 0.035509641323165704 0.037561484315432589;0.10940752579655989 0.01114713183446284 -0.043953976377419553 -0.080311714805129386 0.015866345795209527 0.099208361486852623 -0.061225631796383483 0.084815604757729993 -0.036246280485747372 -0.051202286436487762 0.039485017601472702 0.042779101658427507;-0.04590219475090019 0.027222174698095403 -0.01115420528422857 0.027112771784394196 -0.0093369669615271239 -0.037336150939382411 0.013001096394278938 -0.029287884476225323 0.016384467343318845 0.028745803867606157 -0.0092658151257853285 -0.011772299091053384;-0.04740516387317454 0.011056118135002724 0.0047232337695482804 0.031308829554635716 -0.0085482327738286967 -0.041106468103153146 0.020651050846140891 -0.034034061485589899 0.016061259958822346 0.025845949702556815 -0.013594315806672492 -0.015031933983635479;0.042052364927184366 0.039521991629147123 -0.051017024276815141 -0.037322708415789795 0.0043245986322467808 0.044343859991126264 -0.039160225489047983 0.041380694558419716 -0.011641024628649809 -0.011740636933300038 0.023788920495732641 0.021604407759507442;0.032764507138564394 -0.0262282084579477 0.014579093602172152 -0.018008910087918748 0.007144032711743257 0.025834624674874958 -0.0065676553074436577 0.019551616881931744 -0.011901116229707508 -0.022219851427629382 0.0050318268513274015 0.0074565561480798414;-0.046307527635566635 -0.047216358615652002 0.059447358892577587 0.041892238015661186 -0.0044753568524948089 -0.049683131837351818 0.044747840655595242 -0.046484252206718639 0.012524061588032454 0.012166852942781204 -0.027006038513961377 -0.024610257308087864;-0.062629983527122901 -0.0067273745266924981 0.026359726815406617 0.045556605421954374 -0.0097397982158759361 -0.057410338591242754 0.036051203513572487 -0.049525155070699947 0.020262486007723679 0.029307754300004176 -0.023007894246189039 -0.023617176099343353;0.085314019358363968 0.025534738223644868 -0.050368525348436395 -0.065500567655438519 0.011684740815825019 0.080998220775360452 -0.055619081747233318 0.070896131565181 -0.026752874648097769 -0.036526228174801958 0.035148478242430718 0.036039318998581982;0.025125201397188067 0.0062669344818931964 -0.014138758136289092 -0.01887850204011483 0.0037845224730794639 0.02366012427579146 -0.016107840088535254 0.020823693654484235 -0.0078695110590330693 -0.010949365629250566 0.010138690947126718 0.009907604823475016;-0.0035713979683720978 -0.061319459931182471 0.059954277252617122 0.014715099818796781 0.0032664832168519532 -0.01256421288582879 0.027907055755084204 -0.016298237995405158 -0.0018638218084364767 -0.012649431851607289 -0.015286957451397827 -0.010829857342017985;-0.04351140619309371 0.01990297369149233 -0.0049793928361195625 0.026842941163425307 -0.0084925521435623985 -0.036326045132814441 0.014878985434413338 -0.029115475929892817 0.015194918792913605 0.025959293162618614 -0.010172411533809033 -0.012191765907238371;0.023881996856795779 -0.045204969602377902 0.035689647377625706 -0.0079581002161873068 0.0068430445781941032 0.015042177794593537 0.0062353995429329789 0.0085728051644232174 -0.0099058548661880002 -0.022307463533582605 -0.0023313778731585948 0.0013609593204845145;-0.012682134775729527 -0.069800576966997471 0.070750198883483953 0.022939695554269307 0.0022806706159434944 -0.022564502301397046 0.036588562081712413 -0.025389998675875911 0.00049245954947872012 -0.010066728300516595 -0.020217024106767342 -0.015593496962676163;0.082890048713431322 0.030684208688436219 -0.054333843318190807 -0.06476068008708484 0.010979158459923878 0.079932349199302616 -0.056650716490710268 0.070401078902138522 -0.025530048441433844 -0.034294456277754924 0.035582029078526041 0.036167029410251308;-0.050487455479679547 -0.0032029011759642195 0.019249615608089691 0.036230398849863114 -0.0080965130448323579 -0.046037915968342134 0.02826831013133441 -0.039571266724568545 0.016364272646720964 0.024150519573378076 -0.01805998655847384 -0.018559378556856045;-0.013990373161196942 -0.02179602439976492 0.025525660633543421 0.014037171835837001 -0.00092077894283713662 -0.015804072497216187 0.01659154766852964 -0.015605440950019261 0.0035546777771411453 0.0017801186404585716 -0.0099992283554911562 -0.0083030269090134633;0.04653327814627907 -0.014588155415353153 -0.0010821726755962243 -0.030010938353217234 0.0086363352860943845 0.03979587266474692 -0.018700214727877779 0.032582873497656616 -0.015949679818156887 -0.026213782519547424 0.012456754842092644 0.014125373265876278;-0.02498755687090708 0.043665868635712056 -0.033852475091127432 0.0090516932649947635 -0.0069340720421176968 -0.016272136835890624 -0.0049852817364520229 -0.0097602822884187528 0.01019107005105116 0.022485279208687304 0.0016111477592002069 -0.0019871541088805006;0.052602996838994782 -0.0040399908056967301 -0.013060779029976656 -0.036346485446038738 0.0089118877176965258 0.046790372910970254 -0.02631547564071517 0.039533352084516499 -0.017455120020531647 -0.026795213443295673 0.017033753047034424 0.01806900614086647;0.016799378647635498 -0.0074572618086529681 0.0017643073981310879 -0.010383762916120124 0.0032995713265267621 0.014180367934838888 -0.0059464161845216969 0.011395599422591546 -0.0057718906610623611 -0.010059741255701929 0.0039994491602011011 0.0048295729057344543;-0.011738494880877222 0.050490767018627578 -0.044752351239945885 -0.0016798316710699636 -0.0051523044822647896 -0.0032563441264867616 -0.014964623915836632 0.0019533339071655812 0.0061897933276136349 0.017654650992310325 0.0076689127727768997 0.0036539370504401554;-0.0073639440838669046 -0.074256979417905586 0.073295196013278482 0.020184341143104328 0.0033948956714746998 -0.018463761335506455 0.035742292235941296 -0.022243552272267934 -0.0014896612767372535 -0.013750522851851597 -0.019263459885783405 -0.014399643520658414;-0.054111269137146638 -0.027197158408090862 0.042988344018321897 0.043440698061797935 -0.0070352921515642475 -0.05322979148626486 0.040298461664986782 -0.04781382685667529 0.016252983483014637 0.020587877135157185 -0.02503541926483677 -0.024087402405136446;0.039091833017089773 -0.0044726593007969545 -0.0083165631714531528 -0.026682205314786638 0.0067782060212782935 0.03467363905309101 -0.019055896951093516 0.029180893299441492 -0.012957853103535045 -0.020307323305045741 0.012343676403060137 0.01318746143930862;-0.00044614359657450488 -0.057797851649686198 0.055634675019649103 0.011772547635687644 0.0035729220335495131 -0.0090754678784860706 0.024674747103127045 -0.013059344447568752 -0.0026550548267521828 -0.013378623197733856 -0.01345714691835115 -0.0091261881855373896;-0.021471092806586222 -0.024767581486253062 0.0307371761545259 0.019881797053275339 -0.0019671504873826186 -0.023074583699933916 0.021867157111503444 -0.022073452431547364 0.0058206415168846138 0.0048089862588572597 -0.013274374061251053 -0.011482177170172761;-0.01580223225605374 0.036720809926480046 -0.03025683102278947 0.0039781378681250238 -0.0049955086001910246 -0.0090709981018869575 -0.0068671197420064074 -0.004233676902118625 0.0067999848426897836 0.016430868431262555 0.0031985227950048012 4.5573757582642404e-05;0.010155982000485734 -0.021804100941618554 0.017762277309445344 -0.002940313668309717 0.0031159598795904675 0.0061459034822697349 0.0035926832082651869 0.0031361714062167929 -0.0042492916269186191 -0.010168540615468324 -0.0016839620842040224 0.00029700295841270959;-0.025461980808442853 0.032803340888198425 -0.02330554590499935 0.011562500357003578 -0.0063530185135980757 -0.018339902756450841 -7.3861167382761463e-05 -0.01252212974620869 0.0097925597791622878 0.020209027179392339 -0.0010124623497231348 -0.0039009401447692806;0.068686281285183379 0.046326945991474432 -0.064838004899125182 -0.057639149792043355 0.0078589713863252315 0.070127891989569563 -0.056106702379551975 0.063481779534580784 -0.019766904378304469 -0.023772027480466893 0.034485116740712356 0.033416438496622396;0.050214991870841788 0.0086127422648948591 -0.024294517180818036 -0.037074112571693393 0.0076895168018577343 0.046637747056550508 -0.030398265578630509 0.040583994063406452 -0.015994496290991204 -0.022800303280499132 0.019268269138981296 0.01938250063482707;0.0081153812413624609 -0.038400032235313235 0.034381261328337243 0.0017687045789727251 0.0038199949440044373 0.0018578089567949654 0.011690599640098148 -0.0020791210136041375 -0.0043750469669072744 -0.013064697291638968 -0.0062234708702330896 -0.0029896238978790574;-0.037001364869971541 -0.049212995614034985 0.05864647755507385 0.035713065954699655 -0.0028897525095922393 -0.041403647923522302 0.040627341886452367 -0.039697306479517518 0.0094571250808984063 0.0069726687836971484 -0.024248447407542003 -0.021321165032217395;-8.8333541994166341e-05 0.070108318081572141 -0.067081486852400618 -0.014039709129710995 -0.0043690470431246766 0.010772538253903416 -0.02987183701360812 0.015445339438829657 0.0035885504624308608 0.016488445775341497 0.015834927501312577 0.01099486549943185;-0.060069740843103341 0.0127728528259541 0.0072069530072453444 0.039989331102823947 -0.010651469956221283 -0.05201004722167394 0.026458146137180675 -0.043150390931157107 0.02047276075706082 0.032314107510371073 -0.017453188701682332 -0.019171324090085477;0.069131444273923967 0.015207364250486832 -0.036242398936371822 -0.051839138770662839 0.010130676594331282 0.064644952642263775 -0.042995420953208879 0.056373142267896484 -0.021958659067159197 -0.030671231407537702 0.027242238174223943 0.02763240335864341;-0.038784352555276375 0.019794885284218199 -0.0064320759857698917 0.023516953911291844 -0.0077197084327233481 -0.032141087756233658 0.012450632884668569 -0.025552858022196128 0.013600964896930037 0.023653745276891645 -0.0085916710464759103 -0.010574675773045588;-0.022150848257714788 0.042359804281293691 -0.033553313528704796 0.0073174338531258425 -0.0063895211833877499 -0.01393106633369723 -0.0059157400277579418 -0.0078747852521781677 0.00917943708195843 0.020818866275835634 0.0022928154018960873 -0.0012367249283353958;0.0070804101028440359 -0.05341915453804838 0.049059212469190185 0.0055639883935640318 0.0045557774407250064 -0.0014551595588170635 0.018726009816518743 -0.0062178145787395913 -0.0048351190654596209 -0.016060813526738851 -0.0099126842021955708 -0.0057507972340185166;0.019225197343925658 -0.0419837475719693 0.034164760862798536 -0.0053311859312758243 0.005883269251277759 0.011357609019060111 0.0073032477956281585 0.0057098003124011728 -0.0081933905605485226 -0.019316935307590242 -0.0032116655793873136 0.00029624334644288568;0.00275519990801015 0.053640418280047689 -0.052422340848414614 -0.012525898148031638 -0.0029448492052797704 0.010494560764196297 -0.024095455851368647 0.013924229273021985 0.0016747929897601435 0.011269793889243032 0.013359947259999965 0.0092739421698924563;-0.020217635376532549 0.047577525719083413 -0.039176556686400014 0.0048921153026083436 -0.0063810564690986614 -0.011381529188999562 -0.0091969607007194639 -0.0052329348640943029 0.0088172832279767941 0.021090145457108907 0.0041150544777893627 0.00026830542181573126;0.031446187117356854 -0.026721982049743929 0.015490448903388541 -0.016981804313341748 0.0069591075926771963 0.024586148850114346 -0.0056650414282692586 0.018436543423448689 -0.011484980993255359 -0.021697386013624691 0.0044663165201815399 0.0069256516357359323;0.028788409125220914 -0.028164236085966878 0.017755764039266868 -0.014823702873856552 0.0066131338996208867 0.022001073607005518 -0.0036539447277204166 0.016088477388422204 -0.010669433934460095 -0.02074630737756572 0.0032221312238989268 0.0057837495470651566;-0.0077936710111493716 -0.067817740689829625 0.067392786359512333 0.019077447801052434 0.0029562304457940798 -0.01764582926225855 0.033070438624976092 -0.021092869643397519 -0.00092576487575446096 -0.012053858723763772 -0.018106153082688682 -0.013453797791194834;0.0072259594310519204 0.04151283923653603 -0.042283386864466518 -0.013182928665405212 -0.0014620539348457401 0.012623004745884837 -0.021267686816638067 0.014696841851937056 -0.00041665772299818001 0.0062172747259518551 0.012220704979749687 0.0089388276207064046;0.053709204347817563 -0.0058953252924721453 -0.011657552919785898 -0.036778631248015843 0.009207445818828968 0.047480396334882526 -0.026102913682618648 0.03994513766475713 -0.017928712401700912 -0.027741930216421108 0.016960982469137305 0.018140608485002239;0.00083278526782979833 0.053118038081725175 -0.051316872424640302 -0.011064219489066517 -0.0032312061486709392 0.0086398269669966232 -0.02283227281325859 0.012306043472440716 0.0022613216641731073 0.012099432945585405 0.012583637813522718 0.0084997144837625285;0.026912357295113994 -0.031866696391052503 0.021926787815769226 -0.012771144379942621 0.0065344921430456355 0.019777478244277912 -0.0010913512227859641 0.013838637780510237 -0.010227558852226164 -0.020693981296516183 0.0017240144886999946 0.0045479441815220621;0.034049871540064357 -0.012207125263265258 0.00072116519848878049 -0.021633382083720572 0.0064605790778133835 0.029026556932926113 -0.013152743501772686 0.023620558303260517 -0.011654852827728825 -0.019620317853483379 0.0087770010975705762 0.010158397970910376;-0.010947749381365921 -0.041914952818085632 0.043841366149878234 0.015880293885740738 0.00087118918891332213 -0.016099670837485276 0.023446308227804167 -0.017689911706224293 0.0015884095890073419 -0.0044591275740964954 -0.013598132516498437 -0.010350001860140833;-0.035669536352981347 0.03277691806806346 -0.019875712732751426 0.018775519351989255 -0.0080260493786628757 -0.027449235132781316 0.005303672380828091 -0.020315262908449393 0.013202410488459063 0.025115170164276002 -0.0045043082266094641 -0.007381008992100653;0.012316918051636119 -0.050151412362124281 0.04424127948475421 0.0012008681882915233 0.0052288168298796319 0.0038375718639243714 0.014506708231136823 -0.0014307214705682749 -0.0063589478671674275 -0.017858020509141832 -0.007397519068728777 -0.0033972289246579327;-0.025083799829340954 0.036655742993326239 -0.027120062108365921 0.010529885113496394 -0.0065270459897081926 -0.017425910477303637 -0.0019185135472376998 -0.011383707614777932 0.0098601921854763984 0.020916100037336221 -2.0667974158895149e-06 -0.0031538293454043947;0.039706998212929355 -0.024818120383290829 0.010927097942409886 -0.023193820369148261 0.0081876941480938971 0.032218657892784587 -0.010805779457111579 0.025141357326149198 -0.014160304583625435 -0.025241060057324839 0.0077250814463130212 0.01006608440800749;0.069077639733814214 0.011831959309943959 -0.03310959467631687 -0.051148112953645047 0.0103568781580336 0.06398316948337468 -0.04151967341674026 0.055528801583236927 -0.022157665287604676 -0.031351720669069834 0.026407273450379586 0.026951976645214027;0.047689843622232962 -0.019246756181992387 0.0029752400147771011 -0.02993373230893211 0.0091201227182436638 0.040117827423560702 -0.017326667722859474 0.032413485226237049 -0.016579580803281414 -0.027816050450075746 0.011742670543342664 0.013740671303879579;-0.022192479944834215 0.042622854029919416 -0.0337891294583684 0.0072923959868396605 -0.0064114000790119769 -0.013926180179496957 -0.0060094107533337562 -0.0078480662485806239 0.0092082216777388294 0.02089859718972659 0.002335912668572492 -0.0012066298411892505];
  
  % Layer 2
  b2 = [-0.70448211140216166;-0.12801843221162928;-0.090199513273108961];
  LW2_1 = [-0.006110457787527967 0.086693530029463506 -0.03907223524213093 -0.11197620913513048 0.006738962916655461 0.032136968698093397 0.056825061585140065 0.0084159199538110536 -0.01157082861387961 -0.091157932763482108 0.038715512133643819 -0.027198466637950881 0.0010178983828669106 -0.061297868400616781 0.052805318060195248 -0.019869676446374888 -0.0098329350376164752 -0.016941138960582941 -0.021285775886736108 -0.0050702965508639154 0.0062673199223249538 -0.032262984072208907 -0.043067443163253512 0.014905042931980361 0.01447490353244465 -0.011346721772506629 -0.017008454259369577 0.014312618805188918 0.0920765845511482 0.0034330198840567031 0.015818159477090539 -0.0086797146839353023 0.0078732886474241568 0.077975200566452116 -0.014008649904751515 0.12390675488435784 -0.0037362269881954908 -0.054741809921111072 -0.009203177664549457 -0.064652321046800534 -0.0043649792608706321 -0.027697855188906304 -0.028234678581060942 -0.040921548087844151 -0.014417406400261724 -0.066135636686301971 0.040598572767998227 0.079124742201170925 0.01496961810234046 -0.04704920536886948 -0.011905833359712943 0.099081971824108814 -0.029019279355648513 0.071969031594216595 0.11260979986719798 -0.056235611724860711 0.0090735613957811344 0.036706012670115647 0.020599124820062618 -0.069238492360748471 0.0028240161023726507 0.010683911221564649 -0.081248732761297252 0.11935306785290187 0.047355903415284541 0.0044225621402638419 0.093338673527455118 0.041947696455117381 -0.058389006757012134 0.034871169257395314 -0.05155545983364386 -0.078054849274376767 -0.017343927852182493 0.061991857821670174 0.081128618167980712 -0.1126198145533706 -0.016459877262504172 -0.029025450793062391 -0.029526975308274018 -0.067109564028097812 0.086108652339189629 0.066844455804307659 -0.087048135730208795 -0.075762833171714491 0.041345059549429339 0.043635917536207512 0.10944993382711157 -0.068028685219703247 0.0058071434726826533 -0.085908153925956646 0.049813021801263138 0.017525454971239637 0.068640891156613704 -0.050594013918998142 0.080394005354513104 -0.057927476494177219 0.037474388001073292 -0.022833745094312439 0.027739607031848329 -0.067781795258127678;0.10479411367298293 -0.042679892573650263 -0.031895872792296096 0.063424786231971231 0.087505682875173754 0.029514374839028357 0.011355049423164246 -0.10968829010583589 -0.058329468049955306 0.029429597211877601 0.021214557896408703 -0.02382421392587698 -0.081989939479919408 -0.0063451120130435896 0.0019368513025560391 -0.074109221686398802 0.10035603966060216 0.13210140504533838 0.13579763031091688 0.098047988247521006 -0.1029607955562955 0.14448724369488566 0.18648628104351272 -0.077305285686580891 0.071178100214340428 0.10993896175272401 0.1242212438097724 -0.1272463368000015 -0.096842110928956004 -0.099589127550672993 -0.13211003191870049 -0.0034956071185368726 0.061395011097514676 -0.11690609701170473 -0.069622701197516498 -0.089568524449409451 0.1083613115836761 0.12175849391341421 0.12321223684325883 0.12884214192008711 -0.07389898954840711 0.15193586482091972 0.17010771843709746 -0.045811415833892394 -0.061088507854622408 0.095079547280072813 0.027344446091476602 -0.10802157772758596 -0.098539493237516582 0.14755506182735428 0.042431636527670145 -0.055298824640989945 -0.048355195695749316 -0.0013408195092243155 -0.076180016744381157 0.14869632633745986 -0.077581331306463386 -0.038572040191035301 0.056922484676296459 -0.0017321784562141598 0.074551416401831896 0.01919172884338766 0.023563239657458414 -0.071976378935636742 -0.1028853404265521 0.054599086262752346 -0.047561279043270746 -0.05233195106373046 0.0058615092504849227 -0.0021631880398877011 -0.011436641517272379 0.14060256629526882 0.081672619519589873 -0.018876040373692636 -0.095363301268934456 0.057207171947718641 -0.078400497785667447 0.11507877440642439 -0.041639705881642987 0.0011881750032371775 -0.032747751774114646 -0.0052578947153376476 0.047607930546065949 0.0083909557743339028 0.025181348100667505 0.020267207937375638 -0.067092294918054463 0.044604975679325407 0.074839434211602399 0.044264069426368284 0.014452694454499183 0.040787306364405883 -0.050042184287521566 -0.026514226973864827 -0.022149725475706823 -0.0076659396653331168 0.038876938739511334 0.1118407451647548 0.055195103972637403 0.0014286039183143723;-0.091929446469372594 -0.015942879666529533 0.053542473912087135 0.014161725710948331 -0.084289559062157876 -0.046923042036979494 -0.045944258593444677 0.094931460101838033 0.060418679911089845 0.030894375400955579 -0.043455561324616372 0.038575439918523732 0.074164444278195948 0.044209429680479535 -0.034700607399405954 0.080428049134416077 -0.085372420781717806 -0.11002883009959724 -0.11053998384709533 -0.086378948627468519 0.090139077161569062 -0.11105330475863284 -0.14402542877862351 0.06095186733665886 -0.074191869126893628 -0.093216155030005854 -0.10263911845721002 0.10726370081685682 0.028681531470489543 0.088866231550792457 0.11086485533952666 0.0085304551244800974 -0.060888619388314587 0.055692057500517339 0.072440304543760492 0.0008562204557720942 -0.096796519193209141 -0.075380839250970957 -0.10701717885651262 -0.075190900420064016 0.070159012686824007 -0.12127874124829538 -0.13826805421143992 0.067686249249524696 0.064795114886317992 -0.04407266726298003 -0.050305880484333071 0.047083867817485525 0.080335885612275004 -0.10395425714295121 -0.03111581449729553 -0.012775056723897935 0.062364248881954742 -0.044038097097956974 -0.0032530973260885979 -0.098857237831601746 0.064939620853979224 0.012172114408244792 -0.064894054626196865 0.04509696655604898 -0.069782709552692973 -0.024034857645425258 0.029710421348732443 -0.011562869321206301 0.063243563180044565 -0.052452313755386289 -0.015919305634088839 0.02128218392493484 0.031123639436111503 -0.019648156925929711 0.042632703965568425 -0.076624608784381723 -0.063369973267314306 -0.021552126293471148 0.034546910324169462 0.020157845067805883 0.082198011779991184 -0.086282936662704465 0.056456182083404104 0.041022995105018382 -0.024541105504383084 -0.037106464024524353 0.011742364144675131 0.040025672498375485 -0.04878526908686108 -0.045714533675471999 -0.0091791689085148516 0.0021562048882079708 -0.071966909656715039 0.014010499330291989 -0.044298736085118931 -0.04805118836547289 0.0023263035143853785 0.055970528784570373 -0.0304472959180789 0.043245872487234625 -0.05899300511893852 -0.087357659027918533 -0.067893408389765778 0.041232227911574187];
  
  % Output 1
  y1_step1_ymin = -1;
  y1_step1_gain = [2;2;2];
  y1_step1_xoffset = [0;0;0];
  
  % ===== SIMULATION ========
  
  % Format Input Arguments
  isCellX = iscell(X);
  if ~isCellX, X = {X}; end;
  
  % Dimensions
  TS = size(X,2); % timesteps
  if ~isempty(X)
    Q = size(X{1},2); % samples/series
  else
    Q = 0;
  end
  
  % Allocate Outputs
  Y = cell(1,TS);
  
  % Time loop
  for ts=1:TS
  
    % Input 1
    Xp1 = mapminmax_apply(X{1,ts},x1_step1_gain,x1_step1_xoffset,x1_step1_ymin);
    
    % Layer 1
    a1 = tansig_apply(repmat(b1,1,Q) + IW1_1*Xp1);
    
    % Layer 2
    a2 = repmat(b2,1,Q) + LW2_1*a1;
    
    % Output 1
    Y{1,ts} = mapminmax_reverse(a2,y1_step1_gain,y1_step1_xoffset,y1_step1_ymin);
  end
  
  % Final Delay States
  Xf = cell(1,0);
  Af = cell(2,0);
  
  % Format Output Arguments
  if ~isCellX, Y = cell2mat(Y); end
end

% ===== MODULE FUNCTIONS ========

% Map Minimum and Maximum Input Processing Function
function y = mapminmax_apply(x,settings_gain,settings_xoffset,settings_ymin)
  y = bsxfun(@minus,x,settings_xoffset);
  y = bsxfun(@times,y,settings_gain);
  y = bsxfun(@plus,y,settings_ymin);
end

% Sigmoid Symmetric Transfer Function
function a = tansig_apply(n)
  a = 2 ./ (1 + exp(-2*n)) - 1;
end

% Map Minimum and Maximum Output Reverse-Processing Function
function x = mapminmax_reverse(y,settings_gain,settings_xoffset,settings_ymin)
  x = bsxfun(@minus,y,settings_ymin);
  x = bsxfun(@rdivide,x,settings_gain);
  x = bsxfun(@plus,x,settings_xoffset);
end
